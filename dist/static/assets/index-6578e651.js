(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();function Il(e,t){const r=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)r[i[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const gt={},Ni=[],Zr=()=>{},dh=()=>!1,_h=/^on[^a-z]/,Na=e=>_h.test(e),Ml=e=>e.startsWith("onUpdate:"),Xt=Object.assign,Ol=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},mh=Object.prototype.hasOwnProperty,ut=(e,t)=>mh.call(e,t),tt=Array.isArray,Pi=e=>Fa(e)==="[object Map]",U0=e=>Fa(e)==="[object Set]",st=e=>typeof e=="function",zt=e=>typeof e=="string",Pa=e=>typeof e=="symbol",xt=e=>e!==null&&typeof e=="object",j0=e=>(xt(e)||st(e))&&st(e.then)&&st(e.catch),W0=Object.prototype.toString,Fa=e=>W0.call(e),ph=e=>Fa(e).slice(8,-1),X0=e=>Fa(e)==="[object Object]",Ll=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,da=Il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Da=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},vh=/-(\w)/g,dn=Da(e=>e.replace(vh,(t,r)=>r?r.toUpperCase():"")),gh=/\B([A-Z])/g,gi=Da(e=>e.replace(gh,"-$1").toLowerCase()),Ba=Da(e=>e.charAt(0).toUpperCase()+e.slice(1)),fo=Da(e=>e?"on".concat(Ba(e)):""),pi=(e,t)=>!Object.is(e,t),ho=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Sa=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},bh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ec;const Ko=()=>Ec||(Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hi(e){if(tt(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],s=zt(i)?wh(i):hi(i);if(s)for(const n in s)t[n]=s[n]}return t}else if(zt(e)||xt(e))return e}const yh=/;(?![^(]*\))/g,Eh=/:([^]+)/,Sh=/\/\*[^]*?\*\//g;function wh(e){const t={};return e.replace(Sh,"").split(yh).forEach(r=>{if(r){const i=r.split(Eh);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Je(e){let t="";if(zt(e))t=e;else if(tt(e))for(let r=0;r<e.length;r++){const i=Je(e[r]);i&&(t+=i+" ")}else if(xt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const xh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ah=Il(xh);function Y0(e){return!!e||e===""}const Le=e=>zt(e)?e:e==null?"":tt(e)||xt(e)&&(e.toString===W0||!st(e.toString))?JSON.stringify(e,G0,2):String(e),G0=(e,t)=>t&&t.__v_isRef?G0(e,t.value):Pi(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((r,[i,s])=>(r["".concat(i," =>")]=s,r),{})}:U0(t)?{["Set(".concat(t.size,")")]:[...t.values()]}:xt(t)&&!tt(t)&&!X0(t)?String(t):t;let Xr;class Q0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xr,!t&&Xr&&(this.index=(Xr.scopes||(Xr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Xr;try{return Xr=this,t()}finally{Xr=r}}}on(){Xr=this}off(){Xr=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Th(e){return new Q0(e)}function Ch(e,t=Xr){t&&t.active&&t.effects.push(e)}function Rh(){return Xr}const Nl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},K0=e=>(e.w&Vn)>0,Z0=e=>(e.n&Vn)>0,kh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Vn},Ih=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const s=t[i];K0(s)&&!Z0(s)?s.delete(e):t[r++]=s,s.w&=~Vn,s.n&=~Vn}t.length=r}},Zo=new WeakMap;let hs=0,Vn=1;const Jo=30;let Gr;const di=Symbol(""),el=Symbol("");class Pl{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Ch(this,i)}run(){if(!this.active)return this.fn();let t=Gr,r=zn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Gr,Gr=this,zn=!0,Vn=1<<++hs,hs<=Jo?kh(this):Sc(this),this.fn()}finally{hs<=Jo&&Ih(this),Vn=1<<--hs,Gr=this.parent,zn=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gr===this?this.deferStop=!0:this.active&&(Sc(this),this.onStop&&this.onStop(),this.active=!1)}}function Sc(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let zn=!0;const J0=[];function Qi(){J0.push(zn),zn=!1}function Ki(){const e=J0.pop();zn=e===void 0?!0:e}function fr(e,t,r){if(zn&&Gr){let i=Zo.get(e);i||Zo.set(e,i=new Map);let s=i.get(r);s||i.set(r,s=Nl()),ef(s)}}function ef(e,t){let r=!1;hs<=Jo?Z0(e)||(e.n|=Vn,r=!K0(e)):r=!e.has(Gr),r&&(e.add(Gr),Gr.deps.push(e))}function yn(e,t,r,i,s,n){const o=Zo.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&tt(e)){const l=Number(i);o.forEach((f,c)=>{(c==="length"||!Pa(c)&&c>=l)&&a.push(f)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":tt(e)?Ll(r)&&a.push(o.get("length")):(a.push(o.get(di)),Pi(e)&&a.push(o.get(el)));break;case"delete":tt(e)||(a.push(o.get(di)),Pi(e)&&a.push(o.get(el)));break;case"set":Pi(e)&&a.push(o.get(di));break}if(a.length===1)a[0]&&tl(a[0]);else{const l=[];for(const f of a)f&&l.push(...f);tl(Nl(l))}}function tl(e,t){const r=tt(e)?e:[...e];for(const i of r)i.computed&&wc(i);for(const i of r)i.computed||wc(i)}function wc(e,t){(e!==Gr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Mh=Il("__proto__,__v_isRef,__isVue"),tf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pa)),xc=Oh();function Oh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=ht(this);for(let n=0,o=this.length;n<o;n++)fr(i,"get",n+"");const s=i[t](...r);return s===-1||s===!1?i[t](...r.map(ht)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Qi();const i=ht(this)[t].apply(this,r);return Ki(),i}}),e}function Lh(e){const t=ht(this);return fr(t,"has",e),t.hasOwnProperty(e)}class rf{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,i){const s=this._isReadonly,n=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&i===(s?n?Wh:of:n?af:sf).get(t))return t;const o=tt(t);if(!s){if(o&&ut(xc,r))return Reflect.get(xc,r,i);if(r==="hasOwnProperty")return Lh}const a=Reflect.get(t,r,i);return(Pa(r)?tf.has(r):Mh(r))||(s||fr(t,"get",r),n)?a:jt(a)?o&&Ll(r)?a:a.value:xt(a)?s?cf(a):Ha(a):a}}class nf extends rf{constructor(t=!1){super(!1,t)}set(t,r,i,s){let n=t[r];if(Hi(n)&&jt(n)&&!jt(i))return!1;if(!this._shallow&&(!wa(i)&&!Hi(i)&&(n=ht(n),i=ht(i)),!tt(t)&&jt(n)&&!jt(i)))return n.value=i,!0;const o=tt(t)&&Ll(r)?Number(r)<t.length:ut(t,r),a=Reflect.set(t,r,i,s);return t===ht(s)&&(o?pi(i,n)&&yn(t,"set",r,i):yn(t,"add",r,i)),a}deleteProperty(t,r){const i=ut(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&i&&yn(t,"delete",r,void 0),s}has(t,r){const i=Reflect.has(t,r);return(!Pa(r)||!tf.has(r))&&fr(t,"has",r),i}ownKeys(t){return fr(t,"iterate",tt(t)?"length":di),Reflect.ownKeys(t)}}class Nh extends rf{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Ph=new nf,Fh=new Nh,Dh=new nf(!0),Fl=e=>e,$a=e=>Reflect.getPrototypeOf(e);function Ws(e,t,r=!1,i=!1){e=e.__v_raw;const s=ht(e),n=ht(t);r||(pi(t,n)&&fr(s,"get",t),fr(s,"get",n));const{has:o}=$a(s),a=i?Fl:r?$l:Rs;if(o.call(s,t))return a(e.get(t));if(o.call(s,n))return a(e.get(n));e!==s&&e.get(t)}function Xs(e,t=!1){const r=this.__v_raw,i=ht(r),s=ht(e);return t||(pi(e,s)&&fr(i,"has",e),fr(i,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function Ys(e,t=!1){return e=e.__v_raw,!t&&fr(ht(e),"iterate",di),Reflect.get(e,"size",e)}function Ac(e){e=ht(e);const t=ht(this);return $a(t).has.call(t,e)||(t.add(e),yn(t,"add",e,e)),this}function Tc(e,t){t=ht(t);const r=ht(this),{has:i,get:s}=$a(r);let n=i.call(r,e);n||(e=ht(e),n=i.call(r,e));const o=s.call(r,e);return r.set(e,t),n?pi(t,o)&&yn(r,"set",e,t):yn(r,"add",e,t),this}function Cc(e){const t=ht(this),{has:r,get:i}=$a(t);let s=r.call(t,e);s||(e=ht(e),s=r.call(t,e)),i&&i.call(t,e);const n=t.delete(e);return s&&yn(t,"delete",e,void 0),n}function Rc(){const e=ht(this),t=e.size!==0,r=e.clear();return t&&yn(e,"clear",void 0,void 0),r}function Gs(e,t){return function(i,s){const n=this,o=n.__v_raw,a=ht(o),l=t?Fl:e?$l:Rs;return!e&&fr(a,"iterate",di),o.forEach((f,c)=>i.call(s,l(f),l(c),n))}}function Qs(e,t,r){return function(...i){const s=this.__v_raw,n=ht(s),o=Pi(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,f=s[e](...i),c=r?Fl:t?$l:Rs;return!t&&fr(n,"iterate",l?el:di),{next(){const{value:d,done:m}=f.next();return m?{value:d,done:m}:{value:a?[c(d[0]),c(d[1])]:c(d),done:m}},[Symbol.iterator](){return this}}}}function Cn(e){return function(...t){return e==="delete"?!1:this}}function Bh(){const e={get(n){return Ws(this,n)},get size(){return Ys(this)},has:Xs,add:Ac,set:Tc,delete:Cc,clear:Rc,forEach:Gs(!1,!1)},t={get(n){return Ws(this,n,!1,!0)},get size(){return Ys(this)},has:Xs,add:Ac,set:Tc,delete:Cc,clear:Rc,forEach:Gs(!1,!0)},r={get(n){return Ws(this,n,!0)},get size(){return Ys(this,!0)},has(n){return Xs.call(this,n,!0)},add:Cn("add"),set:Cn("set"),delete:Cn("delete"),clear:Cn("clear"),forEach:Gs(!0,!1)},i={get(n){return Ws(this,n,!0,!0)},get size(){return Ys(this,!0)},has(n){return Xs.call(this,n,!0)},add:Cn("add"),set:Cn("set"),delete:Cn("delete"),clear:Cn("clear"),forEach:Gs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=Qs(n,!1,!1),r[n]=Qs(n,!0,!1),t[n]=Qs(n,!1,!0),i[n]=Qs(n,!0,!0)}),[e,r,t,i]}const[$h,Hh,zh,qh]=Bh();function Dl(e,t){const r=t?e?qh:zh:e?Hh:$h;return(i,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(ut(r,s)&&s in i?r:i,s,n)}const Vh={get:Dl(!1,!1)},Uh={get:Dl(!1,!0)},jh={get:Dl(!0,!1)},sf=new WeakMap,af=new WeakMap,of=new WeakMap,Wh=new WeakMap;function Xh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yh(e){return e.__v_skip||!Object.isExtensible(e)?0:Xh(ph(e))}function Ha(e){return Hi(e)?e:Bl(e,!1,Ph,Vh,sf)}function lf(e){return Bl(e,!1,Dh,Uh,af)}function cf(e){return Bl(e,!0,Fh,jh,of)}function Bl(e,t,r,i,s){if(!xt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=Yh(e);if(o===0)return e;const a=new Proxy(e,o===2?i:r);return s.set(e,a),a}function Fi(e){return Hi(e)?Fi(e.__v_raw):!!(e&&e.__v_isReactive)}function Hi(e){return!!(e&&e.__v_isReadonly)}function wa(e){return!!(e&&e.__v_isShallow)}function uf(e){return Fi(e)||Hi(e)}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function ff(e){return Sa(e,"__v_skip",!0),e}const Rs=e=>xt(e)?Ha(e):e,$l=e=>xt(e)?cf(e):e;function hf(e){zn&&Gr&&(e=ht(e),ef(e.dep||(e.dep=Nl())))}function df(e,t){e=ht(e);const r=e.dep;r&&tl(r)}function jt(e){return!!(e&&e.__v_isRef===!0)}function Qr(e){return mf(e,!1)}function _f(e){return mf(e,!0)}function mf(e,t){return jt(e)?e:new Gh(e,t)}class Gh{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ht(t),this._value=r?t:Rs(t)}get value(){return hf(this),this._value}set value(t){const r=this.__v_isShallow||wa(t)||Hi(t);t=r?t:ht(t),pi(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Rs(t),df(this))}}function Di(e){return jt(e)?e.value:e}const Qh={get:(e,t,r)=>Di(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const s=e[t];return jt(s)&&!jt(r)?(s.value=r,!0):Reflect.set(e,t,r,i)}};function pf(e){return Fi(e)?e:new Proxy(e,Qh)}class Kh{constructor(t,r,i,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pl(t,()=>{this._dirty||(this._dirty=!0,df(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=ht(this);return hf(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Zh(e,t,r=!1){let i,s;const n=st(e);return n?(i=e,s=Zr):(i=e.get,s=e.set),new Kh(i,s,n||!s,r)}function qn(e,t,r,i){let s;try{s=i?e(...i):e()}catch(n){za(n,t,r)}return s}function Jr(e,t,r,i){if(st(e)){const n=qn(e,t,r,i);return n&&j0(n)&&n.catch(o=>{za(o,t,r)}),n}const s=[];for(let n=0;n<e.length;n++)s.push(Jr(e[n],t,r,i));return s}function za(e,t,r,i=!0){const s=t?t.vnode:null;if(t){let n=t.parent;const o=t.proxy,a=r;for(;n;){const f=n.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,o,a)===!1)return}n=n.parent}const l=t.appContext.config.errorHandler;if(l){qn(l,null,10,[e,o,a]);return}}Jh(e,r,s,i)}function Jh(e,t,r,i=!0){console.error(e)}let ks=!1,rl=!1;const Qt=[];let un=0;const Bi=[];let gn=null,li=0;const vf=Promise.resolve();let Hl=null;function gf(e){const t=Hl||vf;return e?t.then(this?e.bind(this):e):t}function ed(e){let t=un+1,r=Qt.length;for(;t<r;){const i=t+r>>>1,s=Qt[i],n=Is(s);n<e||n===e&&s.pre?t=i+1:r=i}return t}function zl(e){(!Qt.length||!Qt.includes(e,ks&&e.allowRecurse?un+1:un))&&(e.id==null?Qt.push(e):Qt.splice(ed(e.id),0,e),bf())}function bf(){!ks&&!rl&&(rl=!0,Hl=vf.then(Ef))}function td(e){const t=Qt.indexOf(e);t>un&&Qt.splice(t,1)}function rd(e){tt(e)?Bi.push(...e):(!gn||!gn.includes(e,e.allowRecurse?li+1:li))&&Bi.push(e),bf()}function kc(e,t=ks?un+1:0){for(;t<Qt.length;t++){const r=Qt[t];r&&r.pre&&(Qt.splice(t,1),t--,r())}}function yf(e){if(Bi.length){const t=[...new Set(Bi)];if(Bi.length=0,gn){gn.push(...t);return}for(gn=t,gn.sort((r,i)=>Is(r)-Is(i)),li=0;li<gn.length;li++)gn[li]();gn=null,li=0}}const Is=e=>e.id==null?1/0:e.id,nd=(e,t)=>{const r=Is(e)-Is(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Ef(e){rl=!1,ks=!0,Qt.sort(nd);const t=Zr;try{for(un=0;un<Qt.length;un++){const r=Qt[un];r&&r.active!==!1&&qn(r,null,14)}}finally{un=0,Qt.length=0,yf(),ks=!1,Hl=null,(Qt.length||Bi.length)&&Ef()}}function id(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||gt;let s=r;const n=t.startsWith("update:"),o=n&&t.slice(7);if(o&&o in i){const c="".concat(o==="modelValue"?"model":o,"Modifiers"),{number:d,trim:m}=i[c]||gt;m&&(s=r.map(b=>zt(b)?b.trim():b)),d&&(s=r.map(bh))}let a,l=i[a=fo(t)]||i[a=fo(dn(t))];!l&&n&&(l=i[a=fo(gi(t))]),l&&Jr(l,e,6,s);const f=i[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Jr(f,e,6,s)}}function Sf(e,t,r=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!st(e)){const l=f=>{const c=Sf(f,t,!0);c&&(a=!0,Xt(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(xt(e)&&i.set(e,null),null):(tt(n)?n.forEach(l=>o[l]=null):Xt(o,n),xt(e)&&i.set(e,o),o)}function qa(e,t){return!e||!Na(t)?!1:(t=t.slice(2).replace(/Once$/,""),ut(e,t[0].toLowerCase()+t.slice(1))||ut(e,gi(t))||ut(e,t))}let Pr=null,Va=null;function xa(e){const t=Pr;return Pr=e,Va=e&&e.type.__scopeId||null,t}function wf(e){Va=e}function xf(){Va=null}function Af(e,t=Pr,r){if(!t||e._n)return e;const i=(...s)=>{i._d&&Hc(-1);const n=xa(t);let o;try{o=e(...s)}finally{xa(n),i._d&&Hc(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function _o(e){const{type:t,vnode:r,proxy:i,withProxy:s,props:n,propsOptions:[o],slots:a,attrs:l,emit:f,render:c,renderCache:d,data:m,setupState:b,ctx:A,inheritAttrs:E}=e;let R,p;const v=xa(e);try{if(r.shapeFlag&4){const x=s||i;R=cn(c.call(x,x,d,n,b,m,A)),p=l}else{const x=t;R=cn(x.length>1?x(n,{attrs:l,slots:a,emit:f}):x(n,null)),p=t.props?l:sd(l)}}catch(x){bs.length=0,za(x,e,1),R=tr(vi)}let S=R;if(p&&E!==!1){const x=Object.keys(p),{shapeFlag:_}=S;x.length&&_&7&&(o&&x.some(Ml)&&(p=ad(p,o)),S=zi(S,p))}return r.dirs&&(S=zi(S),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(S.transition=r.transition),R=S,xa(v),R}const sd=e=>{let t;for(const r in e)(r==="class"||r==="style"||Na(r))&&((t||(t={}))[r]=e[r]);return t},ad=(e,t)=>{const r={};for(const i in e)(!Ml(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function od(e,t,r){const{props:i,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,f=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?Ic(i,o,f):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const m=c[d];if(o[m]!==i[m]&&!qa(f,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Ic(i,o,f):!0:!!o;return!1}function Ic(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(t[n]!==e[n]&&!qa(r,n))return!0}return!1}function ld({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const cd=e=>e.__isSuspense;function ud(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):rd(e)}const Ks={};function _i(e,t,r){return Tf(e,t,r)}function Tf(e,t,{immediate:r,deep:i,flush:s,onTrack:n,onTrigger:o}=gt){var a;const l=Rh()===((a=qt)==null?void 0:a.scope)?qt:null;let f,c=!1,d=!1;if(jt(e)?(f=()=>e.value,c=wa(e)):Fi(e)?(f=()=>e,i=!0):tt(e)?(d=!0,c=e.some(x=>Fi(x)||wa(x)),f=()=>e.map(x=>{if(jt(x))return x.value;if(Fi(x))return ui(x);if(st(x))return qn(x,l,2)})):st(e)?t?f=()=>qn(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),Jr(e,l,3,[b])}:f=Zr,t&&i){const x=f;f=()=>ui(x())}let m,b=x=>{m=v.onStop=()=>{qn(x,l,4)}},A;if(Ls)if(b=Zr,t?r&&Jr(t,l,3,[f(),d?[]:void 0,b]):f(),s==="sync"){const x=r_();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Zr;let E=d?new Array(e.length).fill(Ks):Ks;const R=()=>{if(v.active)if(t){const x=v.run();(i||c||(d?x.some((_,C)=>pi(_,E[C])):pi(x,E)))&&(m&&m(),Jr(t,l,3,[x,E===Ks?void 0:d&&E[0]===Ks?[]:E,b]),E=x)}else v.run()};R.allowRecurse=!!t;let p;s==="sync"?p=R:s==="post"?p=()=>cr(R,l&&l.suspense):(R.pre=!0,l&&(R.id=l.uid),p=()=>zl(R));const v=new Pl(f,p);t?r?R():E=v.run():s==="post"?cr(v.run.bind(v),l&&l.suspense):v.run();const S=()=>{v.stop(),l&&l.scope&&Ol(l.scope.effects,v)};return A&&A.push(S),S}function fd(e,t,r){const i=this.proxy,s=zt(e)?e.includes(".")?Cf(i,e):()=>i[e]:e.bind(i,i);let n;st(t)?n=t:(n=t.handler,r=t);const o=qt;qi(this);const a=Tf(s,n.bind(i),r);return o?qi(o):mi(),a}function Cf(e,t){const r=t.split(".");return()=>{let i=e;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function ui(e,t){if(!xt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),jt(e))ui(e.value,t);else if(tt(e))for(let r=0;r<e.length;r++)ui(e[r],t);else if(U0(e)||Pi(e))e.forEach(r=>{ui(r,t)});else if(X0(e))for(const r in e)ui(e[r],t);return e}function Gn(e,t){const r=Pr;if(r===null)return e;const i=Wa(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,a,l,f=gt]=t[n];o&&(st(o)&&(o={mounted:o,updated:o}),o.deep&&ui(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:f}))}return e}function Qn(e,t,r,i){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[i];l&&(Qi(),Jr(l,r,8,[e.el,a,e,t]),Ki())}}/*! #__NO_SIDE_EFFECTS__ */function Zi(e,t){return st(e)?(()=>Xt({name:e.name},t,{setup:e}))():e}const _a=e=>!!e.type.__asyncLoader,Rf=e=>e.type.__isKeepAlive;function hd(e,t){kf(e,"a",t)}function dd(e,t){kf(e,"da",t)}function kf(e,t,r=qt){const i=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ua(t,i,r),r){let s=r.parent;for(;s&&s.parent;)Rf(s.parent.vnode)&&_d(i,t,r,s),s=s.parent}}function _d(e,t,r,i){const s=Ua(t,e,i,!0);ql(()=>{Ol(i[t],s)},r)}function Ua(e,t,r=qt,i=!1){if(r){const s=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Qi(),qi(r);const a=Jr(t,r,e,o);return mi(),Ki(),a});return i?s.unshift(n):s.push(n),n}}const An=e=>(t,r=qt)=>(!Ls||e==="sp")&&Ua(e,(...i)=>t(...i),r),If=An("bm"),Mf=An("m"),md=An("bu"),pd=An("u"),vd=An("bum"),ql=An("um"),gd=An("sp"),bd=An("rtg"),yd=An("rtc");function Ed(e,t=qt){Ua("ec",e,t)}const Of="components";function Vl(e,t){return wd(Of,e,!0,t)||e}const Sd=Symbol.for("v-ndc");function wd(e,t,r=!0,i=!1){const s=Pr||qt;if(s){const n=s.type;if(e===Of){const a=Jd(n,!1);if(a&&(a===t||a===dn(t)||a===Ba(dn(t))))return n}const o=Mc(s[e]||n[e],t)||Mc(s.appContext[e],t);return!o&&i?n:o}}function Mc(e,t){return e&&(e[t]||e[dn(t)]||e[Ba(dn(t))])}function on(e,t,r,i){let s;const n=r&&r[i];if(tt(e)||zt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,n&&n[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,n&&n[o])}else if(xt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,n&&n[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const f=o[a];s[a]=t(e[f],f,a,n&&n[a])}}else s=[];return r&&(r[i]=s),s}const nl=e=>e?Uf(e)?Wa(e)||e.proxy:nl(e.parent):null,gs=Xt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>nl(e.parent),$root:e=>nl(e.root),$emit:e=>e.emit,$options:e=>Ul(e),$forceUpdate:e=>e.f||(e.f=()=>zl(e.update)),$nextTick:e=>e.n||(e.n=gf.bind(e.proxy)),$watch:e=>fd.bind(e)}),mo=(e,t)=>e!==gt&&!e.__isScriptSetup&&ut(e,t),xd={get({_:e},t){const{ctx:r,setupState:i,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return n[t]}else{if(mo(i,t))return o[t]=1,i[t];if(s!==gt&&ut(s,t))return o[t]=2,s[t];if((f=e.propsOptions[0])&&ut(f,t))return o[t]=3,n[t];if(r!==gt&&ut(r,t))return o[t]=4,r[t];il&&(o[t]=0)}}const c=gs[t];let d,m;if(c)return t==="$attrs"&&fr(e,"get",t),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==gt&&ut(r,t))return o[t]=4,r[t];if(m=l.config.globalProperties,ut(m,t))return m[t]},set({_:e},t,r){const{data:i,setupState:s,ctx:n}=e;return mo(s,t)?(s[t]=r,!0):i!==gt&&ut(i,t)?(i[t]=r,!0):ut(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:s,propsOptions:n}},o){let a;return!!r[o]||e!==gt&&ut(e,o)||mo(t,o)||(a=n[0])&&ut(a,o)||ut(i,o)||ut(gs,o)||ut(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ut(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Oc(e){return tt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let il=!0;function Ad(e){const t=Ul(e),r=e.proxy,i=e.ctx;il=!1,t.beforeCreate&&Lc(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:f,created:c,beforeMount:d,mounted:m,beforeUpdate:b,updated:A,activated:E,deactivated:R,beforeDestroy:p,beforeUnmount:v,destroyed:S,unmounted:x,render:_,renderTracked:C,renderTriggered:O,errorCaptured:N,serverPrefetch:k,expose:B,inheritAttrs:te,components:F,directives:T,filters:h}=t;if(f&&Td(f,i,null),o)for(const W in o){const K=o[W];st(K)&&(i[W]=K.bind(r))}if(s){const W=s.call(r,r);xt(W)&&(e.data=Ha(W))}if(il=!0,n)for(const W in n){const K=n[W],Z=st(K)?K.bind(r,r):st(K.get)?K.get.bind(r,r):Zr,ee=!st(K)&&st(K.set)?K.set.bind(r):Zr,z=Ot({get:Z,set:ee});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>z.value,set:y=>z.value=y})}if(a)for(const W in a)Lf(a[W],i,r,W);if(l){const W=st(l)?l.call(r):l;Reflect.ownKeys(W).forEach(K=>{ma(K,W[K])})}c&&Lc(c,e,"c");function Q(W,K){tt(K)?K.forEach(Z=>W(Z.bind(r))):K&&W(K.bind(r))}if(Q(If,d),Q(Mf,m),Q(md,b),Q(pd,A),Q(hd,E),Q(dd,R),Q(Ed,N),Q(yd,C),Q(bd,O),Q(vd,v),Q(ql,x),Q(gd,k),tt(B))if(B.length){const W=e.exposed||(e.exposed={});B.forEach(K=>{Object.defineProperty(W,K,{get:()=>r[K],set:Z=>r[K]=Z})})}else e.exposed||(e.exposed={});_&&e.render===Zr&&(e.render=_),te!=null&&(e.inheritAttrs=te),F&&(e.components=F),T&&(e.directives=T)}function Td(e,t,r=Zr){tt(e)&&(e=sl(e));for(const i in e){const s=e[i];let n;xt(s)?"default"in s?n=fn(s.from||i,s.default,!0):n=fn(s.from||i):n=fn(s),jt(n)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[i]=n}}function Lc(e,t,r){Jr(tt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function Lf(e,t,r,i){const s=i.includes(".")?Cf(r,i):()=>r[i];if(zt(e)){const n=t[e];st(n)&&_i(s,n)}else if(st(e))_i(s,e.bind(r));else if(xt(e))if(tt(e))e.forEach(n=>Lf(n,t,r,i));else{const n=st(e.handler)?e.handler.bind(r):t[e.handler];st(n)&&_i(s,n,e)}}function Ul(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!r&&!i?l=t:(l={},s.length&&s.forEach(f=>Aa(l,f,o,!0)),Aa(l,t,o)),xt(t)&&n.set(t,l),l}function Aa(e,t,r,i=!1){const{mixins:s,extends:n}=t;n&&Aa(e,n,r,!0),s&&s.forEach(o=>Aa(e,o,r,!0));for(const o in t)if(!(i&&o==="expose")){const a=Cd[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Cd={data:Nc,props:Pc,emits:Pc,methods:ds,computed:ds,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:ds,directives:ds,watch:kd,provide:Nc,inject:Rd};function Nc(e,t){return t?e?function(){return Xt(st(e)?e.call(this,this):e,st(t)?t.call(this,this):t)}:t:e}function Rd(e,t){return ds(sl(e),sl(t))}function sl(e){if(tt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Zt(e,t){return e?[...new Set([].concat(e,t))]:t}function ds(e,t){return e?Xt(Object.create(null),e,t):t}function Pc(e,t){return e?tt(e)&&tt(t)?[...new Set([...e,...t])]:Xt(Object.create(null),Oc(e),Oc(t!=null?t:{})):t}function kd(e,t){if(!e)return t;if(!t)return e;const r=Xt(Object.create(null),e);for(const i in t)r[i]=Zt(e[i],t[i]);return r}function Nf(){return{app:null,config:{isNativeTag:dh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Id=0;function Md(e,t){return function(i,s=null){st(i)||(i=Xt({},i)),s!=null&&!xt(s)&&(s=null);const n=Nf(),o=new WeakSet;let a=!1;const l=n.app={_uid:Id++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:n_,get config(){return n.config},set config(f){},use(f,...c){return o.has(f)||(f&&st(f.install)?(o.add(f),f.install(l,...c)):st(f)&&(o.add(f),f(l,...c))),l},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),l},component(f,c){return c?(n.components[f]=c,l):n.components[f]},directive(f,c){return c?(n.directives[f]=c,l):n.directives[f]},mount(f,c,d){if(!a){const m=tr(i,s);return m.appContext=n,c&&t?t(m,f):e(m,f,d),a=!0,l._container=f,f.__vue_app__=l,Wa(m.component)||m.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,c){return n.provides[f]=c,l},runWithContext(f){Ta=l;try{return f()}finally{Ta=null}}};return l}}let Ta=null;function ma(e,t){if(qt){let r=qt.provides;const i=qt.parent&&qt.parent.provides;i===r&&(r=qt.provides=Object.create(i)),r[e]=t}}function fn(e,t,r=!1){const i=qt||Pr;if(i||Ta){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ta._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&st(t)?t.call(i&&i.proxy):t}}function Od(e,t,r,i=!1){const s={},n={};Sa(n,ja,1),e.propsDefaults=Object.create(null),Pf(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=i?s:lf(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function Ld(e,t,r,i){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=ht(s),[l]=e.propsOptions;let f=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let m=c[d];if(qa(e.emitsOptions,m))continue;const b=t[m];if(l)if(ut(n,m))b!==n[m]&&(n[m]=b,f=!0);else{const A=dn(m);s[A]=al(l,a,A,b,e,!1)}else b!==n[m]&&(n[m]=b,f=!0)}}}else{Pf(e,t,s,n)&&(f=!0);let c;for(const d in a)(!t||!ut(t,d)&&((c=gi(d))===d||!ut(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(s[d]=al(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!ut(t,d))&&(delete n[d],f=!0)}f&&yn(e,"set","$attrs")}function Pf(e,t,r,i){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(da(l))continue;const f=t[l];let c;s&&ut(s,c=dn(l))?!n||!n.includes(c)?r[c]=f:(a||(a={}))[c]=f:qa(e.emitsOptions,l)||(!(l in i)||f!==i[l])&&(i[l]=f,o=!0)}if(n){const l=ht(r),f=a||gt;for(let c=0;c<n.length;c++){const d=n[c];r[d]=al(s,l,d,f[d],e,!ut(f,d))}}return o}function al(e,t,r,i,s,n){const o=e[r];if(o!=null){const a=ut(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&st(l)){const{propsDefaults:f}=s;r in f?i=f[r]:(qi(s),i=f[r]=l.call(null,t),mi())}else i=l}o[0]&&(n&&!a?i=!1:o[1]&&(i===""||i===gi(r))&&(i=!0))}return i}function Ff(e,t,r=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!st(e)){const c=d=>{l=!0;const[m,b]=Ff(d,t,!0);Xt(o,m),b&&a.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!n&&!l)return xt(e)&&i.set(e,Ni),Ni;if(tt(n))for(let c=0;c<n.length;c++){const d=dn(n[c]);Fc(d)&&(o[d]=gt)}else if(n)for(const c in n){const d=dn(c);if(Fc(d)){const m=n[c],b=o[d]=tt(m)||st(m)?{type:m}:Xt({},m);if(b){const A=$c(Boolean,b.type),E=$c(String,b.type);b[0]=A>-1,b[1]=E<0||A<E,(A>-1||ut(b,"default"))&&a.push(d)}}}const f=[o,a];return xt(e)&&i.set(e,f),f}function Fc(e){return e[0]!=="$"}function Dc(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Bc(e,t){return Dc(e)===Dc(t)}function $c(e,t){return tt(t)?t.findIndex(r=>Bc(r,e)):st(t)&&Bc(t,e)?0:-1}const Df=e=>e[0]==="_"||e==="$stable",jl=e=>tt(e)?e.map(cn):[cn(e)],Nd=(e,t,r)=>{if(t._n)return t;const i=Af((...s)=>jl(t(...s)),r);return i._c=!1,i},Bf=(e,t,r)=>{const i=e._ctx;for(const s in e){if(Df(s))continue;const n=e[s];if(st(n))t[s]=Nd(s,n,i);else if(n!=null){const o=jl(n);t[s]=()=>o}}},$f=(e,t)=>{const r=jl(t);e.slots.default=()=>r},Pd=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ht(t),Sa(t,"_",r)):Bf(t,e.slots={})}else e.slots={},t&&$f(e,t);Sa(e.slots,ja,1)},Fd=(e,t,r)=>{const{vnode:i,slots:s}=e;let n=!0,o=gt;if(i.shapeFlag&32){const a=t._;a?r&&a===1?n=!1:(Xt(s,t),!r&&a===1&&delete s._):(n=!t.$stable,Bf(t,s)),o=t}else t&&($f(e,t),o={default:1});if(n)for(const a in s)!Df(a)&&o[a]==null&&delete s[a]};function ol(e,t,r,i,s=!1){if(tt(e)){e.forEach((m,b)=>ol(m,t&&(tt(t)?t[b]:t),r,i,s));return}if(_a(i)&&!s)return;const n=i.shapeFlag&4?Wa(i.component)||i.component.proxy:i.el,o=s?null:n,{i:a,r:l}=e,f=t&&t.r,c=a.refs===gt?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(zt(f)?(c[f]=null,ut(d,f)&&(d[f]=null)):jt(f)&&(f.value=null)),st(l))qn(l,a,12,[o,c]);else{const m=zt(l),b=jt(l);if(m||b){const A=()=>{if(e.f){const E=m?ut(d,l)?d[l]:c[l]:l.value;s?tt(E)&&Ol(E,n):tt(E)?E.includes(n)||E.push(n):m?(c[l]=[n],ut(d,l)&&(d[l]=c[l])):(l.value=[n],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,ut(d,l)&&(d[l]=o)):b&&(l.value=o,e.k&&(c[e.k]=o))};o?(A.id=-1,cr(A,r)):A()}}}const cr=ud;function Dd(e){return Bd(e)}function Bd(e,t){const r=Ko();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:f,setElementText:c,parentNode:d,nextSibling:m,setScopeId:b=Zr,insertStaticContent:A}=e,E=(Y,L,u,D=null,U=null,$=null,j=!1,g=null,I=!!L.dynamicChildren)=>{if(Y===L)return;Y&&!ss(Y,L)&&(D=J(Y),y(Y,U,$,!0),Y=null),L.patchFlag===-2&&(I=!1,L.dynamicChildren=null);const{type:oe,ref:ie,shapeFlag:he}=L;switch(oe){case $s:R(Y,L,u,D);break;case vi:p(Y,L,u,D);break;case po:Y==null&&v(L,u,D,j);break;case mt:F(Y,L,u,D,U,$,j,g,I);break;default:he&1?_(Y,L,u,D,U,$,j,g,I):he&6?T(Y,L,u,D,U,$,j,g,I):(he&64||he&128)&&oe.process(Y,L,u,D,U,$,j,g,I,V)}ie!=null&&U&&ol(ie,Y&&Y.ref,$,L||Y,!L)},R=(Y,L,u,D)=>{if(Y==null)i(L.el=a(L.children),u,D);else{const U=L.el=Y.el;L.children!==Y.children&&f(U,L.children)}},p=(Y,L,u,D)=>{Y==null?i(L.el=l(L.children||""),u,D):L.el=Y.el},v=(Y,L,u,D)=>{[Y.el,Y.anchor]=A(Y.children,L,u,D,Y.el,Y.anchor)},S=({el:Y,anchor:L},u,D)=>{let U;for(;Y&&Y!==L;)U=m(Y),i(Y,u,D),Y=U;i(L,u,D)},x=({el:Y,anchor:L})=>{let u;for(;Y&&Y!==L;)u=m(Y),s(Y),Y=u;s(L)},_=(Y,L,u,D,U,$,j,g,I)=>{j=j||L.type==="svg",Y==null?C(L,u,D,U,$,j,g,I):k(Y,L,U,$,j,g,I)},C=(Y,L,u,D,U,$,j,g)=>{let I,oe;const{type:ie,props:he,shapeFlag:se,transition:ne,dirs:me}=Y;if(I=Y.el=o(Y.type,$,he&&he.is,he),se&8?c(I,Y.children):se&16&&N(Y.children,I,null,D,U,$&&ie!=="foreignObject",j,g),me&&Qn(Y,null,D,"created"),O(I,Y,Y.scopeId,j,D),he){for(const Ee in he)Ee!=="value"&&!da(Ee)&&n(I,Ee,null,he[Ee],$,Y.children,D,U,ae);"value"in he&&n(I,"value",null,he.value),(oe=he.onVnodeBeforeMount)&&nn(oe,D,Y)}me&&Qn(Y,null,D,"beforeMount");const Re=$d(U,ne);Re&&ne.beforeEnter(I),i(I,L,u),((oe=he&&he.onVnodeMounted)||Re||me)&&cr(()=>{oe&&nn(oe,D,Y),Re&&ne.enter(I),me&&Qn(Y,null,D,"mounted")},U)},O=(Y,L,u,D,U)=>{if(u&&b(Y,u),D)for(let $=0;$<D.length;$++)b(Y,D[$]);if(U){let $=U.subTree;if(L===$){const j=U.vnode;O(Y,j,j.scopeId,j.slotScopeIds,U.parent)}}},N=(Y,L,u,D,U,$,j,g,I=0)=>{for(let oe=I;oe<Y.length;oe++){const ie=Y[oe]=g?Ln(Y[oe]):cn(Y[oe]);E(null,ie,L,u,D,U,$,j,g)}},k=(Y,L,u,D,U,$,j)=>{const g=L.el=Y.el;let{patchFlag:I,dynamicChildren:oe,dirs:ie}=L;I|=Y.patchFlag&16;const he=Y.props||gt,se=L.props||gt;let ne;u&&Kn(u,!1),(ne=se.onVnodeBeforeUpdate)&&nn(ne,u,L,Y),ie&&Qn(L,Y,u,"beforeUpdate"),u&&Kn(u,!0);const me=U&&L.type!=="foreignObject";if(oe?B(Y.dynamicChildren,oe,g,u,D,me,$):j||K(Y,L,g,null,u,D,me,$,!1),I>0){if(I&16)te(g,L,he,se,u,D,U);else if(I&2&&he.class!==se.class&&n(g,"class",null,se.class,U),I&4&&n(g,"style",he.style,se.style,U),I&8){const Re=L.dynamicProps;for(let Ee=0;Ee<Re.length;Ee++){const Ce=Re[Ee],qe=he[Ce],Ge=se[Ce];(Ge!==qe||Ce==="value")&&n(g,Ce,qe,Ge,U,Y.children,u,D,ae)}}I&1&&Y.children!==L.children&&c(g,L.children)}else!j&&oe==null&&te(g,L,he,se,u,D,U);((ne=se.onVnodeUpdated)||ie)&&cr(()=>{ne&&nn(ne,u,L,Y),ie&&Qn(L,Y,u,"updated")},D)},B=(Y,L,u,D,U,$,j)=>{for(let g=0;g<L.length;g++){const I=Y[g],oe=L[g],ie=I.el&&(I.type===mt||!ss(I,oe)||I.shapeFlag&70)?d(I.el):u;E(I,oe,ie,null,D,U,$,j,!0)}},te=(Y,L,u,D,U,$,j)=>{if(u!==D){if(u!==gt)for(const g in u)!da(g)&&!(g in D)&&n(Y,g,u[g],null,j,L.children,U,$,ae);for(const g in D){if(da(g))continue;const I=D[g],oe=u[g];I!==oe&&g!=="value"&&n(Y,g,oe,I,j,L.children,U,$,ae)}"value"in D&&n(Y,"value",u.value,D.value)}},F=(Y,L,u,D,U,$,j,g,I)=>{const oe=L.el=Y?Y.el:a(""),ie=L.anchor=Y?Y.anchor:a("");let{patchFlag:he,dynamicChildren:se,slotScopeIds:ne}=L;ne&&(g=g?g.concat(ne):ne),Y==null?(i(oe,u,D),i(ie,u,D),N(L.children,u,ie,U,$,j,g,I)):he>0&&he&64&&se&&Y.dynamicChildren?(B(Y.dynamicChildren,se,u,U,$,j,g),(L.key!=null||U&&L===U.subTree)&&Hf(Y,L,!0)):K(Y,L,u,ie,U,$,j,g,I)},T=(Y,L,u,D,U,$,j,g,I)=>{L.slotScopeIds=g,Y==null?L.shapeFlag&512?U.ctx.activate(L,u,D,j,I):h(L,u,D,U,$,j,I):H(Y,L,I)},h=(Y,L,u,D,U,$,j)=>{const g=Y.component=Yd(Y,D,U);if(Rf(Y)&&(g.ctx.renderer=V),Gd(g),g.asyncDep){if(U&&U.registerDep(g,Q),!Y.el){const I=g.subTree=tr(vi);p(null,I,L,u)}return}Q(g,Y,L,u,U,$,j)},H=(Y,L,u)=>{const D=L.component=Y.component;if(od(Y,L,u))if(D.asyncDep&&!D.asyncResolved){W(D,L,u);return}else D.next=L,td(D.update),D.update();else L.el=Y.el,D.vnode=L},Q=(Y,L,u,D,U,$,j)=>{const g=()=>{if(Y.isMounted){let{next:ie,bu:he,u:se,parent:ne,vnode:me}=Y,Re=ie,Ee;Kn(Y,!1),ie?(ie.el=me.el,W(Y,ie,j)):ie=me,he&&ho(he),(Ee=ie.props&&ie.props.onVnodeBeforeUpdate)&&nn(Ee,ne,ie,me),Kn(Y,!0);const Ce=_o(Y),qe=Y.subTree;Y.subTree=Ce,E(qe,Ce,d(qe.el),J(qe),Y,U,$),ie.el=Ce.el,Re===null&&ld(Y,Ce.el),se&&cr(se,U),(Ee=ie.props&&ie.props.onVnodeUpdated)&&cr(()=>nn(Ee,ne,ie,me),U)}else{let ie;const{el:he,props:se}=L,{bm:ne,m:me,parent:Re}=Y,Ee=_a(L);if(Kn(Y,!1),ne&&ho(ne),!Ee&&(ie=se&&se.onVnodeBeforeMount)&&nn(ie,Re,L),Kn(Y,!0),he&&_e){const Ce=()=>{Y.subTree=_o(Y),_e(he,Y.subTree,Y,U,null)};Ee?L.type.__asyncLoader().then(()=>!Y.isUnmounted&&Ce()):Ce()}else{const Ce=Y.subTree=_o(Y);E(null,Ce,u,D,Y,U,$),L.el=Ce.el}if(me&&cr(me,U),!Ee&&(ie=se&&se.onVnodeMounted)){const Ce=L;cr(()=>nn(ie,Re,Ce),U)}(L.shapeFlag&256||Re&&_a(Re.vnode)&&Re.vnode.shapeFlag&256)&&Y.a&&cr(Y.a,U),Y.isMounted=!0,L=u=D=null}},I=Y.effect=new Pl(g,()=>zl(oe),Y.scope),oe=Y.update=()=>I.run();oe.id=Y.uid,Kn(Y,!0),oe()},W=(Y,L,u)=>{L.component=Y;const D=Y.vnode.props;Y.vnode=L,Y.next=null,Ld(Y,L.props,D,u),Fd(Y,L.children,u),Qi(),kc(),Ki()},K=(Y,L,u,D,U,$,j,g,I=!1)=>{const oe=Y&&Y.children,ie=Y?Y.shapeFlag:0,he=L.children,{patchFlag:se,shapeFlag:ne}=L;if(se>0){if(se&128){ee(oe,he,u,D,U,$,j,g,I);return}else if(se&256){Z(oe,he,u,D,U,$,j,g,I);return}}ne&8?(ie&16&&ae(oe,U,$),he!==oe&&c(u,he)):ie&16?ne&16?ee(oe,he,u,D,U,$,j,g,I):ae(oe,U,$,!0):(ie&8&&c(u,""),ne&16&&N(he,u,D,U,$,j,g,I))},Z=(Y,L,u,D,U,$,j,g,I)=>{Y=Y||Ni,L=L||Ni;const oe=Y.length,ie=L.length,he=Math.min(oe,ie);let se;for(se=0;se<he;se++){const ne=L[se]=I?Ln(L[se]):cn(L[se]);E(Y[se],ne,u,null,U,$,j,g,I)}oe>ie?ae(Y,U,$,!0,!1,he):N(L,u,D,U,$,j,g,I,he)},ee=(Y,L,u,D,U,$,j,g,I)=>{let oe=0;const ie=L.length;let he=Y.length-1,se=ie-1;for(;oe<=he&&oe<=se;){const ne=Y[oe],me=L[oe]=I?Ln(L[oe]):cn(L[oe]);if(ss(ne,me))E(ne,me,u,null,U,$,j,g,I);else break;oe++}for(;oe<=he&&oe<=se;){const ne=Y[he],me=L[se]=I?Ln(L[se]):cn(L[se]);if(ss(ne,me))E(ne,me,u,null,U,$,j,g,I);else break;he--,se--}if(oe>he){if(oe<=se){const ne=se+1,me=ne<ie?L[ne].el:D;for(;oe<=se;)E(null,L[oe]=I?Ln(L[oe]):cn(L[oe]),u,me,U,$,j,g,I),oe++}}else if(oe>se)for(;oe<=he;)y(Y[oe],U,$,!0),oe++;else{const ne=oe,me=oe,Re=new Map;for(oe=me;oe<=se;oe++){const ce=L[oe]=I?Ln(L[oe]):cn(L[oe]);ce.key!=null&&Re.set(ce.key,oe)}let Ee,Ce=0;const qe=se-me+1;let Ge=!1,Xe=0;const X=new Array(qe);for(oe=0;oe<qe;oe++)X[oe]=0;for(oe=ne;oe<=he;oe++){const ce=Y[oe];if(Ce>=qe){y(ce,U,$,!0);continue}let fe;if(ce.key!=null)fe=Re.get(ce.key);else for(Ee=me;Ee<=se;Ee++)if(X[Ee-me]===0&&ss(ce,L[Ee])){fe=Ee;break}fe===void 0?y(ce,U,$,!0):(X[fe-me]=oe+1,fe>=Xe?Xe=fe:Ge=!0,E(ce,L[fe],u,null,U,$,j,g,I),Ce++)}const G=Ge?Hd(X):Ni;for(Ee=G.length-1,oe=qe-1;oe>=0;oe--){const ce=me+oe,fe=L[ce],ve=ce+1<ie?L[ce+1].el:D;X[oe]===0?E(null,fe,u,ve,U,$,j,g,I):Ge&&(Ee<0||oe!==G[Ee]?z(fe,u,ve,2):Ee--)}}},z=(Y,L,u,D,U=null)=>{const{el:$,type:j,transition:g,children:I,shapeFlag:oe}=Y;if(oe&6){z(Y.component.subTree,L,u,D);return}if(oe&128){Y.suspense.move(L,u,D);return}if(oe&64){j.move(Y,L,u,V);return}if(j===mt){i($,L,u);for(let he=0;he<I.length;he++)z(I[he],L,u,D);i(Y.anchor,L,u);return}if(j===po){S(Y,L,u);return}if(D!==2&&oe&1&&g)if(D===0)g.beforeEnter($),i($,L,u),cr(()=>g.enter($),U);else{const{leave:he,delayLeave:se,afterLeave:ne}=g,me=()=>i($,L,u),Re=()=>{he($,()=>{me(),ne&&ne()})};se?se($,me,Re):Re()}else i($,L,u)},y=(Y,L,u,D=!1,U=!1)=>{const{type:$,props:j,ref:g,children:I,dynamicChildren:oe,shapeFlag:ie,patchFlag:he,dirs:se}=Y;if(g!=null&&ol(g,null,u,Y,!0),ie&256){L.ctx.deactivate(Y);return}const ne=ie&1&&se,me=!_a(Y);let Re;if(me&&(Re=j&&j.onVnodeBeforeUnmount)&&nn(Re,L,Y),ie&6)P(Y.component,u,D);else{if(ie&128){Y.suspense.unmount(u,D);return}ne&&Qn(Y,null,L,"beforeUnmount"),ie&64?Y.type.remove(Y,L,u,U,V,D):oe&&($!==mt||he>0&&he&64)?ae(oe,L,u,!1,!0):($===mt&&he&384||!U&&ie&16)&&ae(I,L,u),D&&M(Y)}(me&&(Re=j&&j.onVnodeUnmounted)||ne)&&cr(()=>{Re&&nn(Re,L,Y),ne&&Qn(Y,null,L,"unmounted")},u)},M=Y=>{const{type:L,el:u,anchor:D,transition:U}=Y;if(L===mt){w(u,D);return}if(L===po){x(Y);return}const $=()=>{s(u),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(Y.shapeFlag&1&&U&&!U.persisted){const{leave:j,delayLeave:g}=U,I=()=>j(u,$);g?g(Y.el,$,I):I()}else $()},w=(Y,L)=>{let u;for(;Y!==L;)u=m(Y),s(Y),Y=u;s(L)},P=(Y,L,u)=>{const{bum:D,scope:U,update:$,subTree:j,um:g}=Y;D&&ho(D),U.stop(),$&&($.active=!1,y(j,Y,L,u)),g&&cr(g,L),cr(()=>{Y.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},ae=(Y,L,u,D=!1,U=!1,$=0)=>{for(let j=$;j<Y.length;j++)y(Y[j],L,u,D,U)},J=Y=>Y.shapeFlag&6?J(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():m(Y.anchor||Y.el),re=(Y,L,u)=>{Y==null?L._vnode&&y(L._vnode,null,null,!0):E(L._vnode||null,Y,L,null,null,null,u),kc(),yf(),L._vnode=Y},V={p:E,um:y,m:z,r:M,mt:h,mc:N,pc:K,pbc:B,n:J,o:e};let ue,_e;return t&&([ue,_e]=t(V)),{render:re,hydrate:ue,createApp:Md(re,ue)}}function Kn({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function $d(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Hf(e,t,r=!1){const i=e.children,s=t.children;if(tt(i)&&tt(s))for(let n=0;n<i.length;n++){const o=i[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=Ln(s[n]),a.el=o.el),r||Hf(o,a)),a.type===$s&&(a.el=o.el)}}function Hd(e){const t=e.slice(),r=[0];let i,s,n,o,a;const l=e.length;for(i=0;i<l;i++){const f=e[i];if(f!==0){if(s=r[r.length-1],e[s]<f){t[i]=s,r.push(i);continue}for(n=0,o=r.length-1;n<o;)a=n+o>>1,e[r[a]]<f?n=a+1:o=a;f<e[r[n]]&&(n>0&&(t[i]=r[n-1]),r[n]=i)}}for(n=r.length,o=r[n-1];n-- >0;)r[n]=o,o=t[o];return r}const zd=e=>e.__isTeleport,mt=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),vi=Symbol.for("v-cmt"),po=Symbol.for("v-stc"),bs=[];let Kr=null;function Ae(e=!1){bs.push(Kr=e?null:[])}function qd(){bs.pop(),Kr=bs[bs.length-1]||null}let Ms=1;function Hc(e){Ms+=e}function zf(e){return e.dynamicChildren=Ms>0?Kr||Ni:null,qd(),Ms>0&&Kr&&Kr.push(e),e}function Te(e,t,r,i,s,n){return zf(q(e,t,r,i,s,n,!0))}function qf(e,t,r,i,s){return zf(tr(e,t,r,i,s,!0))}function ll(e){return e?e.__v_isVNode===!0:!1}function ss(e,t){return e.type===t.type&&e.key===t.key}const ja="__vInternal",Vf=({key:e})=>e!=null?e:null,pa=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||jt(e)||st(e)?{i:Pr,r:e,k:t,f:!!r}:e:null);function q(e,t=null,r=null,i=0,s=null,n=e===mt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vf(t),ref:t&&pa(t),scopeId:Va,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Pr};return a?(Wl(l,r),n&128&&e.normalize(l)):r&&(l.shapeFlag|=zt(r)?8:16),Ms>0&&!o&&Kr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Kr.push(l),l}const tr=Vd;function Vd(e,t=null,r=null,i=0,s=null,n=!1){if((!e||e===Sd)&&(e=vi),ll(e)){const a=zi(e,t,!0);return r&&Wl(a,r),Ms>0&&!n&&Kr&&(a.shapeFlag&6?Kr[Kr.indexOf(e)]=a:Kr.push(a)),a.patchFlag|=-2,a}if(e_(e)&&(e=e.__vccOpts),t){t=Ud(t);let{class:a,style:l}=t;a&&!zt(a)&&(t.class=Je(a)),xt(l)&&(uf(l)&&!tt(l)&&(l=Xt({},l)),t.style=hi(l))}const o=zt(e)?1:cd(e)?128:zd(e)?64:xt(e)?4:st(e)?2:0;return q(e,t,r,i,s,o,n,!0)}function Ud(e){return e?uf(e)||ja in e?Xt({},e):e:null}function zi(e,t,r=!1){const{props:i,ref:s,patchFlag:n,children:o}=e,a=t?jd(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Vf(a),ref:t&&t.ref?r&&s?tt(s)?s.concat(pa(t)):[s,pa(t)]:pa(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==mt?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zi(e.ssContent),ssFallback:e.ssFallback&&zi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Dt(e=" ",t=0){return tr($s,null,e,t)}function Ve(e="",t=!1){return t?(Ae(),qf(vi,null,e)):tr(vi,null,e)}function cn(e){return e==null||typeof e=="boolean"?tr(vi):tt(e)?tr(mt,null,e.slice()):typeof e=="object"?Ln(e):tr($s,null,String(e))}function Ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zi(e)}function Wl(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(tt(t))r=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Wl(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(ja in t)?t._ctx=Pr:s===3&&Pr&&(Pr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else st(t)?(t={default:t,_ctx:Pr},r=32):(t=String(t),i&64?(r=16,t=[Dt(t)]):r=8);e.children=t,e.shapeFlag|=r}function jd(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Je([t.class,i.class]));else if(s==="style")t.style=hi([t.style,i.style]);else if(Na(s)){const n=t[s],o=i[s];o&&n!==o&&!(tt(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=i[s])}return t}function nn(e,t,r,i=null){Jr(e,t,7,[r,i])}const Wd=Nf();let Xd=0;function Yd(e,t,r){const i=e.type,s=(t?t.appContext:e.appContext)||Wd,n={uid:Xd++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Q0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ff(i,s),emitsOptions:Sf(i,s),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:i.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=id.bind(null,n),e.ce&&e.ce(n),n}let qt=null;const Os=()=>qt||Pr;let Xl,Ei,zc="__VUE_INSTANCE_SETTERS__";(Ei=Ko()[zc])||(Ei=Ko()[zc]=[]),Ei.push(e=>qt=e),Xl=e=>{Ei.length>1?Ei.forEach(t=>t(e)):Ei[0](e)};const qi=e=>{Xl(e),e.scope.on()},mi=()=>{qt&&qt.scope.off(),Xl(null)};function Uf(e){return e.vnode.shapeFlag&4}let Ls=!1;function Gd(e,t=!1){Ls=t;const{props:r,children:i}=e.vnode,s=Uf(e);Od(e,r,s,t),Pd(e,i);const n=s?Qd(e,t):void 0;return Ls=!1,n}function Qd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ff(new Proxy(e.ctx,xd));const{setup:i}=r;if(i){const s=e.setupContext=i.length>1?Zd(e):null;qi(e),Qi();const n=qn(i,e,0,[e.props,s]);if(Ki(),mi(),j0(n)){if(n.then(mi,mi),t)return n.then(o=>{qc(e,o,t)}).catch(o=>{za(o,e,0)});e.asyncDep=n}else qc(e,n,t)}else jf(e,t)}function qc(e,t,r){st(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xt(t)&&(e.setupState=pf(t)),jf(e,r)}let Vc;function jf(e,t,r){const i=e.type;if(!e.render){if(!t&&Vc&&!i.render){const s=i.template||Ul(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,f=Xt(Xt({isCustomElement:n,delimiters:a},o),l);i.render=Vc(s,f)}}e.render=i.render||Zr}{qi(e),Qi();try{Ad(e)}finally{Ki(),mi()}}}function Kd(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return fr(e,"get","$attrs"),t[r]}}))}function Zd(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Kd(e)},slots:e.slots,emit:e.emit,expose:t}}function Wa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pf(ff(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in gs)return gs[r](e)},has(t,r){return r in t||r in gs}}))}function Jd(e,t=!0){return st(e)?e.displayName||e.name:e.name||t&&e.__name}function e_(e){return st(e)&&"__vccOpts"in e}const Ot=(e,t)=>Zh(e,t,Ls);function Vi(e,t,r){const i=arguments.length;return i===2?xt(t)&&!tt(t)?ll(t)?tr(e,null,[t]):tr(e,t):tr(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&ll(r)&&(r=[r]),tr(e,t,r))}const t_=Symbol.for("v-scx"),r_=()=>fn(t_),n_="3.3.7",i_="http://www.w3.org/2000/svg",ci=typeof document<"u"?document:null,Uc=ci&&ci.createElement("template"),s_={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const s=t?ci.createElementNS(i_,e):ci.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>ci.createTextNode(e),createComment:e=>ci.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ci.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,s,n){const o=r?r.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{Uc.innerHTML=i?"<svg>".concat(e,"</svg>"):e;const a=Uc.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},a_=Symbol("_vtc");function o_(e,t,r){const i=e[a_];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Yl=Symbol("_vod"),Zn={beforeMount(e,{value:t},{transition:r}){e[Yl]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):as(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),as(e,!0),i.enter(e)):i.leave(e,()=>{as(e,!1)}):as(e,t))},beforeUnmount(e,{value:t}){as(e,t)}};function as(e,t){e.style.display=t?e[Yl]:"none"}function l_(e,t,r){const i=e.style,s=zt(r);if(r&&!s){if(t&&!zt(t))for(const n in t)r[n]==null&&cl(i,n,"");for(const n in r)cl(i,n,r[n])}else{const n=i.display;s?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),Yl in e&&(i.display=n)}}const jc=/\s*!important$/;function cl(e,t,r){if(tt(r))r.forEach(i=>cl(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=c_(e,t);jc.test(r)?e.setProperty(gi(i),r.replace(jc,""),"important"):e[i]=r}}const Wc=["Webkit","Moz","ms"],vo={};function c_(e,t){const r=vo[t];if(r)return r;let i=dn(t);if(i!=="filter"&&i in e)return vo[t]=i;i=Ba(i);for(let s=0;s<Wc.length;s++){const n=Wc[s]+i;if(n in e)return vo[t]=n}return t}const Xc="http://www.w3.org/1999/xlink";function u_(e,t,r,i,s){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Xc,t.slice(6,t.length)):e.setAttributeNS(Xc,t,r);else{const n=Ah(t);r==null||n&&!Y0(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function f_(e,t,r,i,s,n,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,n),e[t]=r==null?"":r;return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=r;const f=a==="OPTION"?e.getAttribute("value"):e.value,c=r==null?"":r;f!==c&&(e.value=c),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const f=typeof e[t];f==="boolean"?r=Y0(r):r==null&&f==="string"?(r="",l=!0):f==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function h_(e,t,r,i){e.addEventListener(t,r,i)}function d_(e,t,r,i){e.removeEventListener(t,r,i)}const Yc=Symbol("_vei");function __(e,t,r,i,s=null){const n=e[Yc]||(e[Yc]={}),o=n[t];if(i&&o)o.value=i;else{const[a,l]=m_(t);if(i){const f=n[t]=g_(i,s);h_(e,a,f,l)}else o&&(d_(e,a,o,l),n[t]=void 0)}}const Gc=/(?:Once|Passive|Capture)$/;function m_(e){let t;if(Gc.test(e)){t={};let i;for(;i=e.match(Gc);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gi(e.slice(2)),t]}let go=0;const p_=Promise.resolve(),v_=()=>go||(p_.then(()=>go=0),go=Date.now());function g_(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Jr(b_(i,r.value),t,5,[i])};return r.value=e,r.attached=v_(),r}function b_(e,t){if(tt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Qc=/^on[a-z]/,y_=(e,t,r,i,s=!1,n,o,a,l)=>{t==="class"?o_(e,i,s):t==="style"?l_(e,r,i):Na(t)?Ml(t)||__(e,t,r,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):E_(e,t,i,s))?f_(e,t,i,n,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),u_(e,t,i,s))};function E_(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Qc.test(t)&&st(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qc.test(t)&&zt(r)?!1:t in e}const S_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_s=(e,t)=>r=>{if(!("key"in r))return;const i=gi(r.key);if(t.some(s=>s===i||S_[s]===i))return e(r)},w_=Xt({patchProp:y_},s_);let Kc;function x_(){return Kc||(Kc=Dd(w_))}const A_=(...e)=>{const t=x_().createApp(...e),{mount:r}=t;return t.mount=i=>{const s=T_(i);if(!s)return;const n=t._component;!st(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function T_(e){return zt(e)?document.querySelector(e):e}const Gl=(e,t)=>{const r=e.__vccOpts||e;for(const[i,s]of t)r[i]=s;return r},C_={name:"App",data(){return{hote:"",chargement:!0,chargementTransparent:!1,message:"",notification:"",langues:["fr","en","it"],langue:"fr"}},watch:{notification:function(e){if(e!==""){const t=document.createElement("div"),r="notification_"+Date.now().toString(36)+Math.random().toString(36).substring(2);t.id=r,t.textContent=e,t.classList.add("notification"),document.querySelector("#app").appendChild(t),this.notification="",setTimeout(function(){t.parentNode.removeChild(t)},2e3)}}},created(){this.hote=window.location.href.split("#")[0]}},R_=q("div",{id:"chargement"},[q("div",{class:"spinner"},[q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div"),q("div")])],-1),k_=[R_],I_={key:1,id:"conteneur-message",class:"conteneur-modale"},M_={id:"message",class:"modale"},O_={class:"conteneur"},L_={class:"contenu"},N_=["innerHTML"],P_={class:"actions"};function F_(e,t,r,i,s,n){const o=Vl("router-view");return Ae(),Te("main",null,[s.chargement||s.chargementTransparent?(Ae(),Te("div",{key:0,id:"conteneur-chargement",class:Je({"chargement-cartes":s.chargementTransparent})},k_,2)):Ve("",!0),s.message?(Ae(),Te("div",I_,[q("div",M_,[q("div",O_,[q("div",L_,[q("div",{class:"message",innerHTML:s.message},null,8,N_),q("div",P_,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[0]||(t[0]=a=>s.message="")},Le(e.$t("fermer")),1)])])])])])):Ve("",!0),tr(o)])}const D_=Gl(C_,[["render",F_]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ki=typeof window<"u";function B_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const dt=Object.assign;function bo(e,t){const r={};for(const i in t){const s=t[i];r[i]=en(s)?s.map(e):e(s)}return r}const ys=()=>{},en=Array.isArray,$_=/\/$/,H_=e=>e.replace($_,"");function yo(e,t,r="/"){let i,s={},n="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),n=t.slice(l+1,a>-1?a:t.length),s=e(n)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=U_(i!=null?i:t,r),{fullPath:i+(n&&"?")+n+o,path:i,query:s,hash:o}}function z_(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Zc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function q_(e,t,r){const i=t.matched.length-1,s=r.matched.length-1;return i>-1&&i===s&&Ui(t.matched[i],r.matched[s])&&Wf(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Ui(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!V_(e[r],t[r]))return!1;return!0}function V_(e,t){return en(e)?Jc(e,t):en(t)?Jc(t,e):e===t}function Jc(e,t){return en(t)?e.length===t.length&&e.every((r,i)=>r===t[i]):e.length===1&&e[0]===t}function U_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let n=r.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")n>1&&n--;else break;return r.slice(0,n).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var Ns;(function(e){e.pop="pop",e.push="push"})(Ns||(Ns={}));var Es;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Es||(Es={}));function j_(e){if(!e)if(ki){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),H_(e)}const W_=/^[^#]+#/;function X_(e,t){return e.replace(W_,"#")+t}function Y_(e,t){const r=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Xa=()=>({left:window.pageXOffset,top:window.pageYOffset});function G_(e){let t;if("el"in e){const r=e.el,i=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=Y_(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function eu(e,t){return(history.state?history.state.position-t:-1)+e}const ul=new Map;function Q_(e,t){ul.set(e,t)}function K_(e){const t=ul.get(e);return ul.delete(e),t}let Z_=()=>location.protocol+"//"+location.host;function Xf(e,t){const{pathname:r,search:i,hash:s}=t,n=e.indexOf("#");if(n>-1){let a=s.includes(e.slice(n))?e.slice(n).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Zc(l,"")}return Zc(r,e)+i+s}function J_(e,t,r,i){let s=[],n=[],o=null;const a=({state:m})=>{const b=Xf(e,location),A=r.value,E=t.value;let R=0;if(m){if(r.value=b,t.value=m,o&&o===A){o=null;return}R=E?m.position-E.position:0}else i(b);s.forEach(p=>{p(r.value,A,{delta:R,type:Ns.pop,direction:R?R>0?Es.forward:Es.back:Es.unknown})})};function l(){o=r.value}function f(m){s.push(m);const b=()=>{const A=s.indexOf(m);A>-1&&s.splice(A,1)};return n.push(b),b}function c(){const{history:m}=window;m.state&&m.replaceState(dt({},m.state,{scroll:Xa()}),"")}function d(){for(const m of n)m();n=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:f,destroy:d}}function tu(e,t,r,i=!1,s=!1){return{back:e,current:t,forward:r,replaced:i,position:window.history.length,scroll:s?Xa():null}}function em(e){const{history:t,location:r}=window,i={value:Xf(e,r)},s={value:t.state};s.value||n(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(l,f,c){const d=e.indexOf("#"),m=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:Z_()+e+l;try{t[c?"replaceState":"pushState"](f,"",m),s.value=f}catch(b){console.error(b),r[c?"replace":"assign"](m)}}function o(l,f){const c=dt({},t.state,tu(s.value.back,l,s.value.forward,!0),f,{position:s.value.position});n(l,c,!0),i.value=l}function a(l,f){const c=dt({},s.value,t.state,{forward:l,scroll:Xa()});n(c.current,c,!0);const d=dt({},tu(i.value,l,null),{position:c.position+1},f);n(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function tm(e){e=j_(e);const t=em(e),r=J_(e,t.state,t.location,t.replace);function i(n,o=!0){o||r.pauseListeners(),history.go(n)}const s=dt({location:"",base:e,go:i,createHref:X_.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function rm(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),tm(e)}function nm(e){return typeof e=="string"||e&&typeof e=="object"}function Yf(e){return typeof e=="string"||typeof e=="symbol"}const Rn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Gf=Symbol("");var ru;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ru||(ru={}));function ji(e,t){return dt(new Error,{type:e,[Gf]:!0},t)}function mn(e,t){return e instanceof Error&&Gf in e&&(t==null||!!(e.type&t))}const nu="[^/]+?",im={sensitive:!1,strict:!1,start:!0,end:!0},sm=/[.+*?^${}()[\]/\\]/g;function am(e,t){const r=dt({},im,t),i=[];let s=r.start?"^":"";const n=[];for(const f of e){const c=f.length?[]:[90];r.strict&&!f.length&&(s+="/");for(let d=0;d<f.length;d++){const m=f[d];let b=40+(r.sensitive?.25:0);if(m.type===0)d||(s+="/"),s+=m.value.replace(sm,"\\$&"),b+=40;else if(m.type===1){const{value:A,repeatable:E,optional:R,regexp:p}=m;n.push({name:A,repeatable:E,optional:R});const v=p||nu;if(v!==nu){b+=10;try{new RegExp("(".concat(v,")"))}catch(x){throw new Error('Invalid custom RegExp for param "'.concat(A,'" (').concat(v,"): ")+x.message)}}let S=E?"((?:".concat(v,")(?:/(?:").concat(v,"))*)"):"(".concat(v,")");d||(S=R&&f.length<2?"(?:/".concat(S,")"):"/"+S),R&&(S+="?"),s+=S,b+=20,R&&(b+=-8),E&&(b+=-20),v===".*"&&(b+=-50)}c.push(b)}i.push(c)}if(r.strict&&r.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(f){const c=f.match(o),d={};if(!c)return null;for(let m=1;m<c.length;m++){const b=c[m]||"",A=n[m-1];d[A.name]=b&&A.repeatable?b.split("/"):b}return d}function l(f){let c="",d=!1;for(const m of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const b of m)if(b.type===0)c+=b.value;else if(b.type===1){const{value:A,repeatable:E,optional:R}=b,p=A in f?f[A]:"";if(en(p)&&!E)throw new Error('Provided param "'.concat(A,'" is an array but it is not repeatable (* or + modifiers)'));const v=en(p)?p.join("/"):p;if(!v)if(R)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error('Missing required param "'.concat(A,'"'));c+=v}}return c||"/"}return{re:o,score:i,keys:n,parse:a,stringify:l}}function om(e,t){let r=0;for(;r<e.length&&r<t.length;){const i=t[r]-e[r];if(i)return i;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function lm(e,t){let r=0;const i=e.score,s=t.score;for(;r<i.length&&r<s.length;){const n=om(i[r],s[r]);if(n)return n;r++}if(Math.abs(s.length-i.length)===1){if(iu(i))return 1;if(iu(s))return-1}return s.length-i.length}function iu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const cm={type:0,value:""},um=/[a-zA-Z0-9_]/;function fm(e){if(!e)return[[]];if(e==="/")return[[cm]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(b){throw new Error("ERR (".concat(r,')/"').concat(f,'": ').concat(b))}let r=0,i=r;const s=[];let n;function o(){n&&s.push(n),n=[]}let a=0,l,f="",c="";function d(){f&&(r===0?n.push({type:0,value:f}):r===1||r===2||r===3?(n.length>1&&(l==="*"||l==="+")&&t("A repeatable param (".concat(f,") must be alone in its segment. eg: '/:ids+.")),n.push({type:1,value:f,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(f&&d(),o()):l===":"?(d(),r=1):m();break;case 4:m(),r=i;break;case 1:l==="("?r=2:um.test(l)?m():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return r===2&&t('Unfinished custom RegExp for param "'.concat(f,'"')),d(),o(),s}function hm(e,t,r){const i=am(fm(e.path),r),s=dt(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function dm(e,t){const r=[],i=new Map;t=ou({strict:!1,end:!0,sensitive:!1},t);function s(c){return i.get(c)}function n(c,d,m){const b=!m,A=_m(c);A.aliasOf=m&&m.record;const E=ou(t,c),R=[A];if("alias"in c){const S=typeof c.alias=="string"?[c.alias]:c.alias;for(const x of S)R.push(dt({},A,{components:m?m.record.components:A.components,path:x,aliasOf:m?m.record:A}))}let p,v;for(const S of R){const{path:x}=S;if(d&&x[0]!=="/"){const _=d.record.path,C=_[_.length-1]==="/"?"":"/";S.path=d.record.path+(x&&C+x)}if(p=hm(S,d,E),m?m.alias.push(p):(v=v||p,v!==p&&v.alias.push(p),b&&c.name&&!au(p)&&o(c.name)),A.children){const _=A.children;for(let C=0;C<_.length;C++)n(_[C],p,m&&m.children[C])}m=m||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&l(p)}return v?()=>{o(v)}:ys}function o(c){if(Yf(c)){const d=i.get(c);d&&(i.delete(c),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(c);d>-1&&(r.splice(d,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return r}function l(c){let d=0;for(;d<r.length&&lm(c,r[d])>=0&&(c.record.path!==r[d].record.path||!Qf(c,r[d]));)d++;r.splice(d,0,c),c.record.name&&!au(c)&&i.set(c.record.name,c)}function f(c,d){let m,b={},A,E;if("name"in c&&c.name){if(m=i.get(c.name),!m)throw ji(1,{location:c});E=m.record.name,b=dt(su(d.params,m.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&su(c.params,m.keys.map(v=>v.name))),A=m.stringify(b)}else if("path"in c)A=c.path,m=r.find(v=>v.re.test(A)),m&&(b=m.parse(A),E=m.record.name);else{if(m=d.name?i.get(d.name):r.find(v=>v.re.test(d.path)),!m)throw ji(1,{location:c,currentLocation:d});E=m.record.name,b=dt({},d.params,c.params),A=m.stringify(b)}const R=[];let p=m;for(;p;)R.unshift(p.record),p=p.parent;return{name:E,path:A,params:b,matched:R,meta:pm(R)}}return e.forEach(c=>n(c)),{addRoute:n,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function su(e,t){const r={};for(const i of t)i in e&&(r[i]=e[i]);return r}function _m(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:mm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function mm(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const i in e.components)t[i]=typeof r=="object"?r[i]:r;return t}function au(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pm(e){return e.reduce((t,r)=>dt(t,r.meta),{})}function ou(e,t){const r={};for(const i in e)r[i]=i in t?t[i]:e[i];return r}function Qf(e,t){return t.children.some(r=>r===e||Qf(e,r))}const Kf=/#/g,vm=/&/g,gm=/\//g,bm=/=/g,ym=/\?/g,Zf=/\+/g,Em=/%5B/g,Sm=/%5D/g,Jf=/%5E/g,wm=/%60/g,e1=/%7B/g,xm=/%7C/g,t1=/%7D/g,Am=/%20/g;function Ql(e){return encodeURI(""+e).replace(xm,"|").replace(Em,"[").replace(Sm,"]")}function Tm(e){return Ql(e).replace(e1,"{").replace(t1,"}").replace(Jf,"^")}function fl(e){return Ql(e).replace(Zf,"%2B").replace(Am,"+").replace(Kf,"%23").replace(vm,"%26").replace(wm,"`").replace(e1,"{").replace(t1,"}").replace(Jf,"^")}function Cm(e){return fl(e).replace(bm,"%3D")}function Rm(e){return Ql(e).replace(Kf,"%23").replace(ym,"%3F")}function km(e){return e==null?"":Rm(e).replace(gm,"%2F")}function Ca(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Im(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const n=i[s].replace(Zf," "),o=n.indexOf("="),a=Ca(o<0?n:n.slice(0,o)),l=o<0?null:Ca(n.slice(o+1));if(a in t){let f=t[a];en(f)||(f=t[a]=[f]),f.push(l)}else t[a]=l}return t}function lu(e){let t="";for(let r in e){const i=e[r];if(r=Cm(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(en(i)?i.map(n=>n&&fl(n)):[i&&fl(i)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+r,n!=null&&(t+="="+n))})}return t}function Mm(e){const t={};for(const r in e){const i=e[r];i!==void 0&&(t[r]=en(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const Om=Symbol(""),cu=Symbol(""),Kl=Symbol(""),r1=Symbol(""),hl=Symbol("");function os(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Nn(e,t,r,i,s){const n=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(ji(4,{from:r,to:t})):d instanceof Error?a(d):nm(d)?a(ji(2,{from:t,to:d})):(n&&i.enterCallbacks[s]===n&&typeof d=="function"&&n.push(d),o())},f=e.call(i&&i.instances[s],t,r,l);let c=Promise.resolve(f);e.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function Eo(e,t,r,i){const s=[];for(const n of e)for(const o in n.components){let a=n.components[o];if(!(t!=="beforeRouteEnter"&&!n.instances[o]))if(Lm(a)){const f=(a.__vccOpts||a)[t];f&&s.push(Nn(f,r,i,n,o))}else{let l=a();s.push(()=>l.then(f=>{if(!f)return Promise.reject(new Error("Couldn't resolve component \"".concat(o,'" at "').concat(n.path,'"')));const c=B_(f)?f.default:f;n.components[o]=c;const m=(c.__vccOpts||c)[t];return m&&Nn(m,r,i,n,o)()}))}}return s}function Lm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function uu(e){const t=fn(Kl),r=fn(r1),i=Ot(()=>t.resolve(Di(e.to))),s=Ot(()=>{const{matched:l}=i.value,{length:f}=l,c=l[f-1],d=r.matched;if(!c||!d.length)return-1;const m=d.findIndex(Ui.bind(null,c));if(m>-1)return m;const b=fu(l[f-2]);return f>1&&fu(c)===b&&d[d.length-1].path!==b?d.findIndex(Ui.bind(null,l[f-2])):m}),n=Ot(()=>s.value>-1&&Dm(r.params,i.value.params)),o=Ot(()=>s.value>-1&&s.value===r.matched.length-1&&Wf(r.params,i.value.params));function a(l={}){return Fm(l)?t[Di(e.replace)?"replace":"push"](Di(e.to)).catch(ys):Promise.resolve()}return{route:i,href:Ot(()=>i.value.href),isActive:n,isExactActive:o,navigate:a}}const Nm=Zi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uu,setup(e,{slots:t}){const r=Ha(uu(e)),{options:i}=fn(Kl),s=Ot(()=>({[hu(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[hu(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const n=t.default&&t.default(r);return e.custom?n:Vi("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},n)}}}),Pm=Nm;function Fm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Dm(e,t){for(const r in t){const i=t[r],s=e[r];if(typeof i=="string"){if(i!==s)return!1}else if(!en(s)||s.length!==i.length||i.some((n,o)=>n!==s[o]))return!1}return!0}function fu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hu=(e,t,r)=>e!=null?e:t!=null?t:r,Bm=Zi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const i=fn(hl),s=Ot(()=>e.route||i.value),n=fn(cu,0),o=Ot(()=>{let f=Di(n);const{matched:c}=s.value;let d;for(;(d=c[f])&&!d.components;)f++;return f}),a=Ot(()=>s.value.matched[o.value]);ma(cu,Ot(()=>o.value+1)),ma(Om,a),ma(hl,s);const l=Qr();return _i(()=>[l.value,a.value,e.name],([f,c,d],[m,b,A])=>{c&&(c.instances[d]=f,b&&b!==c&&f&&f===m&&(c.leaveGuards.size||(c.leaveGuards=b.leaveGuards),c.updateGuards.size||(c.updateGuards=b.updateGuards))),f&&c&&(!b||!Ui(c,b)||!m)&&(c.enterCallbacks[d]||[]).forEach(E=>E(f))},{flush:"post"}),()=>{const f=s.value,c=e.name,d=a.value,m=d&&d.components[c];if(!m)return du(r.default,{Component:m,route:f});const b=d.props[c],A=b?b===!0?f.params:typeof b=="function"?b(f):b:null,R=Vi(m,dt({},A,t,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return du(r.default,{Component:R,route:f})||R}}});function du(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const $m=Bm;function Hm(e){const t=dm(e.routes,e),r=e.parseQuery||Im,i=e.stringifyQuery||lu,s=e.history,n=os(),o=os(),a=os(),l=_f(Rn);let f=Rn;ki&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=bo.bind(null,J=>""+J),d=bo.bind(null,km),m=bo.bind(null,Ca);function b(J,re){let V,ue;return Yf(J)?(V=t.getRecordMatcher(J),ue=re):ue=J,t.addRoute(ue,V)}function A(J){const re=t.getRecordMatcher(J);re&&t.removeRoute(re)}function E(){return t.getRoutes().map(J=>J.record)}function R(J){return!!t.getRecordMatcher(J)}function p(J,re){if(re=dt({},re||l.value),typeof J=="string"){const u=yo(r,J,re.path),D=t.resolve({path:u.path},re),U=s.createHref(u.fullPath);return dt(u,D,{params:m(D.params),hash:Ca(u.hash),redirectedFrom:void 0,href:U})}let V;if("path"in J)V=dt({},J,{path:yo(r,J.path,re.path).path});else{const u=dt({},J.params);for(const D in u)u[D]==null&&delete u[D];V=dt({},J,{params:d(u)}),re.params=d(re.params)}const ue=t.resolve(V,re),_e=J.hash||"";ue.params=c(m(ue.params));const Y=z_(i,dt({},J,{hash:Tm(_e),path:ue.path})),L=s.createHref(Y);return dt({fullPath:Y,hash:_e,query:i===lu?Mm(J.query):J.query||{}},ue,{redirectedFrom:void 0,href:L})}function v(J){return typeof J=="string"?yo(r,J,l.value.path):dt({},J)}function S(J,re){if(f!==J)return ji(8,{from:re,to:J})}function x(J){return O(J)}function _(J){return x(dt(v(J),{replace:!0}))}function C(J){const re=J.matched[J.matched.length-1];if(re&&re.redirect){const{redirect:V}=re;let ue=typeof V=="function"?V(J):V;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=v(ue):{path:ue},ue.params={}),dt({query:J.query,hash:J.hash,params:"path"in ue?{}:J.params},ue)}}function O(J,re){const V=f=p(J),ue=l.value,_e=J.state,Y=J.force,L=J.replace===!0,u=C(V);if(u)return O(dt(v(u),{state:typeof u=="object"?dt({},_e,u.state):_e,force:Y,replace:L}),re||V);const D=V;D.redirectedFrom=re;let U;return!Y&&q_(i,ue,V)&&(U=ji(16,{to:D,from:ue}),z(ue,ue,!0,!1)),(U?Promise.resolve(U):B(D,ue)).catch($=>mn($)?mn($,2)?$:ee($):K($,D,ue)).then($=>{if($){if(mn($,2))return O(dt({replace:L},v($.to),{state:typeof $.to=="object"?dt({},_e,$.to.state):_e,force:Y}),re||D)}else $=F(D,ue,!0,L,_e);return te(D,ue,$),$})}function N(J,re){const V=S(J,re);return V?Promise.reject(V):Promise.resolve()}function k(J){const re=w.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(J):J()}function B(J,re){let V;const[ue,_e,Y]=zm(J,re);V=Eo(ue.reverse(),"beforeRouteLeave",J,re);for(const u of ue)u.leaveGuards.forEach(D=>{V.push(Nn(D,J,re))});const L=N.bind(null,J,re);return V.push(L),ae(V).then(()=>{V=[];for(const u of n.list())V.push(Nn(u,J,re));return V.push(L),ae(V)}).then(()=>{V=Eo(_e,"beforeRouteUpdate",J,re);for(const u of _e)u.updateGuards.forEach(D=>{V.push(Nn(D,J,re))});return V.push(L),ae(V)}).then(()=>{V=[];for(const u of Y)if(u.beforeEnter)if(en(u.beforeEnter))for(const D of u.beforeEnter)V.push(Nn(D,J,re));else V.push(Nn(u.beforeEnter,J,re));return V.push(L),ae(V)}).then(()=>(J.matched.forEach(u=>u.enterCallbacks={}),V=Eo(Y,"beforeRouteEnter",J,re),V.push(L),ae(V))).then(()=>{V=[];for(const u of o.list())V.push(Nn(u,J,re));return V.push(L),ae(V)}).catch(u=>mn(u,8)?u:Promise.reject(u))}function te(J,re,V){a.list().forEach(ue=>k(()=>ue(J,re,V)))}function F(J,re,V,ue,_e){const Y=S(J,re);if(Y)return Y;const L=re===Rn,u=ki?history.state:{};V&&(ue||L?s.replace(J.fullPath,dt({scroll:L&&u&&u.scroll},_e)):s.push(J.fullPath,_e)),l.value=J,z(J,re,V,L),ee()}let T;function h(){T||(T=s.listen((J,re,V)=>{if(!P.listening)return;const ue=p(J),_e=C(ue);if(_e){O(dt(_e,{replace:!0}),ue).catch(ys);return}f=ue;const Y=l.value;ki&&Q_(eu(Y.fullPath,V.delta),Xa()),B(ue,Y).catch(L=>mn(L,12)?L:mn(L,2)?(O(L.to,ue).then(u=>{mn(u,20)&&!V.delta&&V.type===Ns.pop&&s.go(-1,!1)}).catch(ys),Promise.reject()):(V.delta&&s.go(-V.delta,!1),K(L,ue,Y))).then(L=>{L=L||F(ue,Y,!1),L&&(V.delta&&!mn(L,8)?s.go(-V.delta,!1):V.type===Ns.pop&&mn(L,20)&&s.go(-1,!1)),te(ue,Y,L)}).catch(ys)}))}let H=os(),Q=os(),W;function K(J,re,V){ee(J);const ue=Q.list();return ue.length?ue.forEach(_e=>_e(J,re,V)):console.error(J),Promise.reject(J)}function Z(){return W&&l.value!==Rn?Promise.resolve():new Promise((J,re)=>{H.add([J,re])})}function ee(J){return W||(W=!J,h(),H.list().forEach(([re,V])=>J?V(J):re()),H.reset()),J}function z(J,re,V,ue){const{scrollBehavior:_e}=e;if(!ki||!_e)return Promise.resolve();const Y=!V&&K_(eu(J.fullPath,0))||(ue||!V)&&history.state&&history.state.scroll||null;return gf().then(()=>_e(J,re,Y)).then(L=>L&&G_(L)).catch(L=>K(L,J,re))}const y=J=>s.go(J);let M;const w=new Set,P={currentRoute:l,listening:!0,addRoute:b,removeRoute:A,hasRoute:R,getRoutes:E,resolve:p,options:e,push:x,replace:_,go:y,back:()=>y(-1),forward:()=>y(1),beforeEach:n.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:Z,install(J){const re=this;J.component("RouterLink",Pm),J.component("RouterView",$m),J.config.globalProperties.$router=re,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>Di(l)}),ki&&!M&&l.value===Rn&&(M=!0,x(s.location).catch(_e=>{}));const V={};for(const _e in Rn)Object.defineProperty(V,_e,{get:()=>l.value[_e],enumerable:!0});J.provide(Kl,re),J.provide(r1,lf(V)),J.provide(hl,l);const ue=J.unmount;w.add(J),J.unmount=function(){w.delete(J),w.size<1&&(f=Rn,T&&T(),T=null,l.value=Rn,M=!1,W=!1),ue()}}};function ae(J){return J.reduce((re,V)=>re.then(()=>k(V)),Promise.resolve())}return P}function zm(e,t){const r=[],i=[],s=[],n=Math.max(t.matched.length,e.matched.length);for(let o=0;o<n;o++){const a=t.matched[o];a&&(e.matched.find(f=>Ui(f,a))?i.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(f=>Ui(f,l))||s.push(l))}return[r,i,s]}const qm={name:"Accueil-Digiflashcards",data(){return{modale:"",nom:"",question:"",questions:["motPrefere","filmPrefere","chansonPreferee","prenomMere","prenomPere","nomRue","nomEmployeur","nomAnimal"],reponse:"",hub:!1,version:"0.5.12"}},created(){const e=this.$route.query.lang;this.$parent.$parent.langues.includes(e)===!0&&(this.$parent.$parent.langue=e,localStorage.setItem("digiflashcards_lang",e))},mounted(){const e=navigator.language.substring(0,2);this.$parent.$parent.langues.includes(this.$route.query.lang)===!1&&this.$parent.$parent.langues.includes(e)===!0&&(this.$parent.$parent.langue=e),localStorage.getItem("digiflashcards_lang")&&(this.$parent.$parent.langue=localStorage.getItem("digiflashcards_lang")),this.$root.$i18n.locale=this.$parent.$parent.langue,document.getElementsByTagName("html")[0].setAttribute("lang",this.$parent.$parent.langue),setTimeout((function(){this.$parent.$parent.chargement=!1}).bind(this),300)},methods:{modifierLangue(e){this.$root.$i18n.locale=e,this.$parent.$parent.langue=e,document.getElementsByTagName("html")[0].setAttribute("lang",e),this.$parent.$parent.notification=this.$t("langueModifiee"),localStorage.setItem("digiflashcards_lang",e)},ouvrirModale(){this.modale="serie",this.$nextTick(function(){document.querySelector(".modale input").focus()})},fermerModale(){this.modale="",this.nom="",this.question="",this.reponse=""},creer(){if(this.nom!==""&&this.question!==""&&this.reponse!==""){this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargement=!1,this.fermerModale(),e.responseText!=="erreur"?this.$router.push("/f/"+e.responseText):this.$parent.$parent.message=this.$t("erreurServeur")):(this.$parent.$parent.chargement=!1,this.fermerModale(),this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/creer_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("nom="+this.nom+"&question="+this.question+"&reponse="+this.reponse)}else this.nom===""?this.$parent.$parent.message=this.$t("remplirTitre"):this.question===""?this.$parent.$parent.message=this.$t("selectionnerQuestionSecrete"):this.reponse===""&&(this.$parent.$parent.message=this.$t("remplirReponseSecrete"))},ouvrirHub(){this.hub=!0},fermerHub(){this.hub=!1}}},bi=e=>(wf("data-v-202a5588"),e=e(),xf(),e),Vm={id:"page"},Um={id:"langues"},jm={id:"conteneur"},Wm={id:"contenu"},Xm=bi(()=>q("h1",null,[q("span",null,"Digiflashcards"),Dt(),q("span",null,"by La Digitale")],-1)),Ym=["innerHTML"],Gm={id:"credits"},Qm={href:"https://opencollective.com/ladigitale",target:"_blank",rel:"noreferrer"},Km=bi(()=>q("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)),Zm={href:"https://codeberg.org/ladigitale/digiflashcards",target:"_blank",rel:"noreferrer"},Jm={href:"https://codeberg.org/ladigitale/digiflashcards/releases",target:"_blank",rel:"noreferrer"},ep=bi(()=>q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#001d1d",width:"36px",height:"36px"},[q("path",{d:"M0 0h24v24H0z",fill:"none"}),q("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})],-1)),tp=[ep],rp={key:0,class:"conteneur-modale"},np={class:"modale"},ip={class:"titre"},sp=bi(()=>q("i",{class:"material-icons"},"close",-1)),ap=[sp],op={class:"conteneur"},lp={class:"contenu"},cp=["value"],up=["value"],fp=bi(()=>q("option",{value:"",selected:""},"-",-1)),hp=["value"],dp=["value"],_p={class:"actions"},mp=bi(()=>q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",width:"36px",height:"36px"},[q("path",{d:"M0 0h24v24H0z",fill:"none"}),q("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)),pp=[mp],vp=bi(()=>q("iframe",{src:"https://ladigitale.dev/hub.html"},null,-1));function gp(e,t,r,i,s,n){return Ae(),Te("div",Vm,[q("div",{id:"accueil",style:hi({"background-image":"url(./static/img/fond.png)"})},[q("div",Um,[q("span",{class:Je(["bouton",{selectionne:e.$parent.$parent.langue==="fr"}]),role:"button",tabindex:"0",onClick:t[0]||(t[0]=o=>n.modifierLangue("fr"))},"FR",2),q("span",{class:Je(["bouton",{selectionne:e.$parent.$parent.langue==="it"}]),role:"button",tabindex:"0",onClick:t[1]||(t[1]=o=>n.modifierLangue("it"))},"IT",2),q("span",{class:Je(["bouton",{selectionne:e.$parent.$parent.langue==="en"}]),role:"button",tabindex:"0",onClick:t[2]||(t[2]=o=>n.modifierLangue("en"))},"EN",2)]),q("div",jm,[q("div",Wm,[Xm,q("div",null,[q("p",{innerHTML:e.$t("slogan")},null,8,Ym),q("span",{id:"bouton",role:"button",tabindex:"0",onClick:t[3]||(t[3]=(...o)=>n.ouvrirModale&&n.ouvrirModale(...o))},Le(e.$t("creerSerie")),1)])]),q("div",Gm,[q("p",null,[q("a",Qm,Le(e.$t("soutien")),1)]),q("p",null,[Dt(Le(new Date().getFullYear())+" - ",1),Km,Dt(" - "),q("a",Zm,Le(e.$t("codeSource")),1),Dt(" - "),q("a",Jm,"v"+Le(s.version),1),Dt(" - "),q("span",{class:"hub",onClick:t[4]||(t[4]=(...o)=>n.ouvrirHub&&n.ouvrirHub(...o))},tp)])])])],4),s.modale==="serie"?(Ae(),Te("div",rp,[q("div",np,[q("header",null,[q("span",ip,Le(e.$t("nouvelleSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[5]||(t[5]=(...o)=>n.fermerModale&&n.fermerModale(...o))},ap)]),q("div",op,[q("div",lp,[q("label",null,Le(e.$t("nomSerie")),1),q("input",{type:"text",value:s.nom,onInput:t[6]||(t[6]=o=>s.nom=o.target.value)},null,40,cp),q("label",null,Le(e.$t("questionSecrete")),1),q("select",{value:s.question,onChange:t[7]||(t[7]=o=>s.question=o.target.value)},[fp,(Ae(!0),Te(mt,null,on(s.questions,(o,a)=>(Ae(),Te("option",{value:o,key:"option_"+a},Le(e.$t(o)),9,hp))),128))],40,up),q("label",null,Le(e.$t("reponseSecreteEdition")),1),q("input",{type:"text",value:s.reponse,onInput:t[8]||(t[8]=o=>s.reponse=o.target.value),onKeydown:t[9]||(t[9]=_s((...o)=>n.creer&&n.creer(...o),["enter"]))},null,40,dp),q("div",_p,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[10]||(t[10]=(...o)=>n.creer&&n.creer(...o))},Le(e.$t("creer")),1)])])])])])):Ve("",!0),q("div",{id:"hub",class:Je({ouvert:s.hub})},[q("span",{onClick:t[11]||(t[11]=(...o)=>n.fermerHub&&n.fermerHub(...o))},pp),vp],2)])}const bp=Gl(qm,[["render",gp],["__scopeId","data-v-202a5588"]]);var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n1={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */(function(e,t){(function(i,s){e.exports=s()})(Lr,function(){return function(){var r={686:function(n,o,a){a.d(o,{default:function(){return z}});var l=a(279),f=a.n(l),c=a(370),d=a.n(c),m=a(817),b=a.n(m);function A(y){try{return document.execCommand(y)}catch{return!1}}var E=function(M){var w=b()(M);return A("cut"),w},R=E;function p(y){var M=document.documentElement.getAttribute("dir")==="rtl",w=document.createElement("textarea");w.style.fontSize="12pt",w.style.border="0",w.style.padding="0",w.style.margin="0",w.style.position="absolute",w.style[M?"right":"left"]="-9999px";var P=window.pageYOffset||document.documentElement.scrollTop;return w.style.top="".concat(P,"px"),w.setAttribute("readonly",""),w.value=y,w}var v=function(M,w){var P=p(M);w.container.appendChild(P);var ae=b()(P);return A("copy"),P.remove(),ae},S=function(M){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},P="";return typeof M=="string"?P=v(M,w):M instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(M==null?void 0:M.type)?P=v(M.value,w):(P=b()(M),A("copy")),P},x=S;function _(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(w){return typeof w}:_=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},_(y)}var C=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=M.action,P=w===void 0?"copy":w,ae=M.container,J=M.target,re=M.text;if(P!=="copy"&&P!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(J!==void 0)if(J&&_(J)==="object"&&J.nodeType===1){if(P==="copy"&&J.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(P==="cut"&&(J.hasAttribute("readonly")||J.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}else throw new Error('Invalid "target" value, use a valid Element');if(re)return x(re,{container:ae});if(J)return P==="cut"?R(J):x(J,{container:ae})},O=C;function N(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(w){return typeof w}:N=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},N(y)}function k(y,M){if(!(y instanceof M))throw new TypeError("Cannot call a class as a function")}function B(y,M){for(var w=0;w<M.length;w++){var P=M[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}function te(y,M,w){return M&&B(y.prototype,M),w&&B(y,w),y}function F(y,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(M&&M.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),M&&T(y,M)}function T(y,M){return T=Object.setPrototypeOf||function(P,ae){return P.__proto__=ae,P},T(y,M)}function h(y){var M=W();return function(){var P=K(y),ae;if(M){var J=K(this).constructor;ae=Reflect.construct(P,arguments,J)}else ae=P.apply(this,arguments);return H(this,ae)}}function H(y,M){return M&&(N(M)==="object"||typeof M=="function")?M:Q(y)}function Q(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function K(y){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},K(y)}function Z(y,M){var w="data-clipboard-".concat(y);if(M.hasAttribute(w))return M.getAttribute(w)}var ee=function(y){F(w,y);var M=h(w);function w(P,ae){var J;return k(this,w),J=M.call(this),J.resolveOptions(ae),J.listenClick(P),J}return te(w,[{key:"resolveOptions",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ae.action=="function"?ae.action:this.defaultAction,this.target=typeof ae.target=="function"?ae.target:this.defaultTarget,this.text=typeof ae.text=="function"?ae.text:this.defaultText,this.container=N(ae.container)==="object"?ae.container:document.body}},{key:"listenClick",value:function(ae){var J=this;this.listener=d()(ae,"click",function(re){return J.onClick(re)})}},{key:"onClick",value:function(ae){var J=ae.delegateTarget||ae.currentTarget,re=this.action(J)||"copy",V=O({action:re,container:this.container,target:this.target(J),text:this.text(J)});this.emit(V?"success":"error",{action:re,text:V,trigger:J,clearSelection:function(){J&&J.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ae){return Z("action",ae)}},{key:"defaultTarget",value:function(ae){var J=Z("target",ae);if(J)return document.querySelector(J)}},{key:"defaultText",value:function(ae){return Z("text",ae)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ae){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return x(ae,J)}},{key:"cut",value:function(ae){return R(ae)}},{key:"isSupported",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],J=typeof ae=="string"?[ae]:ae,re=!!document.queryCommandSupported;return J.forEach(function(V){re=re&&!!document.queryCommandSupported(V)}),re}}]),w}(f()),z=ee},828:function(n){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function l(f,c){for(;f&&f.nodeType!==o;){if(typeof f.matches=="function"&&f.matches(c))return f;f=f.parentNode}}n.exports=l},438:function(n,o,a){var l=a(828);function f(m,b,A,E,R){var p=d.apply(this,arguments);return m.addEventListener(A,p,R),{destroy:function(){m.removeEventListener(A,p,R)}}}function c(m,b,A,E,R){return typeof m.addEventListener=="function"?f.apply(null,arguments):typeof A=="function"?f.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(p){return f(p,b,A,E,R)}))}function d(m,b,A,E){return function(R){R.delegateTarget=l(R.target,b),R.delegateTarget&&E.call(m,R)}}n.exports=c},879:function(n,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var l=Object.prototype.toString.call(a);return a!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var l=Object.prototype.toString.call(a);return l==="[object Function]"}},370:function(n,o,a){var l=a(879),f=a(438);function c(A,E,R){if(!A&&!E&&!R)throw new Error("Missing required arguments");if(!l.string(E))throw new TypeError("Second argument must be a String");if(!l.fn(R))throw new TypeError("Third argument must be a Function");if(l.node(A))return d(A,E,R);if(l.nodeList(A))return m(A,E,R);if(l.string(A))return b(A,E,R);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(A,E,R){return A.addEventListener(E,R),{destroy:function(){A.removeEventListener(E,R)}}}function m(A,E,R){return Array.prototype.forEach.call(A,function(p){p.addEventListener(E,R)}),{destroy:function(){Array.prototype.forEach.call(A,function(p){p.removeEventListener(E,R)})}}}function b(A,E,R){return f(document.body,A,E,R)}n.exports=c},817:function(n){function o(a){var l;if(a.nodeName==="SELECT")a.focus(),l=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var f=a.hasAttribute("readonly");f||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),f||a.removeAttribute("readonly"),l=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d),l=c.toString()}return l}n.exports=o},279:function(n){function o(){}o.prototype={on:function(a,l,f){var c=this.e||(this.e={});return(c[a]||(c[a]=[])).push({fn:l,ctx:f}),this},once:function(a,l,f){var c=this;function d(){c.off(a,d),l.apply(f,arguments)}return d._=l,this.on(a,d,f)},emit:function(a){var l=[].slice.call(arguments,1),f=((this.e||(this.e={}))[a]||[]).slice(),c=0,d=f.length;for(c;c<d;c++)f[c].fn.apply(f[c].ctx,l);return this},off:function(a,l){var f=this.e||(this.e={}),c=f[a],d=[];if(c&&l)for(var m=0,b=c.length;m<b;m++)c[m].fn!==l&&c[m].fn._!==l&&d.push(c[m]);return d.length?f[a]=d:delete f[a],this}},n.exports=o,n.exports.TinyEmitter=o}},i={};function s(n){if(i[n])return i[n].exports;var o=i[n]={exports:{}};return r[n](o,o.exports,s),o.exports}return function(){s.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(o,{a:o}),o}}(),function(){s.d=function(n,o){for(var a in o)s.o(o,a)&&!s.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:o[a]})}}(),function(){s.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)}}(),s(686)}().default})})(n1);var yp=n1.exports;const _u=Ji(yp);var i1={exports:{}};(function(e,t){(function(r,i){i()})(Lr,function(){function r(f,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function i(f,c,d){var m=new XMLHttpRequest;m.open("GET",f),m.responseType="blob",m.onload=function(){l(m.response,c,d)},m.onerror=function(){console.error("could not download file")},m.send()}function s(f){var c=new XMLHttpRequest;c.open("HEAD",f,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function n(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Lr=="object"&&Lr.global===Lr?Lr:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(f,c,d){var m=o.URL||o.webkitURL,b=document.createElement("a");c=c||f.name||"download",b.download=c,b.rel="noopener",typeof f=="string"?(b.href=f,b.origin===location.origin?n(b):s(b.href)?i(f,c,d):n(b,b.target="_blank")):(b.href=m.createObjectURL(f),setTimeout(function(){m.revokeObjectURL(b.href)},4e4),setTimeout(function(){n(b)},0))}:"msSaveOrOpenBlob"in navigator?function(f,c,d){if(c=c||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,d),c);else if(s(f))i(f,c,d);else{var m=document.createElement("a");m.href=f,m.target="_blank",setTimeout(function(){n(m)})}}:function(f,c,d,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof f=="string")return i(f,c,d);var b=f.type==="application/octet-stream",A=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||b&&A||a)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var S=R.result;S=E?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=S:location=S,m=null},R.readAsDataURL(f)}else{var p=o.URL||o.webkitURL,v=p.createObjectURL(f);m?m.location=v:location.href=v,m=null,setTimeout(function(){p.revokeObjectURL(v)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(i1);var Ep=i1.exports,s1={};function Sp(e){return e==null}s1.isNil=Sp;function wp(e){return typeof e=="string"}var xp=wp,Zl={},Ap=s1,Tp=xp;function Cp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Ap.isNil(e)?t:Tp(e)?e:String(e)}Zl.coerceToString=Cp;var Vt={},a1="\\d",Ya="\\s\\uFEFF\\xA0",Dn="\\uD800-\\uDBFF",Bn="\\uDC00-\\uDFFF",Jl="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",o1="\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF",Rp=new RegExp("(["+o1+"]|["+Dn+"]["+Bn+"]|["+Dn+"](?!["+Bn+"])|(?:[^"+Dn+"]|^)["+Bn+"])(["+Jl+"]+)","g"),kp=new RegExp("(["+Dn+"])(["+Bn+"])","g"),Ip=new RegExp("((?:["+o1+"]|["+Dn+"]["+Bn+"]|["+Dn+"](?!["+Bn+"])|(?:[^"+Dn+"]|^)["+Bn+"])(?:["+Jl+"]+))|(["+Dn+"]["+Bn+"])|([\\n\\r\\u2028\\u2029])|(.)","g"),Mp=new RegExp("["+Ya+"]"),Op=new RegExp("^["+Ya+"]+"),Lp=new RegExp("["+Ya+"]+$"),Np=new RegExp("^"+a1+"+$"),Pp=/[-[\]{}()*+!<=:?./\\^$|#,]/g,Fp=/[^A-Za-z0-9]/g,Dp=/[<>&"'`]/g,Bp=/(%{1,2})(?:(\d+)\$)?(\+)?([ 0]|'.{1})?(-)?(\d+)?(?:\.(\d+))?([bcdiouxXeEfgGs])?/g,$p=/\.?0+$/g,Hp=/<([A-Za-z0-9]+)>/g;Vt.REGEXP_COMBINING_MARKS=Rp;Vt.REGEXP_CONVERSION_SPECIFICATION=Bp;Vt.REGEXP_DIGIT=Np;Vt.REGEXP_HTML_SPECIAL_CHARACTERS=Dp;Vt.REGEXP_NON_LATIN=Fp;Vt.REGEXP_SPECIAL_CHARACTERS=Pp;Vt.REGEXP_SURROGATE_PAIRS=kp;Vt.REGEXP_TAG_LIST=Hp;Vt.REGEXP_TRAILING_ZEROS=$p;Vt.REGEXP_TRIM_LEFT=Op;Vt.REGEXP_TRIM_RIGHT=Lp;Vt.REGEXP_UNICODE_CHARACTER=Ip;Vt.REGEXP_WHITESPACE=Mp;Vt.diacriticalMark=Jl;Vt.digit=a1;Vt.whitespace=Ya;var zp=Zl,mu=Vt,pu={3:"",8:"",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",OE:"",oe:"",AE:"",ae:"",hv:"",OI:"",oi:"",DZ:"",Dz:"",dz:"",LJ:"",Lj:"",lj:"",NJ:"",Nj:"",nj:"",OU:"",ou:"",TH:"",th:"",PS:"",ps:"",Yo:"",Ye:"",Yi:"",Zh:"",Ch:"",Sh:"","":"",Yu:"",Ya:"",zh:"",ch:"",sh:"",yu:"",ya:"",yo:"",ye:"",yi:""},ls=null;function qp(){return ls!==null||(ls={},Object.keys(pu).forEach(function(e){for(var t=pu[e],r=0;r<t.length;r++){var i=t[r];ls[i]=e}})),ls}function Vp(e){var t=qp()[e];return t||e}function Up(e,t){return t}function jp(e){var t=zp.coerceToString(e);return t===""?"":t.replace(mu.REGEXP_NON_LATIN,Vp).replace(mu.REGEXP_COMBINING_MARKS,Up)}var Wp=jp;const Xp=Ji(Wp);var So=Zl,l1=Vt;function Yp(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=0;i&&(s=-t.length+1);var n=e.substr(r+s,t.length);return n.toLowerCase()===t}function Gp(e){for(var t=[],r;(r=l1.REGEXP_TAG_LIST.exec(e))!==null;)t.push(r[1]);return t}var vu=0,gu=1,wo=2;function Qp(e){for(var t=vu,r="",i=0;t!==wo;){var s=e[i++].toLowerCase();switch(s){case"<":break;case">":t=wo;break;default:l1.REGEXP_WHITESPACE.test(s)?t===gu&&(t=wo):(t===vu&&(t=gu),s!=="/"&&(r+=s));break}}return r}var cs=0,Jn=1,Zs=2,bu=3;function Kp(e,t,r){if(e=So.coerceToString(e),e==="")return"";if(!Array.isArray(t)){var i=So.coerceToString(t);t=i===""?[]:Gp(i)}for(var s=So.coerceToString(r),n=e.length,o=t.length>0,a=Yp.bind(null,e),l=cs,f=0,c="",d="",m=null,b=0;b<n;b++){var A=e[b],E=!1;switch(A){case"<":if(m)break;if(a("< ",b,!1)){E=!0;break}if(l===cs){E=!0,l=Jn;break}if(l===Jn){f++;break}E=!0;break;case"!":if(l===Jn&&a("<!",b)){l=Zs;break}E=!0;break;case"-":if(l===Zs&&a("!--",b)){l=bu;break}E=!0;break;case'"':case"'":l===Jn&&(m===A?m=null:m||(m=A)),E=!0;break;case"E":case"e":if(l===Zs&&a("doctype",b)){l=Jn;break}E=!0;break;case">":if(f>0){f--;break}if(m)break;if(l===Jn){if(m=null,l=cs,o){d+=">";var R=Qp(d);t.indexOf(R.toLowerCase())!==-1?c+=d:c+=s,d=""}else c+=s;break}if(l===Zs||l===bu&&a("-->",b)){m=null,l=cs,d="";break}E=!0;break;default:E=!0}if(E)switch(l){case cs:c+=A;break;case Jn:o&&(d+=A);break}}return c}var Zp=Kp;const Js=Ji(Zp);function ea(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(i,s,n){function o(f,c){if(!s[f]){if(!i[f]){var d=typeof ea=="function"&&ea;if(!c&&d)return d(f,!0);if(a)return a(f,!0);var m=new Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m}var b=s[f]={exports:{}};i[f][0].call(b.exports,function(A){var E=i[f][1][A];return o(E||A)},b,b.exports,r,i,s,n)}return s[f].exports}for(var a=typeof ea=="function"&&ea,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(r,i,s){var n=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var f,c,d,m,b,A,E,R=[],p=0,v=l.length,S=v,x=n.getTypeOf(l)!=="string";p<l.length;)S=v-p,d=x?(f=l[p++],c=p<v?l[p++]:0,p<v?l[p++]:0):(f=l.charCodeAt(p++),c=p<v?l.charCodeAt(p++):0,p<v?l.charCodeAt(p++):0),m=f>>2,b=(3&f)<<4|c>>4,A=1<S?(15&c)<<2|d>>6:64,E=2<S?63&d:64,R.push(a.charAt(m)+a.charAt(b)+a.charAt(A)+a.charAt(E));return R.join("")},s.decode=function(l){var f,c,d,m,b,A,E=0,R=0,p="data:";if(l.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var v,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&S--,l.charAt(l.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|S):new Array(0|S);E<l.length;)f=a.indexOf(l.charAt(E++))<<2|(m=a.indexOf(l.charAt(E++)))>>4,c=(15&m)<<4|(b=a.indexOf(l.charAt(E++)))>>2,d=(3&b)<<6|(A=a.indexOf(l.charAt(E++))),v[R++]=f,b!==64&&(v[R++]=c),A!==64&&(v[R++]=d);return v}},{"./support":30,"./utils":32}],2:[function(r,i,s){var n=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function f(c,d,m,b,A){this.compressedSize=c,this.uncompressedSize=d,this.crc32=m,this.compression=b,this.compressedContent=A}f.prototype={getContentWorker:function(){var c=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(c,d,m){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},i.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,s){var n=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,s){var n=r("./utils"),o=function(){for(var a,l=[],f=0;f<256;f++){a=f;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[f]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(f,c,d,m){var b=o,A=m+d;f^=-1;for(var E=m;E<A;E++)f=f>>>8^b[255&(f^c[E])];return-1^f}(0|l,a,a.length,0):function(f,c,d,m){var b=o,A=m+d;f^=-1;for(var E=m;E<A;E++)f=f>>>8^b[255&(f^c.charCodeAt(E))];return-1^f}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,i,s){var n=null;n=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:n}},{lie:37}],7:[function(r,i,s){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),f=n?"uint8array":"array";function c(d,m){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=m,this.meta={}}s.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(f,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(m){d.push({data:m,meta:d.meta})}},s.compressWorker=function(d){return new c("Deflate",d)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,s){function n(b,A){var E,R="";for(E=0;E<A;E++)R+=String.fromCharCode(255&b),b>>>=8;return R}function o(b,A,E,R,p,v){var S,x,_=b.file,C=b.compression,O=v!==f.utf8encode,N=a.transformTo("string",v(_.name)),k=a.transformTo("string",f.utf8encode(_.name)),B=_.comment,te=a.transformTo("string",v(B)),F=a.transformTo("string",f.utf8encode(B)),T=k.length!==_.name.length,h=F.length!==B.length,H="",Q="",W="",K=_.dir,Z=_.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};A&&!E||(ee.crc32=b.crc32,ee.compressedSize=b.compressedSize,ee.uncompressedSize=b.uncompressedSize);var z=0;A&&(z|=8),O||!T&&!h||(z|=2048);var y=0,M=0;K&&(y|=16),p==="UNIX"?(M=798,y|=function(P,ae){var J=P;return P||(J=ae?16893:33204),(65535&J)<<16}(_.unixPermissions,K)):(M=20,y|=function(P){return 63&(P||0)}(_.dosPermissions)),S=Z.getUTCHours(),S<<=6,S|=Z.getUTCMinutes(),S<<=5,S|=Z.getUTCSeconds()/2,x=Z.getUTCFullYear()-1980,x<<=4,x|=Z.getUTCMonth()+1,x<<=5,x|=Z.getUTCDate(),T&&(Q=n(1,1)+n(c(N),4)+k,H+="up"+n(Q.length,2)+Q),h&&(W=n(1,1)+n(c(te),4)+F,H+="uc"+n(W.length,2)+W);var w="";return w+="\n\0",w+=n(z,2),w+=C.magic,w+=n(S,2),w+=n(x,2),w+=n(ee.crc32,4),w+=n(ee.compressedSize,4),w+=n(ee.uncompressedSize,4),w+=n(N.length,2),w+=n(H.length,2),{fileRecord:d.LOCAL_FILE_HEADER+w+N+H,dirRecord:d.CENTRAL_FILE_HEADER+n(M,2)+w+n(te.length,2)+"\0\0\0\0"+n(y,4)+n(R,4)+N+H+te}}var a=r("../utils"),l=r("../stream/GenericWorker"),f=r("../utf8"),c=r("../crc32"),d=r("../signature");function m(b,A,E,R){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=E,this.encodeFileName=R,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(m,l),m.prototype.push=function(b){var A=b.meta.percent||0,E=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,l.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:E?(A+100*(E-R-1))/E:100}}))},m.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var A=this.streamFiles&&!b.file.dir;if(A){var E=o(b,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(b){this.accumulate=!1;var A=this.streamFiles&&!b.file.dir,E=o(b,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),A)this.push({data:function(R){return d.DATA_DESCRIPTOR+n(R.crc32,4)+n(R.compressedSize,4)+n(R.uncompressedSize,4)}(b),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var b=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var E=this.bytesWritten-b,R=function(p,v,S,x,_){var C=a.transformTo("string",_(x));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(p,2)+n(p,2)+n(v,4)+n(S,4)+n(C.length,2)+C}(this.dirRecords.length,E,b,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(b){this._sources.push(b);var A=this;return b.on("data",function(E){A.processChunk(E)}),b.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),b.on("error",function(E){A.error(E)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(b){var A=this._sources;if(!l.prototype.error.call(this,b))return!1;for(var E=0;E<A.length;E++)try{A[E].error(b)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var b=this._sources,A=0;A<b.length;A++)b[A].lock()},i.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,s){var n=r("../compressions"),o=r("./ZipFileWorker");s.generateWorker=function(a,l,f){var c=new o(l.streamFiles,f,l.platform,l.encodeFileName),d=0;try{a.forEach(function(m,b){d++;var A=function(v,S){var x=v||S,_=n[x];if(!_)throw new Error(x+" is not a valid compression method !");return _}(b.options.compression,l.compression),E=b.options.compressionOptions||l.compressionOptions||{},R=b.dir,p=b.date;b._compressWorker(A,E).withStreamInfo("file",{name:m,dir:R,date:p,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,s){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new n;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(n.prototype=r("./object")).loadAsync=r("./load"),n.support=r("./support"),n.defaults=r("./defaults"),n.version="3.10.1",n.loadAsync=function(o,a){return new n().loadAsync(o,a)},n.external=r("./external"),i.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,s){var n=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),f=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function d(m){return new o.Promise(function(b,A){var E=m.decompressed.getContentWorker().pipe(new f);E.on("error",function(R){A(R)}).on("end",function(){E.streamInfo.crc32!==m.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}i.exports=function(m,b){var A=this;return b=n.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",m,!0,b.optimizedBinaryString,b.base64).then(function(E){var R=new l(b);return R.load(E),R}).then(function(E){var R=[o.Promise.resolve(E)],p=E.files;if(b.checkCRC32)for(var v=0;v<p.length;v++)R.push(d(p[v]));return o.Promise.all(R)}).then(function(E){for(var R=E.shift(),p=R.files,v=0;v<p.length;v++){var S=p[v],x=S.fileNameStr,_=n.resolve(S.fileNameStr);A.file(_,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:b.createFolders}),S.dir||(A.file(_).unsafeOriginalName=x)}return R.zipComment.length&&(A.comment=R.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,s){var n=r("../utils"),o=r("../stream/GenericWorker");function a(l,f){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(f)}n.inherits(a,o),a.prototype._bindStream=function(l){var f=this;(this._stream=l).pause(),l.on("data",function(c){f.push({data:c,meta:{percent:0}})}).on("error",function(c){f.isPaused?this.generatedError=c:f.error(c)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,s){var n=r("readable-stream").Readable;function o(a,l,f){n.call(this,l),this._helper=a;var c=this;a.on("data",function(d,m){c.push(d)||c._helper.pause(),f&&f(m)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}r("../utils").inherits(o,n),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,o);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,o)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var o=new Buffer(n);return o.fill(0),o},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(r,i,s){function n(_,C,O){var N,k=a.getTypeOf(C),B=a.extend(O||{},c);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(_=p(_)),B.createFolders&&(N=R(_))&&v.call(this,N,!0);var te=k==="string"&&B.binary===!1&&B.base64===!1;O&&O.binary!==void 0||(B.binary=!te),(C instanceof d&&C.uncompressedSize===0||B.dir||!C||C.length===0)&&(B.base64=!1,B.binary=!0,C="",B.compression="STORE",k="string");var F=null;F=C instanceof d||C instanceof l?C:A.isNode&&A.isStream(C)?new E(_,C):a.prepareContent(_,C,B.binary,B.optimizedBinaryString,B.base64);var T=new m(_,F,B);this.files[_]=T}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),f=r("./stream/StreamHelper"),c=r("./defaults"),d=r("./compressedObject"),m=r("./zipObject"),b=r("./generate"),A=r("./nodejsUtils"),E=r("./nodejs/NodejsStreamInputAdapter"),R=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var C=_.lastIndexOf("/");return 0<C?_.substring(0,C):""},p=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},v=function(_,C){return C=C!==void 0?C:c.createFolders,_=p(_),this.files[_]||n.call(this,_,null,{dir:!0,createFolders:C}),this.files[_]};function S(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var C,O,N;for(C in this.files)N=this.files[C],(O=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&_(O,N)},filter:function(_){var C=[];return this.forEach(function(O,N){_(O,N)&&C.push(N)}),C},file:function(_,C,O){if(arguments.length!==1)return _=this.root+_,n.call(this,_,C,O),this;if(S(_)){var N=_;return this.filter(function(B,te){return!te.dir&&N.test(B)})}var k=this.files[this.root+_];return k&&!k.dir?k:null},folder:function(_){if(!_)return this;if(S(_))return this.filter(function(k,B){return B.dir&&_.test(k)});var C=this.root+_,O=v.call(this,C),N=this.clone();return N.root=O.name,N},remove:function(_){_=this.root+_;var C=this.files[_];if(C||(_.slice(-1)!=="/"&&(_+="/"),C=this.files[_]),C&&!C.dir)delete this.files[_];else for(var O=this.filter(function(k,B){return B.name.slice(0,_.length)===_}),N=0;N<O.length;N++)delete this.files[O[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var C,O={};try{if((O=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var N=O.comment||this.comment||"";C=b.generateWorker(this,O,N)}catch(k){(C=new l("error")).error(k)}return new f(C,O.type||"string",O.mimeType)},generateAsync:function(_,C){return this.generateInternalStream(_).accumulate(C)},generateNodeStream:function(_,C){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(C)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,s){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,s){var n=r("./DataReader");function o(a){n.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,n),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),f=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===f&&this.data[m+2]===c&&this.data[m+3]===d)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),f=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),m=this.readData(4);return l===m[0]&&f===m[1]&&c===m[2]&&d===m[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,i,s){var n=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,f=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)f=(f<<8)+this.byteAt(l);return this.index+=a,f},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=o},{"../utils":32}],19:[function(r,i,s){var n=r("./Uint8ArrayReader");function o(a){n.call(this,a)}r("../utils").inherits(o,n),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,s){var n=r("./DataReader");function o(a){n.call(this,a)}r("../utils").inherits(o,n),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,i,s){var n=r("./ArrayReader");function o(a){n.call(this,a)}r("../utils").inherits(o,n),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,s){var n=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),f=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");i.exports=function(d){var m=n.getTypeOf(d);return n.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new f(d):o.uint8array?new c(n.transformTo("uint8array",d)):new a(n.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,s){var n=r("./GenericWorker"),o=r("../utils");function a(l){n.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,n),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,s){var n=r("./GenericWorker"),o=r("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,n),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,s){var n=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}n.inherits(a,o),a.prototype.processChunk=function(l){if(l){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+l.data.length}o.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,s){var n=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){f.dataIsReady=!0,f.data=c,f.max=c&&c.length||0,f.type=n.getTypeOf(c),f.isPaused||f._tickAndRepeat()},function(c){f.error(c)})}n.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,f);break;case"uint8array":l=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":l=this.data.slice(this.index,f)}return this.index=f,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,s){function n(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=n},{}],29:[function(r,i,s){var n=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),f=r("../support"),c=r("../external"),d=null;if(f.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(A,E){return new c.Promise(function(R,p){var v=[],S=A._internalType,x=A._outputType,_=A._mimeType;A.on("data",function(C,O){v.push(C),E&&E(O)}).on("error",function(C){v=[],p(C)}).on("end",function(){try{var C=function(O,N,k){switch(O){case"blob":return n.newBlob(n.transformTo("arraybuffer",N),k);case"base64":return l.encode(N);default:return n.transformTo(O,N)}}(x,function(O,N){var k,B=0,te=null,F=0;for(k=0;k<N.length;k++)F+=N[k].length;switch(O){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(te=new Uint8Array(F),k=0;k<N.length;k++)te.set(N[k],B),B+=N[k].length;return te;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+O+"'")}}(S,v),_);R(C)}catch(O){p(O)}v=[]}).resume()})}function b(A,E,R){var p=E;switch(E){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=E,this._mimeType=R,n.checkSupport(p),this._worker=A.pipe(new o(p)),A.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}b.prototype={accumulate:function(A){return m(this,A)},on:function(A,E){var R=this;return A==="data"?this._worker.on(A,function(p){E.call(R,p.data,p.meta)}):this._worker.on(A,function(){n.delay(E,arguments,R)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},A)}},i.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var n=new ArrayBuffer(0);try{s.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(n),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,s){for(var n=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),f=new Array(256),c=0;c<256;c++)f[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;f[254]=f[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}s.utf8encode=function(b){return o.nodebuffer?a.newBufferFrom(b,"utf-8"):function(A){var E,R,p,v,S,x=A.length,_=0;for(v=0;v<x;v++)(64512&(R=A.charCodeAt(v)))==55296&&v+1<x&&(64512&(p=A.charCodeAt(v+1)))==56320&&(R=65536+(R-55296<<10)+(p-56320),v++),_+=R<128?1:R<2048?2:R<65536?3:4;for(E=o.uint8array?new Uint8Array(_):new Array(_),v=S=0;S<_;v++)(64512&(R=A.charCodeAt(v)))==55296&&v+1<x&&(64512&(p=A.charCodeAt(v+1)))==56320&&(R=65536+(R-55296<<10)+(p-56320),v++),R<128?E[S++]=R:(R<2048?E[S++]=192|R>>>6:(R<65536?E[S++]=224|R>>>12:(E[S++]=240|R>>>18,E[S++]=128|R>>>12&63),E[S++]=128|R>>>6&63),E[S++]=128|63&R);return E}(b)},s.utf8decode=function(b){return o.nodebuffer?n.transformTo("nodebuffer",b).toString("utf-8"):function(A){var E,R,p,v,S=A.length,x=new Array(2*S);for(E=R=0;E<S;)if((p=A[E++])<128)x[R++]=p;else if(4<(v=f[p]))x[R++]=65533,E+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&E<S;)p=p<<6|63&A[E++],v--;1<v?x[R++]=65533:p<65536?x[R++]=p:(p-=65536,x[R++]=55296|p>>10&1023,x[R++]=56320|1023&p)}return x.length!==R&&(x.subarray?x=x.subarray(0,R):x.length=R),n.applyFromCharCode(x)}(b=n.transformTo(o.uint8array?"uint8array":"array",b))},n.inherits(d,l),d.prototype.processChunk=function(b){var A=n.transformTo(o.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var E=A;(A=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),A.set(E,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var R=function(v,S){var x;for((S=S||v.length)>v.length&&(S=v.length),x=S-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?S:x+f[v[x]]>S?x:S}(A),p=A;R!==A.length&&(o.uint8array?(p=A.subarray(0,R),this.leftOver=A.subarray(R,A.length)):(p=A.slice(0,R),this.leftOver=A.slice(R,A.length))),this.push({data:s.utf8decode(p),meta:b.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=d,n.inherits(m,l),m.prototype.processChunk=function(b){this.push({data:s.utf8encode(b.data),meta:b.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,s){var n=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function f(E){return E}function c(E,R){for(var p=0;p<E.length;++p)R[p]=255&E.charCodeAt(p);return R}r("setimmediate"),s.newBlob=function(E,R){s.checkSupport("blob");try{return new Blob([E],{type:R})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(E),p.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(E,R,p){var v=[],S=0,x=E.length;if(x<=p)return String.fromCharCode.apply(null,E);for(;S<x;)R==="array"||R==="nodebuffer"?v.push(String.fromCharCode.apply(null,E.slice(S,Math.min(S+p,x)))):v.push(String.fromCharCode.apply(null,E.subarray(S,Math.min(S+p,x)))),S+=p;return v.join("")},stringifyByChar:function(E){for(var R="",p=0;p<E.length;p++)R+=String.fromCharCode(E[p]);return R},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function m(E){var R=65536,p=s.getTypeOf(E),v=!0;if(p==="uint8array"?v=d.applyCanBeUsed.uint8array:p==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<R;)try{return d.stringifyByChunk(E,p,R)}catch{R=Math.floor(R/2)}return d.stringifyByChar(E)}function b(E,R){for(var p=0;p<E.length;p++)R[p]=E[p];return R}s.applyFromCharCode=m;var A={};A.string={string:f,array:function(E){return c(E,new Array(E.length))},arraybuffer:function(E){return A.string.uint8array(E).buffer},uint8array:function(E){return c(E,new Uint8Array(E.length))},nodebuffer:function(E){return c(E,a.allocBuffer(E.length))}},A.array={string:m,array:f,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return a.newBufferFrom(E)}},A.arraybuffer={string:function(E){return m(new Uint8Array(E))},array:function(E){return b(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:f,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return a.newBufferFrom(new Uint8Array(E))}},A.uint8array={string:m,array:function(E){return b(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:f,nodebuffer:function(E){return a.newBufferFrom(E)}},A.nodebuffer={string:m,array:function(E){return b(E,new Array(E.length))},arraybuffer:function(E){return A.nodebuffer.uint8array(E).buffer},uint8array:function(E){return b(E,new Uint8Array(E.length))},nodebuffer:f},s.transformTo=function(E,R){if(R=R||"",!E)return R;s.checkSupport(E);var p=s.getTypeOf(R);return A[p][E](R)},s.resolve=function(E){for(var R=E.split("/"),p=[],v=0;v<R.length;v++){var S=R[v];S==="."||S===""&&v!==0&&v!==R.length-1||(S===".."?p.pop():p.push(S))}return p.join("/")},s.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(E)?"nodebuffer":n.uint8array&&E instanceof Uint8Array?"uint8array":n.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(E){if(!n[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(E){var R,p,v="";for(p=0;p<(E||"").length;p++)v+="\\x"+((R=E.charCodeAt(p))<16?"0":"")+R.toString(16).toUpperCase();return v},s.delay=function(E,R,p){setImmediate(function(){E.apply(p||null,R||[])})},s.inherits=function(E,R){function p(){}p.prototype=R.prototype,E.prototype=new p},s.extend=function(){var E,R,p={};for(E=0;E<arguments.length;E++)for(R in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],R)&&p[R]===void 0&&(p[R]=arguments[E][R]);return p},s.prepareContent=function(E,R,p,v,S){return l.Promise.resolve(R).then(function(x){return n.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(_,C){var O=new FileReader;O.onload=function(N){_(N.target.result)},O.onerror=function(N){C(N.target.error)},O.readAsArrayBuffer(x)}):x}).then(function(x){var _=s.getTypeOf(x);return _?(_==="arraybuffer"?x=s.transformTo("uint8array",x):_==="string"&&(S?x=o.decode(x):p&&v!==!0&&(x=function(C){return c(C,n.uint8array?new Uint8Array(C.length):new Array(C.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,s){var n=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),f=r("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(d)+")")}},isSignature:function(d,m){var b=this.reader.index;this.reader.setIndex(d);var A=this.reader.readString(4)===m;return this.reader.setIndex(b),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),m=f.uint8array?"uint8array":"array",b=o.transformTo(m,d);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,m,b,A=this.zip64EndOfCentralSize-44;0<A;)d=this.reader.readInt(2),m=this.reader.readInt(4),b=this.reader.readData(m),this.zip64ExtensibleData[d]={id:d,length:m,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,m;for(d=0;d<this.files.length;d++)m=this.files[d],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var m=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var A=m-b;if(0<A)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(d){this.reader=n(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,s){var n=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),f=r("./utf8"),c=r("./compressions"),d=r("./support");function m(b,A){this.options=b,this.loadOptions=A}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var A,E;if(b.skip(22),this.fileNameLength=b.readInt(2),E=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(R){for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)&&c[p].magic===R)return c[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var A=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(A),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var A,E,R,p=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<p;)A=b.readInt(2),E=b.readInt(2),R=b.readData(E),this.extraFields[A]={id:A,length:E,value:R};b.setIndex(p)},handleUTF8:function(){var b=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var E=o.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var p=o.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var A=n(b.value);return A.readInt(1)!==1||l(this.fileName)!==A.readInt(4)?null:f.utf8decode(A.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var A=n(b.value);return A.readInt(1)!==1||l(this.fileComment)!==A.readInt(4)?null:f.utf8decode(A.readData(b.length-5))}return null}},i.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,s){function n(A,E,R){this.name=A,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=E,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),f=r("./compressedObject"),c=r("./stream/GenericWorker");n.prototype={internalStream:function(A){var E=null,R="string";try{if(!A)throw new Error("No output type specified.");var p=(R=A.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),E=this._decompressWorker();var v=!this._dataBinary;v&&!p&&(E=E.pipe(new l.Utf8EncodeWorker)),!v&&p&&(E=E.pipe(new l.Utf8DecodeWorker))}catch(S){(E=new c("error")).error(S)}return new o(E,R,"")},async:function(A,E){return this.internalStream(A).accumulate(E)},nodeStream:function(A,E){return this.internalStream(A||"nodebuffer").toNodejsStream(E)},_compressWorker:function(A,E){if(this._data instanceof f&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new l.Utf8EncodeWorker)),f.createWorkerFrom(R,A,E)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<d.length;b++)n.prototype[d[b]]=m;i.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,s){(function(n){var o,a,l=n.MutationObserver||n.WebKitMutationObserver;if(l){var f=0,c=new l(A),d=n.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=f=++f%2}}else if(n.setImmediate||n.MessageChannel===void 0)o="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var E=n.document.createElement("script");E.onreadystatechange=function(){A(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},n.document.documentElement.appendChild(E)}:function(){setTimeout(A,0)};else{var m=new n.MessageChannel;m.port1.onmessage=A,o=function(){m.port2.postMessage(0)}}var b=[];function A(){var E,R;a=!0;for(var p=b.length;p;){for(R=b,b=[],E=-1;++E<p;)R[E]();p=b.length}a=!1}i.exports=function(E){b.push(E)!==1||a||o()}}).call(this,typeof Lr<"u"?Lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,s){var n=r("immediate");function o(){}var a={},l=["REJECTED"],f=["FULFILLED"],c=["PENDING"];function d(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,p!==o&&E(this,p)}function m(p,v,S){this.promise=p,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function b(p,v,S){n(function(){var x;try{x=v(S)}catch(_){return a.reject(p,_)}x===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,x)})}function A(p){var v=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof v=="function")return function(){v.apply(p,arguments)}}function E(p,v){var S=!1;function x(O){S||(S=!0,a.reject(p,O))}function _(O){S||(S=!0,a.resolve(p,O))}var C=R(function(){v(_,x)});C.status==="error"&&x(C.value)}function R(p,v){var S={};try{S.value=p(v),S.status="success"}catch(x){S.status="error",S.value=x}return S}(i.exports=d).prototype.finally=function(p){if(typeof p!="function")return this;var v=this.constructor;return this.then(function(S){return v.resolve(p()).then(function(){return S})},function(S){return v.resolve(p()).then(function(){throw S})})},d.prototype.catch=function(p){return this.then(null,p)},d.prototype.then=function(p,v){if(typeof p!="function"&&this.state===f||typeof v!="function"&&this.state===l)return this;var S=new this.constructor(o);return this.state!==c?b(S,this.state===f?p:v,this.outcome):this.queue.push(new m(S,p,v)),S},m.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},m.prototype.otherCallFulfilled=function(p){b(this.promise,this.onFulfilled,p)},m.prototype.callRejected=function(p){a.reject(this.promise,p)},m.prototype.otherCallRejected=function(p){b(this.promise,this.onRejected,p)},a.resolve=function(p,v){var S=R(A,v);if(S.status==="error")return a.reject(p,S.value);var x=S.value;if(x)E(p,x);else{p.state=f,p.outcome=v;for(var _=-1,C=p.queue.length;++_<C;)p.queue[_].callFulfilled(v)}return p},a.reject=function(p,v){p.state=l,p.outcome=v;for(var S=-1,x=p.queue.length;++S<x;)p.queue[S].callRejected(v);return p},d.resolve=function(p){return p instanceof this?p:a.resolve(new this(o),p)},d.reject=function(p){var v=new this(o);return a.reject(v,p)},d.all=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=p.length,x=!1;if(!S)return this.resolve([]);for(var _=new Array(S),C=0,O=-1,N=new this(o);++O<S;)k(p[O],O);return N;function k(B,te){v.resolve(B).then(function(F){_[te]=F,++C!==S||x||(x=!0,a.resolve(N,_))},function(F){x||(x=!0,a.reject(N,F))})}},d.race=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=p.length,x=!1;if(!S)return this.resolve([]);for(var _=-1,C=new this(o);++_<S;)O=p[_],v.resolve(O).then(function(N){x||(x=!0,a.resolve(C,N))},function(N){x||(x=!0,a.reject(C,N))});var O;return C}},{immediate:36}],38:[function(r,i,s){var n={};(0,r("./lib/utils/common").assign)(n,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,s){var n=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),f=r("./zlib/zstream"),c=Object.prototype.toString,d=0,m=-1,b=0,A=8;function E(p){if(!(this instanceof E))return new E(p);this.options=o.assign({level:m,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},p||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(S!==d)throw new Error(l[S]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(S=n.deflateSetDictionary(this.strm,x))!==d)throw new Error(l[S]);this._dict_set=!0}}function R(p,v){var S=new E(v);if(S.push(p,!0),S.err)throw S.msg||l[S.err];return S.result}E.prototype.push=function(p,v){var S,x,_=this.strm,C=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof p=="string"?_.input=a.string2buf(p):c.call(p)==="[object ArrayBuffer]"?_.input=new Uint8Array(p):_.input=p,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(C),_.next_out=0,_.avail_out=C),(S=n.deflate(_,x))!==1&&S!==d)return this.onEnd(S),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&S!==1);return x===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d):x!==2||(this.onEnd(d),!(_.avail_out=0))},E.prototype.onData=function(p){this.chunks.push(p)},E.prototype.onEnd=function(p){p===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Deflate=E,s.deflate=R,s.deflateRaw=function(p,v){return(v=v||{}).raw=!0,R(p,v)},s.gzip=function(p,v){return(v=v||{}).gzip=!0,R(p,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,s){var n=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),f=r("./zlib/messages"),c=r("./zlib/zstream"),d=r("./zlib/gzheader"),m=Object.prototype.toString;function b(E){if(!(this instanceof b))return new b(E);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},E||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||E&&E.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&!(15&R.windowBits)&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var p=n.inflateInit2(this.strm,R.windowBits);if(p!==l.Z_OK)throw new Error(f[p]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function A(E,R){var p=new b(R);if(p.push(E,!0),p.err)throw p.msg||f[p.err];return p.result}b.prototype.push=function(E,R){var p,v,S,x,_,C,O=this.strm,N=this.options.chunkSize,k=this.options.dictionary,B=!1;if(this.ended)return!1;v=R===~~R?R:R===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof E=="string"?O.input=a.binstring2buf(E):m.call(E)==="[object ArrayBuffer]"?O.input=new Uint8Array(E):O.input=E,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(N),O.next_out=0,O.avail_out=N),(p=n.inflate(O,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(C=typeof k=="string"?a.string2buf(k):m.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,p=n.inflateSetDictionary(this.strm,C)),p===l.Z_BUF_ERROR&&B===!0&&(p=l.Z_OK,B=!1),p!==l.Z_STREAM_END&&p!==l.Z_OK)return this.onEnd(p),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&p!==l.Z_STREAM_END&&(O.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(O.output,O.next_out),x=O.next_out-S,_=a.buf2string(O.output,S),O.next_out=x,O.avail_out=N-x,x&&o.arraySet(O.output,O.output,S,x,0),this.onData(_)):this.onData(o.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(B=!0)}while((0<O.avail_in||O.avail_out===0)&&p!==l.Z_STREAM_END);return p===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(p=n.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(O.avail_out=0))},b.prototype.onData=function(E){this.chunks.push(E)},b.prototype.onEnd=function(E){E===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Inflate=b,s.inflate=A,s.inflateRaw=function(E,R){return(R=R||{}).raw=!0,A(E,R)},s.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,s){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var c=f.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},s.shrinkBuf=function(l,f){return l.length===f?l:l.subarray?l.subarray(0,f):(l.length=f,l)};var o={arraySet:function(l,f,c,d,m){if(f.subarray&&l.subarray)l.set(f.subarray(c,c+d),m);else for(var b=0;b<d;b++)l[m+b]=f[c+b]},flattenChunks:function(l){var f,c,d,m,b,A;for(f=d=0,c=l.length;f<c;f++)d+=l[f].length;for(A=new Uint8Array(d),f=m=0,c=l.length;f<c;f++)b=l[f],A.set(b,m),m+=b.length;return A}},a={arraySet:function(l,f,c,d,m){for(var b=0;b<d;b++)l[m+b]=f[c+b]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(n)},{}],42:[function(r,i,s){var n=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new n.Buf8(256),f=0;f<256;f++)l[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function c(d,m){if(m<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(d,m));for(var b="",A=0;A<m;A++)b+=String.fromCharCode(d[A]);return b}l[254]=l[254]=1,s.string2buf=function(d){var m,b,A,E,R,p=d.length,v=0;for(E=0;E<p;E++)(64512&(b=d.charCodeAt(E)))==55296&&E+1<p&&(64512&(A=d.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(A-56320),E++),v+=b<128?1:b<2048?2:b<65536?3:4;for(m=new n.Buf8(v),E=R=0;R<v;E++)(64512&(b=d.charCodeAt(E)))==55296&&E+1<p&&(64512&(A=d.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(A-56320),E++),b<128?m[R++]=b:(b<2048?m[R++]=192|b>>>6:(b<65536?m[R++]=224|b>>>12:(m[R++]=240|b>>>18,m[R++]=128|b>>>12&63),m[R++]=128|b>>>6&63),m[R++]=128|63&b);return m},s.buf2binstring=function(d){return c(d,d.length)},s.binstring2buf=function(d){for(var m=new n.Buf8(d.length),b=0,A=m.length;b<A;b++)m[b]=d.charCodeAt(b);return m},s.buf2string=function(d,m){var b,A,E,R,p=m||d.length,v=new Array(2*p);for(b=A=0;b<p;)if((E=d[b++])<128)v[A++]=E;else if(4<(R=l[E]))v[A++]=65533,b+=R-1;else{for(E&=R===2?31:R===3?15:7;1<R&&b<p;)E=E<<6|63&d[b++],R--;1<R?v[A++]=65533:E<65536?v[A++]=E:(E-=65536,v[A++]=55296|E>>10&1023,v[A++]=56320|1023&E)}return c(v,A)},s.utf8border=function(d,m){var b;for((m=m||d.length)>d.length&&(m=d.length),b=m-1;0<=b&&(192&d[b])==128;)b--;return b<0||b===0?m:b+l[d[b]]>m?b:m}},{"./common":41}],43:[function(r,i,s){i.exports=function(n,o,a,l){for(var f=65535&n|0,c=n>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(f=f+o[l++]|0)|0,--d;);f%=65521,c%=65521}return f|c<<16|0}},{}],44:[function(r,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,s){var n=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();i.exports=function(o,a,l,f){var c=n,d=f+l;o^=-1;for(var m=f;m<d;m++)o=o>>>8^c[255&(o^a[m])];return-1^o}},{}],46:[function(r,i,s){var n,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),f=r("./crc32"),c=r("./messages"),d=0,m=4,b=0,A=-2,E=-1,R=4,p=2,v=8,S=9,x=286,_=30,C=19,O=2*x+1,N=15,k=3,B=258,te=B+k+1,F=42,T=113,h=1,H=2,Q=3,W=4;function K(u,D){return u.msg=c[D],D}function Z(u){return(u<<1)-(4<u?9:0)}function ee(u){for(var D=u.length;0<=--D;)u[D]=0}function z(u){var D=u.state,U=D.pending;U>u.avail_out&&(U=u.avail_out),U!==0&&(o.arraySet(u.output,D.pending_buf,D.pending_out,U,u.next_out),u.next_out+=U,D.pending_out+=U,u.total_out+=U,u.avail_out-=U,D.pending-=U,D.pending===0&&(D.pending_out=0))}function y(u,D){a._tr_flush_block(u,0<=u.block_start?u.block_start:-1,u.strstart-u.block_start,D),u.block_start=u.strstart,z(u.strm)}function M(u,D){u.pending_buf[u.pending++]=D}function w(u,D){u.pending_buf[u.pending++]=D>>>8&255,u.pending_buf[u.pending++]=255&D}function P(u,D){var U,$,j=u.max_chain_length,g=u.strstart,I=u.prev_length,oe=u.nice_match,ie=u.strstart>u.w_size-te?u.strstart-(u.w_size-te):0,he=u.window,se=u.w_mask,ne=u.prev,me=u.strstart+B,Re=he[g+I-1],Ee=he[g+I];u.prev_length>=u.good_match&&(j>>=2),oe>u.lookahead&&(oe=u.lookahead);do if(he[(U=D)+I]===Ee&&he[U+I-1]===Re&&he[U]===he[g]&&he[++U]===he[g+1]){g+=2,U++;do;while(he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&he[++g]===he[++U]&&g<me);if($=B-(me-g),g=me-B,I<$){if(u.match_start=D,oe<=(I=$))break;Re=he[g+I-1],Ee=he[g+I]}}while((D=ne[D&se])>ie&&--j!=0);return I<=u.lookahead?I:u.lookahead}function ae(u){var D,U,$,j,g,I,oe,ie,he,se,ne=u.w_size;do{if(j=u.window_size-u.lookahead-u.strstart,u.strstart>=ne+(ne-te)){for(o.arraySet(u.window,u.window,ne,ne,0),u.match_start-=ne,u.strstart-=ne,u.block_start-=ne,D=U=u.hash_size;$=u.head[--D],u.head[D]=ne<=$?$-ne:0,--U;);for(D=U=ne;$=u.prev[--D],u.prev[D]=ne<=$?$-ne:0,--U;);j+=ne}if(u.strm.avail_in===0)break;if(I=u.strm,oe=u.window,ie=u.strstart+u.lookahead,he=j,se=void 0,se=I.avail_in,he<se&&(se=he),U=se===0?0:(I.avail_in-=se,o.arraySet(oe,I.input,I.next_in,se,ie),I.state.wrap===1?I.adler=l(I.adler,oe,se,ie):I.state.wrap===2&&(I.adler=f(I.adler,oe,se,ie)),I.next_in+=se,I.total_in+=se,se),u.lookahead+=U,u.lookahead+u.insert>=k)for(g=u.strstart-u.insert,u.ins_h=u.window[g],u.ins_h=(u.ins_h<<u.hash_shift^u.window[g+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[g+k-1])&u.hash_mask,u.prev[g&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=g,g++,u.insert--,!(u.lookahead+u.insert<k)););}while(u.lookahead<te&&u.strm.avail_in!==0)}function J(u,D){for(var U,$;;){if(u.lookahead<te){if(ae(u),u.lookahead<te&&D===d)return h;if(u.lookahead===0)break}if(U=0,u.lookahead>=k&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+k-1])&u.hash_mask,U=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),U!==0&&u.strstart-U<=u.w_size-te&&(u.match_length=P(u,U)),u.match_length>=k)if($=a._tr_tally(u,u.strstart-u.match_start,u.match_length-k),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=k){for(u.match_length--;u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+k-1])&u.hash_mask,U=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart,--u.match_length!=0;);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else $=a._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if($&&(y(u,!1),u.strm.avail_out===0))return h}return u.insert=u.strstart<k-1?u.strstart:k-1,D===m?(y(u,!0),u.strm.avail_out===0?Q:W):u.last_lit&&(y(u,!1),u.strm.avail_out===0)?h:H}function re(u,D){for(var U,$,j;;){if(u.lookahead<te){if(ae(u),u.lookahead<te&&D===d)return h;if(u.lookahead===0)break}if(U=0,u.lookahead>=k&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+k-1])&u.hash_mask,U=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=k-1,U!==0&&u.prev_length<u.max_lazy_match&&u.strstart-U<=u.w_size-te&&(u.match_length=P(u,U),u.match_length<=5&&(u.strategy===1||u.match_length===k&&4096<u.strstart-u.match_start)&&(u.match_length=k-1)),u.prev_length>=k&&u.match_length<=u.prev_length){for(j=u.strstart+u.lookahead-k,$=a._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-k),u.lookahead-=u.prev_length-1,u.prev_length-=2;++u.strstart<=j&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+k-1])&u.hash_mask,U=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),--u.prev_length!=0;);if(u.match_available=0,u.match_length=k-1,u.strstart++,$&&(y(u,!1),u.strm.avail_out===0))return h}else if(u.match_available){if(($=a._tr_tally(u,0,u.window[u.strstart-1]))&&y(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return h}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&($=a._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<k-1?u.strstart:k-1,D===m?(y(u,!0),u.strm.avail_out===0?Q:W):u.last_lit&&(y(u,!1),u.strm.avail_out===0)?h:H}function V(u,D,U,$,j){this.good_length=u,this.max_lazy=D,this.nice_length=U,this.max_chain=$,this.func=j}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*C+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(N+1),this.heap=new o.Buf16(2*x+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(u){var D;return u&&u.state?(u.total_in=u.total_out=0,u.data_type=p,(D=u.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?F:T,u.adler=D.wrap===2?0:1,D.last_flush=d,a._tr_init(D),b):K(u,A)}function Y(u){var D=_e(u);return D===b&&function(U){U.window_size=2*U.w_size,ee(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=k-1,U.match_available=0,U.ins_h=0}(u.state),D}function L(u,D,U,$,j,g){if(!u)return A;var I=1;if(D===E&&(D=6),$<0?(I=0,$=-$):15<$&&(I=2,$-=16),j<1||S<j||U!==v||$<8||15<$||D<0||9<D||g<0||R<g)return K(u,A);$===8&&($=9);var oe=new ue;return(u.state=oe).strm=u,oe.wrap=I,oe.gzhead=null,oe.w_bits=$,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=j+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+k-1)/k),oe.window=new o.Buf8(2*oe.w_size),oe.head=new o.Buf16(oe.hash_size),oe.prev=new o.Buf16(oe.w_size),oe.lit_bufsize=1<<j+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new o.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=D,oe.strategy=g,oe.method=U,Y(u)}n=[new V(0,0,0,0,function(u,D){var U=65535;for(U>u.pending_buf_size-5&&(U=u.pending_buf_size-5);;){if(u.lookahead<=1){if(ae(u),u.lookahead===0&&D===d)return h;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var $=u.block_start+U;if((u.strstart===0||u.strstart>=$)&&(u.lookahead=u.strstart-$,u.strstart=$,y(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-te&&(y(u,!1),u.strm.avail_out===0))return h}return u.insert=0,D===m?(y(u,!0),u.strm.avail_out===0?Q:W):(u.strstart>u.block_start&&(y(u,!1),u.strm.avail_out),h)}),new V(4,4,8,4,J),new V(4,5,16,8,J),new V(4,6,32,32,J),new V(4,4,16,16,re),new V(8,16,32,32,re),new V(8,16,128,128,re),new V(8,32,128,256,re),new V(32,128,258,1024,re),new V(32,258,258,4096,re)],s.deflateInit=function(u,D){return L(u,D,v,15,8,0)},s.deflateInit2=L,s.deflateReset=Y,s.deflateResetKeep=_e,s.deflateSetHeader=function(u,D){return u&&u.state?u.state.wrap!==2?A:(u.state.gzhead=D,b):A},s.deflate=function(u,D){var U,$,j,g;if(!u||!u.state||5<D||D<0)return u?K(u,A):A;if($=u.state,!u.output||!u.input&&u.avail_in!==0||$.status===666&&D!==m)return K(u,u.avail_out===0?-5:A);if($.strm=u,U=$.last_flush,$.last_flush=D,$.status===F)if($.wrap===2)u.adler=0,M($,31),M($,139),M($,8),$.gzhead?(M($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),M($,255&$.gzhead.time),M($,$.gzhead.time>>8&255),M($,$.gzhead.time>>16&255),M($,$.gzhead.time>>24&255),M($,$.level===9?2:2<=$.strategy||$.level<2?4:0),M($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(M($,255&$.gzhead.extra.length),M($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(u.adler=f(u.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(M($,0),M($,0),M($,0),M($,0),M($,0),M($,$.level===9?2:2<=$.strategy||$.level<2?4:0),M($,3),$.status=T);else{var I=v+($.w_bits-8<<4)<<8;I|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(I|=32),I+=31-I%31,$.status=T,w($,I),$.strstart!==0&&(w($,u.adler>>>16),w($,65535&u.adler)),u.adler=1}if($.status===69)if($.gzhead.extra){for(j=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),z(u),j=$.pending,$.pending!==$.pending_buf_size));)M($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),z(u),j=$.pending,$.pending===$.pending_buf_size)){g=1;break}g=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,M($,g)}while(g!==0);$.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),g===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),z(u),j=$.pending,$.pending===$.pending_buf_size)){g=1;break}g=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,M($,g)}while(g!==0);$.gzhead.hcrc&&$.pending>j&&(u.adler=f(u.adler,$.pending_buf,$.pending-j,j)),g===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&z(u),$.pending+2<=$.pending_buf_size&&(M($,255&u.adler),M($,u.adler>>8&255),u.adler=0,$.status=T)):$.status=T),$.pending!==0){if(z(u),u.avail_out===0)return $.last_flush=-1,b}else if(u.avail_in===0&&Z(D)<=Z(U)&&D!==m)return K(u,-5);if($.status===666&&u.avail_in!==0)return K(u,-5);if(u.avail_in!==0||$.lookahead!==0||D!==d&&$.status!==666){var oe=$.strategy===2?function(ie,he){for(var se;;){if(ie.lookahead===0&&(ae(ie),ie.lookahead===0)){if(he===d)return h;break}if(ie.match_length=0,se=a._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,se&&(y(ie,!1),ie.strm.avail_out===0))return h}return ie.insert=0,he===m?(y(ie,!0),ie.strm.avail_out===0?Q:W):ie.last_lit&&(y(ie,!1),ie.strm.avail_out===0)?h:H}($,D):$.strategy===3?function(ie,he){for(var se,ne,me,Re,Ee=ie.window;;){if(ie.lookahead<=B){if(ae(ie),ie.lookahead<=B&&he===d)return h;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=k&&0<ie.strstart&&(ne=Ee[me=ie.strstart-1])===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]){Re=ie.strstart+B;do;while(ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&ne===Ee[++me]&&me<Re);ie.match_length=B-(Re-me),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=k?(se=a._tr_tally(ie,1,ie.match_length-k),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(se=a._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),se&&(y(ie,!1),ie.strm.avail_out===0))return h}return ie.insert=0,he===m?(y(ie,!0),ie.strm.avail_out===0?Q:W):ie.last_lit&&(y(ie,!1),ie.strm.avail_out===0)?h:H}($,D):n[$.level].func($,D);if(oe!==Q&&oe!==W||($.status=666),oe===h||oe===Q)return u.avail_out===0&&($.last_flush=-1),b;if(oe===H&&(D===1?a._tr_align($):D!==5&&(a._tr_stored_block($,0,0,!1),D===3&&(ee($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),z(u),u.avail_out===0))return $.last_flush=-1,b}return D!==m?b:$.wrap<=0?1:($.wrap===2?(M($,255&u.adler),M($,u.adler>>8&255),M($,u.adler>>16&255),M($,u.adler>>24&255),M($,255&u.total_in),M($,u.total_in>>8&255),M($,u.total_in>>16&255),M($,u.total_in>>24&255)):(w($,u.adler>>>16),w($,65535&u.adler)),z(u),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?b:1)},s.deflateEnd=function(u){var D;return u&&u.state?(D=u.state.status)!==F&&D!==69&&D!==73&&D!==91&&D!==103&&D!==T&&D!==666?K(u,A):(u.state=null,D===T?K(u,-3):b):A},s.deflateSetDictionary=function(u,D){var U,$,j,g,I,oe,ie,he,se=D.length;if(!u||!u.state||(g=(U=u.state).wrap)===2||g===1&&U.status!==F||U.lookahead)return A;for(g===1&&(u.adler=l(u.adler,D,se,0)),U.wrap=0,se>=U.w_size&&(g===0&&(ee(U.head),U.strstart=0,U.block_start=0,U.insert=0),he=new o.Buf8(U.w_size),o.arraySet(he,D,se-U.w_size,U.w_size,0),D=he,se=U.w_size),I=u.avail_in,oe=u.next_in,ie=u.input,u.avail_in=se,u.next_in=0,u.input=D,ae(U);U.lookahead>=k;){for($=U.strstart,j=U.lookahead-(k-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[$+k-1])&U.hash_mask,U.prev[$&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=$,$++,--j;);U.strstart=$,U.lookahead=k-1,ae(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=k-1,U.match_available=0,u.next_in=oe,u.input=ie,u.avail_in=I,U.wrap=g,b},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,s){i.exports=function(n,o){var a,l,f,c,d,m,b,A,E,R,p,v,S,x,_,C,O,N,k,B,te,F,T,h,H;a=n.state,l=n.next_in,h=n.input,f=l+(n.avail_in-5),c=n.next_out,H=n.output,d=c-(o-n.avail_out),m=c+(n.avail_out-257),b=a.dmax,A=a.wsize,E=a.whave,R=a.wnext,p=a.window,v=a.hold,S=a.bits,x=a.lencode,_=a.distcode,C=(1<<a.lenbits)-1,O=(1<<a.distbits)-1;e:do{S<15&&(v+=h[l++]<<S,S+=8,v+=h[l++]<<S,S+=8),N=x[v&C];t:for(;;){if(v>>>=k=N>>>24,S-=k,(k=N>>>16&255)===0)H[c++]=65535&N;else{if(!(16&k)){if(!(64&k)){N=x[(65535&N)+(v&(1<<k)-1)];continue t}if(32&k){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}B=65535&N,(k&=15)&&(S<k&&(v+=h[l++]<<S,S+=8),B+=v&(1<<k)-1,v>>>=k,S-=k),S<15&&(v+=h[l++]<<S,S+=8,v+=h[l++]<<S,S+=8),N=_[v&O];r:for(;;){if(v>>>=k=N>>>24,S-=k,!(16&(k=N>>>16&255))){if(!(64&k)){N=_[(65535&N)+(v&(1<<k)-1)];continue r}n.msg="invalid distance code",a.mode=30;break e}if(te=65535&N,S<(k&=15)&&(v+=h[l++]<<S,(S+=8)<k&&(v+=h[l++]<<S,S+=8)),b<(te+=v&(1<<k)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=k,S-=k,(k=c-d)<te){if(E<(k=te-k)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(T=p,(F=0)===R){if(F+=A-k,k<B){for(B-=k;H[c++]=p[F++],--k;);F=c-te,T=H}}else if(R<k){if(F+=A+R-k,(k-=R)<B){for(B-=k;H[c++]=p[F++],--k;);if(F=0,R<B){for(B-=k=R;H[c++]=p[F++],--k;);F=c-te,T=H}}}else if(F+=R-k,k<B){for(B-=k;H[c++]=p[F++],--k;);F=c-te,T=H}for(;2<B;)H[c++]=T[F++],H[c++]=T[F++],H[c++]=T[F++],B-=3;B&&(H[c++]=T[F++],1<B&&(H[c++]=T[F++]))}else{for(F=c-te;H[c++]=H[F++],H[c++]=H[F++],H[c++]=H[F++],2<(B-=3););B&&(H[c++]=H[F++],1<B&&(H[c++]=H[F++]))}break}}break}}while(l<f&&c<m);l-=B=S>>3,v&=(1<<(S-=B<<3))-1,n.next_in=l,n.next_out=c,n.avail_in=l<f?f-l+5:5-(l-f),n.avail_out=c<m?m-c+257:257-(c-m),a.hold=v,a.bits=S}},{}],49:[function(r,i,s){var n=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),f=r("./inftrees"),c=1,d=2,m=0,b=-2,A=1,E=852,R=592;function p(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(F){var T;return F&&F.state?(T=F.state,F.total_in=F.total_out=T.total=0,F.msg="",T.wrap&&(F.adler=1&T.wrap),T.mode=A,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new n.Buf32(E),T.distcode=T.distdyn=new n.Buf32(R),T.sane=1,T.back=-1,m):b}function x(F){var T;return F&&F.state?((T=F.state).wsize=0,T.whave=0,T.wnext=0,S(F)):b}function _(F,T){var h,H;return F&&F.state?(H=F.state,T<0?(h=0,T=-T):(h=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?b:(H.window!==null&&H.wbits!==T&&(H.window=null),H.wrap=h,H.wbits=T,x(F))):b}function C(F,T){var h,H;return F?(H=new v,(F.state=H).window=null,(h=_(F,T))!==m&&(F.state=null),h):b}var O,N,k=!0;function B(F){if(k){var T;for(O=new n.Buf32(512),N=new n.Buf32(32),T=0;T<144;)F.lens[T++]=8;for(;T<256;)F.lens[T++]=9;for(;T<280;)F.lens[T++]=7;for(;T<288;)F.lens[T++]=8;for(f(c,F.lens,0,288,O,0,F.work,{bits:9}),T=0;T<32;)F.lens[T++]=5;f(d,F.lens,0,32,N,0,F.work,{bits:5}),k=!1}F.lencode=O,F.lenbits=9,F.distcode=N,F.distbits=5}function te(F,T,h,H){var Q,W=F.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),H>=W.wsize?(n.arraySet(W.window,T,h-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(H<(Q=W.wsize-W.wnext)&&(Q=H),n.arraySet(W.window,T,h-H,Q,W.wnext),(H-=Q)?(n.arraySet(W.window,T,h-H,H,0),W.wnext=H,W.whave=W.wsize):(W.wnext+=Q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=Q))),0}s.inflateReset=x,s.inflateReset2=_,s.inflateResetKeep=S,s.inflateInit=function(F){return C(F,15)},s.inflateInit2=C,s.inflate=function(F,T){var h,H,Q,W,K,Z,ee,z,y,M,w,P,ae,J,re,V,ue,_e,Y,L,u,D,U,$,j=0,g=new n.Buf8(4),I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return b;(h=F.state).mode===12&&(h.mode=13),K=F.next_out,Q=F.output,ee=F.avail_out,W=F.next_in,H=F.input,Z=F.avail_in,z=h.hold,y=h.bits,M=Z,w=ee,D=m;e:for(;;)switch(h.mode){case A:if(h.wrap===0){h.mode=13;break}for(;y<16;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(2&h.wrap&&z===35615){g[h.check=0]=255&z,g[1]=z>>>8&255,h.check=a(h.check,g,2,0),y=z=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&z)<<8)+(z>>8))%31){F.msg="incorrect header check",h.mode=30;break}if((15&z)!=8){F.msg="unknown compression method",h.mode=30;break}if(y-=4,u=8+(15&(z>>>=4)),h.wbits===0)h.wbits=u;else if(u>h.wbits){F.msg="invalid window size",h.mode=30;break}h.dmax=1<<u,F.adler=h.check=1,h.mode=512&z?10:12,y=z=0;break;case 2:for(;y<16;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(h.flags=z,(255&h.flags)!=8){F.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){F.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=z>>8&1),512&h.flags&&(g[0]=255&z,g[1]=z>>>8&255,h.check=a(h.check,g,2,0)),y=z=0,h.mode=3;case 3:for(;y<32;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.head&&(h.head.time=z),512&h.flags&&(g[0]=255&z,g[1]=z>>>8&255,g[2]=z>>>16&255,g[3]=z>>>24&255,h.check=a(h.check,g,4,0)),y=z=0,h.mode=4;case 4:for(;y<16;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.head&&(h.head.xflags=255&z,h.head.os=z>>8),512&h.flags&&(g[0]=255&z,g[1]=z>>>8&255,h.check=a(h.check,g,2,0)),y=z=0,h.mode=5;case 5:if(1024&h.flags){for(;y<16;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.length=z,h.head&&(h.head.extra_len=z),512&h.flags&&(g[0]=255&z,g[1]=z>>>8&255,h.check=a(h.check,g,2,0)),y=z=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(Z<(P=h.length)&&(P=Z),P&&(h.head&&(u=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),n.arraySet(h.head.extra,H,W,P,u)),512&h.flags&&(h.check=a(h.check,H,P,W)),Z-=P,W+=P,h.length-=P),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(Z===0)break e;for(P=0;u=H[W+P++],h.head&&u&&h.length<65536&&(h.head.name+=String.fromCharCode(u)),u&&P<Z;);if(512&h.flags&&(h.check=a(h.check,H,P,W)),Z-=P,W+=P,u)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(Z===0)break e;for(P=0;u=H[W+P++],h.head&&u&&h.length<65536&&(h.head.comment+=String.fromCharCode(u)),u&&P<Z;);if(512&h.flags&&(h.check=a(h.check,H,P,W)),Z-=P,W+=P,u)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;y<16;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(z!==(65535&h.check)){F.msg="header crc mismatch",h.mode=30;break}y=z=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),F.adler=h.check=0,h.mode=12;break;case 10:for(;y<32;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}F.adler=h.check=p(z),y=z=0,h.mode=11;case 11:if(h.havedict===0)return F.next_out=K,F.avail_out=ee,F.next_in=W,F.avail_in=Z,h.hold=z,h.bits=y,2;F.adler=h.check=1,h.mode=12;case 12:if(T===5||T===6)break e;case 13:if(h.last){z>>>=7&y,y-=7&y,h.mode=27;break}for(;y<3;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}switch(h.last=1&z,y-=1,3&(z>>>=1)){case 0:h.mode=14;break;case 1:if(B(h),h.mode=20,T!==6)break;z>>>=2,y-=2;break e;case 2:h.mode=17;break;case 3:F.msg="invalid block type",h.mode=30}z>>>=2,y-=2;break;case 14:for(z>>>=7&y,y-=7&y;y<32;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if((65535&z)!=(z>>>16^65535)){F.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&z,y=z=0,h.mode=15,T===6)break e;case 15:h.mode=16;case 16:if(P=h.length){if(Z<P&&(P=Z),ee<P&&(P=ee),P===0)break e;n.arraySet(Q,H,W,P,K),Z-=P,W+=P,ee-=P,K+=P,h.length-=P;break}h.mode=12;break;case 17:for(;y<14;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(h.nlen=257+(31&z),z>>>=5,y-=5,h.ndist=1+(31&z),z>>>=5,y-=5,h.ncode=4+(15&z),z>>>=4,y-=4,286<h.nlen||30<h.ndist){F.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;y<3;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.lens[I[h.have++]]=7&z,z>>>=3,y-=3}for(;h.have<19;)h.lens[I[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,U={bits:h.lenbits},D=f(0,h.lens,0,19,h.lencode,0,h.work,U),h.lenbits=U.bits,D){F.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;V=(j=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,ue=65535&j,!((re=j>>>24)<=y);){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(ue<16)z>>>=re,y-=re,h.lens[h.have++]=ue;else{if(ue===16){for($=re+2;y<$;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(z>>>=re,y-=re,h.have===0){F.msg="invalid bit length repeat",h.mode=30;break}u=h.lens[h.have-1],P=3+(3&z),z>>>=2,y-=2}else if(ue===17){for($=re+3;y<$;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}y-=re,u=0,P=3+(7&(z>>>=re)),z>>>=3,y-=3}else{for($=re+7;y<$;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}y-=re,u=0,P=11+(127&(z>>>=re)),z>>>=7,y-=7}if(h.have+P>h.nlen+h.ndist){F.msg="invalid bit length repeat",h.mode=30;break}for(;P--;)h.lens[h.have++]=u}}if(h.mode===30)break;if(h.lens[256]===0){F.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,U={bits:h.lenbits},D=f(c,h.lens,0,h.nlen,h.lencode,0,h.work,U),h.lenbits=U.bits,D){F.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,U={bits:h.distbits},D=f(d,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,U),h.distbits=U.bits,D){F.msg="invalid distances set",h.mode=30;break}if(h.mode=20,T===6)break e;case 20:h.mode=21;case 21:if(6<=Z&&258<=ee){F.next_out=K,F.avail_out=ee,F.next_in=W,F.avail_in=Z,h.hold=z,h.bits=y,l(F,w),K=F.next_out,Q=F.output,ee=F.avail_out,W=F.next_in,H=F.input,Z=F.avail_in,z=h.hold,y=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;V=(j=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,ue=65535&j,!((re=j>>>24)<=y);){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(V&&!(240&V)){for(_e=re,Y=V,L=ue;V=(j=h.lencode[L+((z&(1<<_e+Y)-1)>>_e)])>>>16&255,ue=65535&j,!(_e+(re=j>>>24)<=y);){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}z>>>=_e,y-=_e,h.back+=_e}if(z>>>=re,y-=re,h.back+=re,h.length=ue,V===0){h.mode=26;break}if(32&V){h.back=-1,h.mode=12;break}if(64&V){F.msg="invalid literal/length code",h.mode=30;break}h.extra=15&V,h.mode=22;case 22:if(h.extra){for($=h.extra;y<$;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.length+=z&(1<<h.extra)-1,z>>>=h.extra,y-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;V=(j=h.distcode[z&(1<<h.distbits)-1])>>>16&255,ue=65535&j,!((re=j>>>24)<=y);){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(!(240&V)){for(_e=re,Y=V,L=ue;V=(j=h.distcode[L+((z&(1<<_e+Y)-1)>>_e)])>>>16&255,ue=65535&j,!(_e+(re=j>>>24)<=y);){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}z>>>=_e,y-=_e,h.back+=_e}if(z>>>=re,y-=re,h.back+=re,64&V){F.msg="invalid distance code",h.mode=30;break}h.offset=ue,h.extra=15&V,h.mode=24;case 24:if(h.extra){for($=h.extra;y<$;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}h.offset+=z&(1<<h.extra)-1,z>>>=h.extra,y-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){F.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(ee===0)break e;if(P=w-ee,h.offset>P){if((P=h.offset-P)>h.whave&&h.sane){F.msg="invalid distance too far back",h.mode=30;break}ae=P>h.wnext?(P-=h.wnext,h.wsize-P):h.wnext-P,P>h.length&&(P=h.length),J=h.window}else J=Q,ae=K-h.offset,P=h.length;for(ee<P&&(P=ee),ee-=P,h.length-=P;Q[K++]=J[ae++],--P;);h.length===0&&(h.mode=21);break;case 26:if(ee===0)break e;Q[K++]=h.length,ee--,h.mode=21;break;case 27:if(h.wrap){for(;y<32;){if(Z===0)break e;Z--,z|=H[W++]<<y,y+=8}if(w-=ee,F.total_out+=w,h.total+=w,w&&(F.adler=h.check=h.flags?a(h.check,Q,w,K-w):o(h.check,Q,w,K-w)),w=ee,(h.flags?z:p(z))!==h.check){F.msg="incorrect data check",h.mode=30;break}y=z=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;y<32;){if(Z===0)break e;Z--,z+=H[W++]<<y,y+=8}if(z!==(4294967295&h.total)){F.msg="incorrect length check",h.mode=30;break}y=z=0}h.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return b}return F.next_out=K,F.avail_out=ee,F.next_in=W,F.avail_in=Z,h.hold=z,h.bits=y,(h.wsize||w!==F.avail_out&&h.mode<30&&(h.mode<27||T!==4))&&te(F,F.output,F.next_out,w-F.avail_out)?(h.mode=31,-4):(M-=F.avail_in,w-=F.avail_out,F.total_in+=M,F.total_out+=w,h.total+=w,h.wrap&&w&&(F.adler=h.check=h.flags?a(h.check,Q,w,F.next_out-w):o(h.check,Q,w,F.next_out-w)),F.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(M==0&&w===0||T===4)&&D===m&&(D=-5),D)},s.inflateEnd=function(F){if(!F||!F.state)return b;var T=F.state;return T.window&&(T.window=null),F.state=null,m},s.inflateGetHeader=function(F,T){var h;return F&&F.state&&2&(h=F.state).wrap?((h.head=T).done=!1,m):b},s.inflateSetDictionary=function(F,T){var h,H=T.length;return F&&F.state?(h=F.state).wrap!==0&&h.mode!==11?b:h.mode===11&&o(1,T,H,0)!==h.check?-3:te(F,T,H,H)?(h.mode=31,-4):(h.havedict=1,m):b},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,s){var n=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(c,d,m,b,A,E,R,p){var v,S,x,_,C,O,N,k,B,te=p.bits,F=0,T=0,h=0,H=0,Q=0,W=0,K=0,Z=0,ee=0,z=0,y=null,M=0,w=new n.Buf16(16),P=new n.Buf16(16),ae=null,J=0;for(F=0;F<=15;F++)w[F]=0;for(T=0;T<b;T++)w[d[m+T]]++;for(Q=te,H=15;1<=H&&w[H]===0;H--);if(H<Q&&(Q=H),H===0)return A[E++]=20971520,A[E++]=20971520,p.bits=1,0;for(h=1;h<H&&w[h]===0;h++);for(Q<h&&(Q=h),F=Z=1;F<=15;F++)if(Z<<=1,(Z-=w[F])<0)return-1;if(0<Z&&(c===0||H!==1))return-1;for(P[1]=0,F=1;F<15;F++)P[F+1]=P[F]+w[F];for(T=0;T<b;T++)d[m+T]!==0&&(R[P[d[m+T]]++]=T);if(O=c===0?(y=ae=R,19):c===1?(y=o,M-=257,ae=a,J-=257,256):(y=l,ae=f,-1),F=h,C=E,K=T=z=0,x=-1,_=(ee=1<<(W=Q))-1,c===1&&852<ee||c===2&&592<ee)return 1;for(;;){for(N=F-K,B=R[T]<O?(k=0,R[T]):R[T]>O?(k=ae[J+R[T]],y[M+R[T]]):(k=96,0),v=1<<F-K,h=S=1<<W;A[C+(z>>K)+(S-=v)]=N<<24|k<<16|B|0,S!==0;);for(v=1<<F-1;z&v;)v>>=1;if(v!==0?(z&=v-1,z+=v):z=0,T++,--w[F]==0){if(F===H)break;F=d[m+R[T]]}if(Q<F&&(z&_)!==x){for(K===0&&(K=Q),C+=h,Z=1<<(W=F-K);W+K<H&&!((Z-=w[W+K])<=0);)W++,Z<<=1;if(ee+=1<<W,c===1&&852<ee||c===2&&592<ee)return 1;A[x=z&_]=Q<<24|W<<16|C-E|0}}return z!==0&&(A[C+z]=F-K<<24|64<<16|0),p.bits=Q,0}},{"../utils/common":41}],51:[function(r,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,s){var n=r("../utils/common"),o=0,a=1;function l(j){for(var g=j.length;0<=--g;)j[g]=0}var f=0,c=29,d=256,m=d+1+c,b=30,A=19,E=2*m+1,R=15,p=16,v=7,S=256,x=16,_=17,C=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(m+2));l(te);var F=new Array(2*b);l(F);var T=new Array(512);l(T);var h=new Array(256);l(h);var H=new Array(c);l(H);var Q,W,K,Z=new Array(b);function ee(j,g,I,oe,ie){this.static_tree=j,this.extra_bits=g,this.extra_base=I,this.elems=oe,this.max_length=ie,this.has_stree=j&&j.length}function z(j,g){this.dyn_tree=j,this.max_code=0,this.stat_desc=g}function y(j){return j<256?T[j]:T[256+(j>>>7)]}function M(j,g){j.pending_buf[j.pending++]=255&g,j.pending_buf[j.pending++]=g>>>8&255}function w(j,g,I){j.bi_valid>p-I?(j.bi_buf|=g<<j.bi_valid&65535,M(j,j.bi_buf),j.bi_buf=g>>p-j.bi_valid,j.bi_valid+=I-p):(j.bi_buf|=g<<j.bi_valid&65535,j.bi_valid+=I)}function P(j,g,I){w(j,I[2*g],I[2*g+1])}function ae(j,g){for(var I=0;I|=1&j,j>>>=1,I<<=1,0<--g;);return I>>>1}function J(j,g,I){var oe,ie,he=new Array(R+1),se=0;for(oe=1;oe<=R;oe++)he[oe]=se=se+I[oe-1]<<1;for(ie=0;ie<=g;ie++){var ne=j[2*ie+1];ne!==0&&(j[2*ie]=ae(he[ne]++,ne))}}function re(j){var g;for(g=0;g<m;g++)j.dyn_ltree[2*g]=0;for(g=0;g<b;g++)j.dyn_dtree[2*g]=0;for(g=0;g<A;g++)j.bl_tree[2*g]=0;j.dyn_ltree[2*S]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function V(j){8<j.bi_valid?M(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function ue(j,g,I,oe){var ie=2*g,he=2*I;return j[ie]<j[he]||j[ie]===j[he]&&oe[g]<=oe[I]}function _e(j,g,I){for(var oe=j.heap[I],ie=I<<1;ie<=j.heap_len&&(ie<j.heap_len&&ue(g,j.heap[ie+1],j.heap[ie],j.depth)&&ie++,!ue(g,oe,j.heap[ie],j.depth));)j.heap[I]=j.heap[ie],I=ie,ie<<=1;j.heap[I]=oe}function Y(j,g,I){var oe,ie,he,se,ne=0;if(j.last_lit!==0)for(;oe=j.pending_buf[j.d_buf+2*ne]<<8|j.pending_buf[j.d_buf+2*ne+1],ie=j.pending_buf[j.l_buf+ne],ne++,oe===0?P(j,ie,g):(P(j,(he=h[ie])+d+1,g),(se=O[he])!==0&&w(j,ie-=H[he],se),P(j,he=y(--oe),I),(se=N[he])!==0&&w(j,oe-=Z[he],se)),ne<j.last_lit;);P(j,S,g)}function L(j,g){var I,oe,ie,he=g.dyn_tree,se=g.stat_desc.static_tree,ne=g.stat_desc.has_stree,me=g.stat_desc.elems,Re=-1;for(j.heap_len=0,j.heap_max=E,I=0;I<me;I++)he[2*I]!==0?(j.heap[++j.heap_len]=Re=I,j.depth[I]=0):he[2*I+1]=0;for(;j.heap_len<2;)he[2*(ie=j.heap[++j.heap_len]=Re<2?++Re:0)]=1,j.depth[ie]=0,j.opt_len--,ne&&(j.static_len-=se[2*ie+1]);for(g.max_code=Re,I=j.heap_len>>1;1<=I;I--)_e(j,he,I);for(ie=me;I=j.heap[1],j.heap[1]=j.heap[j.heap_len--],_e(j,he,1),oe=j.heap[1],j.heap[--j.heap_max]=I,j.heap[--j.heap_max]=oe,he[2*ie]=he[2*I]+he[2*oe],j.depth[ie]=(j.depth[I]>=j.depth[oe]?j.depth[I]:j.depth[oe])+1,he[2*I+1]=he[2*oe+1]=ie,j.heap[1]=ie++,_e(j,he,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],function(Ee,Ce){var qe,Ge,Xe,X,G,ce,fe=Ce.dyn_tree,ve=Ce.max_code,le=Ce.stat_desc.static_tree,de=Ce.stat_desc.has_stree,ge=Ce.stat_desc.extra_bits,pe=Ce.stat_desc.extra_base,Se=Ce.stat_desc.max_length,be=0;for(X=0;X<=R;X++)Ee.bl_count[X]=0;for(fe[2*Ee.heap[Ee.heap_max]+1]=0,qe=Ee.heap_max+1;qe<E;qe++)Se<(X=fe[2*fe[2*(Ge=Ee.heap[qe])+1]+1]+1)&&(X=Se,be++),fe[2*Ge+1]=X,ve<Ge||(Ee.bl_count[X]++,G=0,pe<=Ge&&(G=ge[Ge-pe]),ce=fe[2*Ge],Ee.opt_len+=ce*(X+G),de&&(Ee.static_len+=ce*(le[2*Ge+1]+G)));if(be!==0){do{for(X=Se-1;Ee.bl_count[X]===0;)X--;Ee.bl_count[X]--,Ee.bl_count[X+1]+=2,Ee.bl_count[Se]--,be-=2}while(0<be);for(X=Se;X!==0;X--)for(Ge=Ee.bl_count[X];Ge!==0;)ve<(Xe=Ee.heap[--qe])||(fe[2*Xe+1]!==X&&(Ee.opt_len+=(X-fe[2*Xe+1])*fe[2*Xe],fe[2*Xe+1]=X),Ge--)}}(j,g),J(he,Re,j.bl_count)}function u(j,g,I){var oe,ie,he=-1,se=g[1],ne=0,me=7,Re=4;for(se===0&&(me=138,Re=3),g[2*(I+1)+1]=65535,oe=0;oe<=I;oe++)ie=se,se=g[2*(oe+1)+1],++ne<me&&ie===se||(ne<Re?j.bl_tree[2*ie]+=ne:ie!==0?(ie!==he&&j.bl_tree[2*ie]++,j.bl_tree[2*x]++):ne<=10?j.bl_tree[2*_]++:j.bl_tree[2*C]++,he=ie,Re=(ne=0)===se?(me=138,3):ie===se?(me=6,3):(me=7,4))}function D(j,g,I){var oe,ie,he=-1,se=g[1],ne=0,me=7,Re=4;for(se===0&&(me=138,Re=3),oe=0;oe<=I;oe++)if(ie=se,se=g[2*(oe+1)+1],!(++ne<me&&ie===se)){if(ne<Re)for(;P(j,ie,j.bl_tree),--ne!=0;);else ie!==0?(ie!==he&&(P(j,ie,j.bl_tree),ne--),P(j,x,j.bl_tree),w(j,ne-3,2)):ne<=10?(P(j,_,j.bl_tree),w(j,ne-3,3)):(P(j,C,j.bl_tree),w(j,ne-11,7));he=ie,Re=(ne=0)===se?(me=138,3):ie===se?(me=6,3):(me=7,4)}}l(Z);var U=!1;function $(j,g,I,oe){w(j,(f<<1)+(oe?1:0),3),function(ie,he,se,ne){V(ie),ne&&(M(ie,se),M(ie,~se)),n.arraySet(ie.pending_buf,ie.window,he,se,ie.pending),ie.pending+=se}(j,g,I,!0)}s._tr_init=function(j){U||(function(){var g,I,oe,ie,he,se=new Array(R+1);for(ie=oe=0;ie<c-1;ie++)for(H[ie]=oe,g=0;g<1<<O[ie];g++)h[oe++]=ie;for(h[oe-1]=ie,ie=he=0;ie<16;ie++)for(Z[ie]=he,g=0;g<1<<N[ie];g++)T[he++]=ie;for(he>>=7;ie<b;ie++)for(Z[ie]=he<<7,g=0;g<1<<N[ie]-7;g++)T[256+he++]=ie;for(I=0;I<=R;I++)se[I]=0;for(g=0;g<=143;)te[2*g+1]=8,g++,se[8]++;for(;g<=255;)te[2*g+1]=9,g++,se[9]++;for(;g<=279;)te[2*g+1]=7,g++,se[7]++;for(;g<=287;)te[2*g+1]=8,g++,se[8]++;for(J(te,m+1,se),g=0;g<b;g++)F[2*g+1]=5,F[2*g]=ae(g,5);Q=new ee(te,O,d+1,m,R),W=new ee(F,N,0,b,R),K=new ee(new Array(0),k,0,A,v)}(),U=!0),j.l_desc=new z(j.dyn_ltree,Q),j.d_desc=new z(j.dyn_dtree,W),j.bl_desc=new z(j.bl_tree,K),j.bi_buf=0,j.bi_valid=0,re(j)},s._tr_stored_block=$,s._tr_flush_block=function(j,g,I,oe){var ie,he,se=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=function(ne){var me,Re=4093624447;for(me=0;me<=31;me++,Re>>>=1)if(1&Re&&ne.dyn_ltree[2*me]!==0)return o;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return a;for(me=32;me<d;me++)if(ne.dyn_ltree[2*me]!==0)return a;return o}(j)),L(j,j.l_desc),L(j,j.d_desc),se=function(ne){var me;for(u(ne,ne.dyn_ltree,ne.l_desc.max_code),u(ne,ne.dyn_dtree,ne.d_desc.max_code),L(ne,ne.bl_desc),me=A-1;3<=me&&ne.bl_tree[2*B[me]+1]===0;me--);return ne.opt_len+=3*(me+1)+5+5+4,me}(j),ie=j.opt_len+3+7>>>3,(he=j.static_len+3+7>>>3)<=ie&&(ie=he)):ie=he=I+5,I+4<=ie&&g!==-1?$(j,g,I,oe):j.strategy===4||he===ie?(w(j,2+(oe?1:0),3),Y(j,te,F)):(w(j,4+(oe?1:0),3),function(ne,me,Re,Ee){var Ce;for(w(ne,me-257,5),w(ne,Re-1,5),w(ne,Ee-4,4),Ce=0;Ce<Ee;Ce++)w(ne,ne.bl_tree[2*B[Ce]+1],3);D(ne,ne.dyn_ltree,me-1),D(ne,ne.dyn_dtree,Re-1)}(j,j.l_desc.max_code+1,j.d_desc.max_code+1,se+1),Y(j,j.dyn_ltree,j.dyn_dtree)),re(j),oe&&V(j)},s._tr_tally=function(j,g,I){return j.pending_buf[j.d_buf+2*j.last_lit]=g>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&g,j.pending_buf[j.l_buf+j.last_lit]=255&I,j.last_lit++,g===0?j.dyn_ltree[2*I]++:(j.matches++,g--,j.dyn_ltree[2*(h[I]+d+1)]++,j.dyn_dtree[2*y(g)]++),j.last_lit===j.lit_bufsize-1},s._tr_align=function(j){w(j,2,3),P(j,S,te),function(g){g.bi_valid===16?(M(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):8<=g.bi_valid&&(g.pending_buf[g.pending++]=255&g.bi_buf,g.bi_buf>>=8,g.bi_valid-=8)}(j)}},{"../utils/common":41}],53:[function(r,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,s){(function(n){(function(o,a){if(!o.setImmediate){var l,f,c,d,m=1,b={},A=!1,E=o.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(o);R=R&&R.setTimeout?R:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){v(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,_=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=_,x}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",S,!1):o.attachEvent("onmessage",S),function(x){o.postMessage(d+x,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){v(x.data)},function(x){c.port2.postMessage(x)}):E&&"onreadystatechange"in E.createElement("script")?(f=E.documentElement,function(x){var _=E.createElement("script");_.onreadystatechange=function(){v(x),_.onreadystatechange=null,f.removeChild(_),_=null},f.appendChild(_)}):function(x){setTimeout(v,0,x)},R.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var _=new Array(arguments.length-1),C=0;C<_.length;C++)_[C]=arguments[C+1];var O={callback:x,args:_};return b[m]=O,l(m),m++},R.clearImmediate=p}function p(x){delete b[x]}function v(x){if(A)setTimeout(v,0,x);else{var _=b[x];if(_){A=!0;try{(function(C){var O=C.callback,N=C.args;switch(N.length){case 0:O();break;case 1:O(N[0]);break;case 2:O(N[0],N[1]);break;case 3:O(N[0],N[1],N[2]);break;default:O.apply(a,N)}})(_)}finally{p(x),A=!1}}}}function S(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(d)===0&&v(+x.data.slice(d.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof Lr<"u"?Lr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(c1);var Jp=c1.exports;const yu=Ji(Jp);var u1={exports:{}},xo={exports:{}},Eu;function e2(){return Eu||(Eu=1,function(e){(function(t,r){e.exports?e.exports=r():t.EvEmitter=r()})(typeof window<"u"?window:Lr,function(){function t(){}let r=t.prototype;return r.on=function(i,s){if(!i||!s)return this;let n=this._events=this._events||{},o=n[i]=n[i]||[];return o.includes(s)||o.push(s),this},r.once=function(i,s){if(!i||!s)return this;this.on(i,s);let n=this._onceEvents=this._onceEvents||{},o=n[i]=n[i]||{};return o[s]=!0,this},r.off=function(i,s){let n=this._events&&this._events[i];if(!n||!n.length)return this;let o=n.indexOf(s);return o!=-1&&n.splice(o,1),this},r.emitEvent=function(i,s){let n=this._events&&this._events[i];if(!n||!n.length)return this;n=n.slice(0),s=s||[];let o=this._onceEvents&&this._onceEvents[i];for(let a of n)o&&o[a]&&(this.off(i,a),delete o[a]),a.apply(this,s);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},t})}(xo)),xo.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(e){(function(t,r){e.exports?e.exports=r(t,e2()):t.imagesLoaded=r(t,t.EvEmitter)})(typeof window<"u"?window:Lr,function(r,i){let s=r.jQuery,n=r.console;function o(m){return Array.isArray(m)?m:typeof m=="object"&&typeof m.length=="number"?[...m]:[m]}function a(m,b,A){if(!(this instanceof a))return new a(m,b,A);let E=m;if(typeof m=="string"&&(E=document.querySelectorAll(m)),!E){n.error("Bad element for imagesLoaded ".concat(E||m));return}this.elements=o(E),this.options={},typeof b=="function"?A=b:Object.assign(this.options,b),A&&this.on("always",A),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}a.prototype=Object.create(i.prototype),a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];a.prototype.addElementImages=function(m){m.nodeName==="IMG"&&this.addImage(m),this.options.background===!0&&this.addElementBackgroundImages(m);let{nodeType:b}=m;if(!b||!l.includes(b))return;let A=m.querySelectorAll("img");for(let E of A)this.addImage(E);if(typeof this.options.background=="string"){let E=m.querySelectorAll(this.options.background);for(let R of E)this.addElementBackgroundImages(R)}};const f=/url\((['"])?(.*?)\1\)/gi;a.prototype.addElementBackgroundImages=function(m){let b=getComputedStyle(m);if(!b)return;let A=f.exec(b.backgroundImage);for(;A!==null;){let E=A&&A[2];E&&this.addBackground(E,m),A=f.exec(b.backgroundImage)}},a.prototype.addImage=function(m){let b=new c(m);this.images.push(b)},a.prototype.addBackground=function(m,b){let A=new d(m,b);this.images.push(A)},a.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let m=(b,A,E)=>{setTimeout(()=>{this.progress(b,A,E)})};this.images.forEach(function(b){b.once("progress",m),b.check()})},a.prototype.progress=function(m,b,A){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!m.isLoaded,this.emitEvent("progress",[this,m,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,m),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: ".concat(A),m,b)},a.prototype.complete=function(){let m=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(m,[this]),this.emitEvent("always",[this]),this.jqDeferred){let b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}};function c(m){this.img=m}c.prototype=Object.create(i.prototype),c.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(m,b){this.isLoaded=m;let{parentNode:A}=this.img,E=A.nodeName==="PICTURE"?A:this.img;this.emitEvent("progress",[this,E,b])},c.prototype.handleEvent=function(m){let b="on"+m.type;this[b]&&this[b](m)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function d(m,b){this.url=m,this.element=b,this.img=new Image}return d.prototype=Object.create(c.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(m,b){this.isLoaded=m,this.emitEvent("progress",[this,this.element,b])},a.makeJQueryPlugin=function(m){m=m||r.jQuery,m&&(s=m,s.fn.imagesLoaded=function(b,A){return new a(this,b,A).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a})})(u1);var t2=u1.exports;const kn=Ji(t2);var pn=function(e){if(e){var t=function(T){return[].slice.call(T)},r=0,i=1,s=2,n=3,o=[],a=null,l="requestAnimationFrame"in e?function(){e.cancelAnimationFrame(a),a=e.requestAnimationFrame(function(){return c(o.filter(function(T){return T.dirty&&T.active}))})}:function(){},f=function(T){return function(){o.forEach(function(h){return h.dirty=T}),l()}},c=function(T){T.filter(function(H){return!H.styleComputed}).forEach(function(H){H.styleComputed=A(H)}),T.filter(E).forEach(R);var h=T.filter(b);h.forEach(m),h.forEach(function(H){R(H),d(H)}),h.forEach(p)},d=function(T){return T.dirty=r},m=function(T){T.availableWidth=T.element.parentNode.clientWidth,T.currentWidth=T.element.scrollWidth,T.previousFontSize=T.currentFontSize,T.currentFontSize=Math.min(Math.max(T.minSize,T.availableWidth/T.currentWidth*T.previousFontSize),T.maxSize),T.whiteSpace=T.multiLine&&T.currentFontSize===T.minSize?"normal":"nowrap"},b=function(T){return T.dirty!==s||T.dirty===s&&T.element.parentNode.clientWidth!==T.availableWidth},A=function(T){var h=e.getComputedStyle(T.element,null);return T.currentFontSize=parseFloat(h.getPropertyValue("font-size")),T.display=h.getPropertyValue("display"),T.whiteSpace=h.getPropertyValue("white-space"),!0},E=function(T){var h=!1;return!T.preStyleTestCompleted&&(/inline-/.test(T.display)||(h=!0,T.display="inline-block"),T.whiteSpace!=="nowrap"&&(h=!0,T.whiteSpace="nowrap"),T.preStyleTestCompleted=!0,h)},R=function(T){T.element.style.whiteSpace=T.whiteSpace,T.element.style.display=T.display,T.element.style.fontSize=T.currentFontSize+"px"},p=function(T){T.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:T.previousFontSize,newValue:T.currentFontSize,scaleFactor:T.currentFontSize/T.previousFontSize}}))},v=function(T,h){return function(){T.dirty=h,T.active&&l()}},S=function(T){return function(){o=o.filter(function(h){return h.element!==T.element}),T.observeMutations&&T.observer.disconnect(),T.element.style.whiteSpace=T.originalStyle.whiteSpace,T.element.style.display=T.originalStyle.display,T.element.style.fontSize=T.originalStyle.fontSize}},x=function(T){return function(){T.active||(T.active=!0,l())}},_=function(T){return function(){return T.active=!1}},C=function(T){T.observeMutations&&(T.observer=new MutationObserver(v(T,i)),T.observer.observe(T.element,T.observeMutations))},O={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in e&&{subtree:!0,childList:!0,characterData:!0}},N=null,k=function(){e.clearTimeout(N),N=e.setTimeout(f(s),F.observeWindowDelay)},B=["resize","orientationchange"];return Object.defineProperty(F,"observeWindow",{set:function(T){var h="".concat(T?"add":"remove","EventListener");B.forEach(function(H){e[h](H,k)})}}),F.observeWindow=!0,F.observeWindowDelay=100,F.fitAll=f(n),F}function te(T,h){var H=Object.assign({},O,h),Q=T.map(function(W){var K=Object.assign({},H,{element:W,active:!0});return function(Z){Z.originalStyle={whiteSpace:Z.element.style.whiteSpace,display:Z.element.style.display,fontSize:Z.element.style.fontSize},C(Z),Z.newbie=!0,Z.dirty=!0,o.push(Z)}(K),{element:W,fit:v(K,n),unfreeze:x(K),freeze:_(K),unsubscribe:S(K)}});return l(),Q}function F(T){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof T=="string"?te(t(document.querySelectorAll(T)),h):te([T],h)[0]}}(typeof window>"u"?null:window),f1={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,i){e.exports=i()})(Lr,function r(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s=!i.document&&!!i.postMessage,n=i.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(N,k){var B=(k=k||{}).dynamicTyping||!1;if(O(B)&&(k.dynamicTypingFunction=B,B={}),k.dynamicTyping=B,k.transform=!!O(k.transform)&&k.transform,k.worker&&l.WORKERS_SUPPORTED){var te=function(){if(!l.WORKERS_SUPPORTED)return!1;var T=(H=i.URL||i.webkitURL||null,Q=r.toString(),l.BLOB_URL||(l.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Q,")();"],{type:"text/javascript"})))),h=new i.Worker(T),H,Q;return h.onmessage=v,h.id=a++,o[h.id]=h}();return te.userStep=k.step,te.userChunk=k.chunk,te.userComplete=k.complete,te.userError=k.error,k.step=O(k.step),k.chunk=O(k.chunk),k.complete=O(k.complete),k.error=O(k.error),delete k.worker,void te.postMessage({input:N,config:k,workerId:te.id})}var F=null;return l.NODE_STREAM_INPUT,typeof N=="string"?(N=function(T){return T.charCodeAt(0)===65279?T.slice(1):T}(N),F=k.download?new d(k):new b(k)):N.readable===!0&&O(N.read)&&O(N.on)?F=new A(k):(i.File&&N instanceof File||N instanceof Object)&&(F=new m(k)),F.stream(N)},unparse:function(N,k){var B=!1,te=!0,F=",",T="\r\n",h='"',H=h+h,Q=!1,W=null,K=!1;(function(){if(typeof k=="object"){if(typeof k.delimiter!="string"||l.BAD_DELIMITERS.filter(function(y){return k.delimiter.indexOf(y)!==-1}).length||(F=k.delimiter),(typeof k.quotes=="boolean"||typeof k.quotes=="function"||Array.isArray(k.quotes))&&(B=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(Q=k.skipEmptyLines),typeof k.newline=="string"&&(T=k.newline),typeof k.quoteChar=="string"&&(h=k.quoteChar),typeof k.header=="boolean"&&(te=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");W=k.columns}k.escapeChar!==void 0&&(H=k.escapeChar+h),(typeof k.escapeFormulae=="boolean"||k.escapeFormulae instanceof RegExp)&&(K=k.escapeFormulae instanceof RegExp?k.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Z=new RegExp(R(h),"g");if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return ee(null,N,Q);if(typeof N[0]=="object")return ee(W||Object.keys(N[0]),N,Q)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||W),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),ee(N.fields||[],N.data||[],Q);throw new Error("Unable to serialize unrecognized input");function ee(y,M,w){var P="";typeof y=="string"&&(y=JSON.parse(y)),typeof M=="string"&&(M=JSON.parse(M));var ae=Array.isArray(y)&&0<y.length,J=!Array.isArray(M[0]);if(ae&&te){for(var re=0;re<y.length;re++)0<re&&(P+=F),P+=z(y[re],re);0<M.length&&(P+=T)}for(var V=0;V<M.length;V++){var ue=ae?y.length:M[V].length,_e=!1,Y=ae?Object.keys(M[V]).length===0:M[V].length===0;if(w&&!ae&&(_e=w==="greedy"?M[V].join("").trim()==="":M[V].length===1&&M[V][0].length===0),w==="greedy"&&ae){for(var L=[],u=0;u<ue;u++){var D=J?y[u]:u;L.push(M[V][D])}_e=L.join("").trim()===""}if(!_e){for(var U=0;U<ue;U++){0<U&&!Y&&(P+=F);var $=ae&&J?y[U]:U;P+=z(M[V][$],U)}V<M.length-1&&(!w||0<ue&&!Y)&&(P+=T)}}return P}function z(y,M){if(y==null)return"";if(y.constructor===Date)return JSON.stringify(y).slice(1,25);var w=!1;K&&typeof y=="string"&&K.test(y)&&(y="'"+y,w=!0);var P=y.toString().replace(Z,H);return(w=w||B===!0||typeof B=="function"&&B(y,M)||Array.isArray(B)&&B[M]||function(ae,J){for(var re=0;re<J.length;re++)if(-1<ae.indexOf(J[re]))return!0;return!1}(P,l.BAD_DELIMITERS)||-1<P.indexOf(F)||P.charAt(0)===" "||P.charAt(P.length-1)===" ")?h+P+h:P}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=p,l.ParserHandle=E,l.NetworkStreamer=d,l.FileStreamer=m,l.StringStreamer=b,l.ReadableStreamStreamer=A,i.jQuery){var f=i.jQuery;f.fn.parse=function(N){var k=N.config||{},B=[];return this.each(function(T){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var h=0;h<this.files.length;h++)B.push({file:this.files[h],inputElem:this,instanceConfig:f.extend({},k)})}),te(),this;function te(){if(B.length!==0){var T,h,H,Q,W=B[0];if(O(N.before)){var K=N.before(W.file,W.inputElem);if(typeof K=="object"){if(K.action==="abort")return T="AbortError",h=W.file,H=W.inputElem,Q=K.reason,void(O(N.error)&&N.error({name:T},h,H,Q));if(K.action==="skip")return void F();typeof K.config=="object"&&(W.instanceConfig=f.extend(W.instanceConfig,K.config))}else if(K==="skip")return void F()}var Z=W.instanceConfig.complete;W.instanceConfig.complete=function(ee){O(Z)&&Z(ee,W.file,W.inputElem),F()},l.parse(W.file,W.instanceConfig)}else O(N.complete)&&N.complete()}function F(){B.splice(0,1),te()}}}function c(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var B=_(k);B.chunkSize=parseInt(B.chunkSize),k.step||k.chunk||(B.chunkSize=null),this._handle=new E(B),(this._handle.streamer=this)._config=B}).call(this,N),this.parseChunk=function(k,B){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var te=this._config.beforeFirstChunk(k);te!==void 0&&(k=te)}this.isFirstChunk=!1,this._halted=!1;var F=this._partialLine+k;this._partialLine="";var T=this._handle.parse(F,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=T.meta.cursor;this._finished||(this._partialLine=F.substring(h-this._baseIndex),this._baseIndex=h),T&&T.data&&(this._rowCount+=T.data.length);var H=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)i.postMessage({results:T,workerId:l.WORKER_ID,finished:H});else if(O(this._config.chunk)&&!B){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);T=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!H||!O(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(k){O(this._config.error)?this._config.error(k):n&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:k,finished:!1})}}function d(N){var k;(N=N||{}).chunkSize||(N.chunkSize=l.RemoteChunkSize),c.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=C(this._chunkLoaded,this),k.onerror=C(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var B=this._config.downloadRequestHeaders;for(var te in B)k.setRequestHeader(te,B[te])}if(this._config.chunkSize){var F=this._start+this._config.chunkSize-1;k.setRequestHeader("Range","bytes="+this._start+"-"+F)}try{k.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}s&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:k.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(B){var te=B.getResponseHeader("Content-Range");return te===null?-1:parseInt(te.substring(te.lastIndexOf("/")+1))}(k),this.parseChunk(k.responseText)))},this._chunkError=function(B){var te=k.statusText||B;this._sendError(new Error(te))}}function m(N){var k,B;(N=N||{}).chunkSize||(N.chunkSize=l.LocalChunkSize),c.call(this,N);var te=typeof FileReader<"u";this.stream=function(F){this._input=F,B=F.slice||F.webkitSlice||F.mozSlice,te?((k=new FileReader).onload=C(this._chunkLoaded,this),k.onerror=C(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input;if(this._config.chunkSize){var T=Math.min(this._start+this._config.chunkSize,this._input.size);F=B.call(F,this._start,T)}var h=k.readAsText(F,this._config.encoding);te||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(k.error)}}function b(N){var k;c.call(this,N=N||{}),this.stream=function(B){return k=B,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var B,te=this._config.chunkSize;return te?(B=k.substring(0,te),k=k.substring(te)):(B=k,k=""),this._finished=!k,this.parseChunk(B)}}}function A(N){c.call(this,N=N||{});var k=[],B=!0,te=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){te&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):B=!0},this._streamData=C(function(F){try{k.push(typeof F=="string"?F:F.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(T){this._streamError(T)}},this),this._streamError=C(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=C(function(){this._streamCleanUp(),te=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(N){var k,B,te,F=Math.pow(2,53),T=-F,h=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Q=this,W=0,K=0,Z=!1,ee=!1,z=[],y={data:[],errors:[],meta:{}};if(O(N.step)){var M=N.step;N.step=function(V){if(y=V,ae())P();else{if(P(),y.data.length===0)return;W+=V.data.length,N.preview&&W>N.preview?B.abort():(y.data=y.data[0],M(y,Q))}}}function w(V){return N.skipEmptyLines==="greedy"?V.join("").trim()==="":V.length===1&&V[0].length===0}function P(){return y&&te&&(re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),te=!1),N.skipEmptyLines&&(y.data=y.data.filter(function(V){return!w(V)})),ae()&&function(){if(!y)return;function V(_e,Y){O(N.transformHeader)&&(_e=N.transformHeader(_e,Y)),z.push(_e)}if(Array.isArray(y.data[0])){for(var ue=0;ae()&&ue<y.data.length;ue++)y.data[ue].forEach(V);y.data.splice(0,1)}else y.data.forEach(V)}(),function(){if(!y||!N.header&&!N.dynamicTyping&&!N.transform)return y;function V(_e,Y){var L,u=N.header?{}:[];for(L=0;L<_e.length;L++){var D=L,U=_e[L];N.header&&(D=L>=z.length?"__parsed_extra":z[L]),N.transform&&(U=N.transform(U,D)),U=J(D,U),D==="__parsed_extra"?(u[D]=u[D]||[],u[D].push(U)):u[D]=U}return N.header&&(L>z.length?re("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+L,K+Y):L<z.length&&re("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+L,K+Y)),u}var ue=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(V),ue=y.data.length):y.data=V(y.data,0),N.header&&y.meta&&(y.meta.fields=z),K+=ue,y}()}function ae(){return N.header&&z.length===0}function J(V,ue){return _e=V,N.dynamicTypingFunction&&N.dynamicTyping[_e]===void 0&&(N.dynamicTyping[_e]=N.dynamicTypingFunction(_e)),(N.dynamicTyping[_e]||N.dynamicTyping)===!0?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&(function(Y){if(h.test(Y)){var L=parseFloat(Y);if(T<L&&L<F)return!0}return!1}(ue)?parseFloat(ue):H.test(ue)?new Date(ue):ue===""?null:ue):ue;var _e}function re(V,ue,_e,Y){var L={type:V,code:ue,message:_e};Y!==void 0&&(L.row=Y),y.errors.push(L)}this.parse=function(V,ue,_e){var Y=N.quoteChar||'"';if(N.newline||(N.newline=function(D,U){D=D.substring(0,1048576);var $=new RegExp(R(U)+"([^]*?)"+R(U),"gm"),j=(D=D.replace($,"")).split("\r"),g=D.split("\n"),I=1<g.length&&g[0].length<j[0].length;if(j.length===1||I)return"\n";for(var oe=0,ie=0;ie<j.length;ie++)j[ie][0]==="\n"&&oe++;return oe>=j.length/2?"\r\n":"\r"}(V,Y)),te=!1,N.delimiter)O(N.delimiter)&&(N.delimiter=N.delimiter(V),y.meta.delimiter=N.delimiter);else{var L=function(D,U,$,j,g){var I,oe,ie,he;g=g||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var se=0;se<g.length;se++){var ne=g[se],me=0,Re=0,Ee=0;ie=void 0;for(var Ce=new p({comments:j,delimiter:ne,newline:U,preview:10}).parse(D),qe=0;qe<Ce.data.length;qe++)if($&&w(Ce.data[qe]))Ee++;else{var Ge=Ce.data[qe].length;Re+=Ge,ie!==void 0?0<Ge&&(me+=Math.abs(Ge-ie),ie=Ge):ie=Ge}0<Ce.data.length&&(Re/=Ce.data.length-Ee),(oe===void 0||me<=oe)&&(he===void 0||he<Re)&&1.99<Re&&(oe=me,I=ne,he=Re)}return{successful:!!(N.delimiter=I),bestDelimiter:I}}(V,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess);L.successful?N.delimiter=L.bestDelimiter:(te=!0,N.delimiter=l.DefaultDelimiter),y.meta.delimiter=N.delimiter}var u=_(N);return N.preview&&N.header&&u.preview++,k=V,B=new p(u),y=B.parse(k,ue,_e),P(),Z?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,B.abort(),k=O(N.chunk)?"":k.substring(B.getCharIndex())},this.resume=function(){Q.streamer._halted?(Z=!1,Q.streamer.parseChunk(k,!0)):setTimeout(Q.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,B.abort(),y.meta.aborted=!0,O(N.complete)&&N.complete(y),k=""}}function R(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(N){var k,B=(N=N||{}).delimiter,te=N.newline,F=N.comments,T=N.step,h=N.preview,H=N.fastMode,Q=k=N.quoteChar===void 0||N.quoteChar===null?'"':N.quoteChar;if(N.escapeChar!==void 0&&(Q=N.escapeChar),(typeof B!="string"||-1<l.BAD_DELIMITERS.indexOf(B))&&(B=","),F===B)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||-1<l.BAD_DELIMITERS.indexOf(F))&&(F=!1),te!=="\n"&&te!=="\r"&&te!=="\r\n"&&(te="\n");var W=0,K=!1;this.parse=function(Z,ee,z){if(typeof Z!="string")throw new Error("Input must be a string");var y=Z.length,M=B.length,w=te.length,P=F.length,ae=O(T),J=[],re=[],V=[],ue=W=0;if(!Z)return Xe();if(N.header&&!ee){var _e=Z.split(te)[0].split(B),Y=[],L={},u=!1;for(var D in _e){var U=_e[D];O(N.transformHeader)&&(U=N.transformHeader(U,D));var $=U,j=L[U]||0;for(0<j&&(u=!0,$=U+"_"+j),L[U]=j+1;Y.includes($);)$=$+"_"+j;Y.push($)}if(u){var g=Z.split(te);g[0]=Y.join(B),Z=g.join(te)}}if(H||H!==!1&&Z.indexOf(k)===-1){for(var I=Z.split(te),oe=0;oe<I.length;oe++){if(V=I[oe],W+=V.length,oe!==I.length-1)W+=te.length;else if(z)return Xe();if(!F||V.substring(0,P)!==F){if(ae){if(J=[],Ee(V.split(B)),X(),K)return Xe()}else Ee(V.split(B));if(h&&h<=oe)return J=J.slice(0,h),Xe(!0)}}return Xe()}for(var ie=Z.indexOf(B,W),he=Z.indexOf(te,W),se=new RegExp(R(Q)+R(k),"g"),ne=Z.indexOf(k,W);;)if(Z[W]!==k)if(F&&V.length===0&&Z.substring(W,W+P)===F){if(he===-1)return Xe();W=he+w,he=Z.indexOf(te,W),ie=Z.indexOf(B,W)}else if(ie!==-1&&(ie<he||he===-1))V.push(Z.substring(W,ie)),W=ie+M,ie=Z.indexOf(B,W);else{if(he===-1)break;if(V.push(Z.substring(W,he)),Ge(he+w),ae&&(X(),K))return Xe();if(h&&J.length>=h)return Xe(!0)}else for(ne=W,W++;;){if((ne=Z.indexOf(k,ne+1))===-1)return z||re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:W}),qe();if(ne===y-1)return qe(Z.substring(W,ne).replace(se,k));if(k!==Q||Z[ne+1]!==Q){if(k===Q||ne===0||Z[ne-1]!==Q){ie!==-1&&ie<ne+1&&(ie=Z.indexOf(B,ne+1)),he!==-1&&he<ne+1&&(he=Z.indexOf(te,ne+1));var me=Ce(he===-1?ie:Math.min(ie,he));if(Z.substr(ne+1+me,M)===B){V.push(Z.substring(W,ne).replace(se,k)),Z[W=ne+1+me+M]!==k&&(ne=Z.indexOf(k,W)),ie=Z.indexOf(B,W),he=Z.indexOf(te,W);break}var Re=Ce(he);if(Z.substring(ne+1+Re,ne+1+Re+w)===te){if(V.push(Z.substring(W,ne).replace(se,k)),Ge(ne+1+Re+w),ie=Z.indexOf(B,W),ne=Z.indexOf(k,W),ae&&(X(),K))return Xe();if(h&&J.length>=h)return Xe(!0);break}re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:W}),ne++}}else ne++}return qe();function Ee(G){J.push(G),ue=W}function Ce(G){var ce=0;if(G!==-1){var fe=Z.substring(ne+1,G);fe&&fe.trim()===""&&(ce=fe.length)}return ce}function qe(G){return z||(G===void 0&&(G=Z.substring(W)),V.push(G),W=y,Ee(V),ae&&X()),Xe()}function Ge(G){W=G,Ee(V),V=[],he=Z.indexOf(te,W)}function Xe(G){return{data:J,errors:re,meta:{delimiter:B,linebreak:te,aborted:K,truncated:!!G,cursor:ue+(ee||0)}}}function X(){T(Xe()),J=[],re=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return W}}function v(N){var k=N.data,B=o[k.workerId],te=!1;if(k.error)B.userError(k.error,k.file);else if(k.results&&k.results.data){var F={abort:function(){te=!0,S(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(O(B.userStep)){for(var T=0;T<k.results.data.length&&(B.userStep({data:k.results.data[T],errors:k.results.errors,meta:k.results.meta},F),!te);T++);delete k.results}else O(B.userChunk)&&(B.userChunk(k.results,F,k.file),delete k.results)}k.finished&&!te&&S(k.workerId,k.results)}function S(N,k){var B=o[N];O(B.userComplete)&&B.userComplete(k),B.terminate(),delete o[N]}function x(){throw new Error("Not implemented.")}function _(N){if(typeof N!="object"||N===null)return N;var k=Array.isArray(N)?[]:{};for(var B in N)k[B]=_(N[B]);return k}function C(N,k){return function(){N.apply(k,arguments)}}function O(N){return typeof N=="function"}return n&&(i.onmessage=function(N){var k=N.data;if(l.WORKER_ID===void 0&&k&&(l.WORKER_ID=k.workerId),typeof k.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(k.input,k.config),finished:!0});else if(i.File&&k.input instanceof File||k.input instanceof Object){var B=l.parse(k.input,k.config);B&&i.postMessage({workerId:l.WORKER_ID,results:B,finished:!0})}}),(d.prototype=Object.create(c.prototype)).constructor=d,(m.prototype=Object.create(c.prototype)).constructor=m,(b.prototype=Object.create(b.prototype)).constructor=b,(A.prototype=Object.create(c.prototype)).constructor=A,l})})(f1);var r2=f1.exports;const Su=Ji(r2);var Ir={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},wu=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],xu=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Au=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],ur=typeof window<"u"&&typeof window.document<"u"?window.document:{},Dr="fullscreenEnabled"in ur&&Object.keys(Ir)||wu[0]in ur&&wu||xu[0]in ur&&xu||Au[0]in ur&&Au||[],n2={requestFullscreen:function(e){return e[Dr[Ir.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[Dr[Ir.requestFullscreen]]},get exitFullscreen(){return ur[Dr[Ir.exitFullscreen]].bind(ur)},get fullscreenPseudoClass(){return":"+Dr[Ir.fullscreen]},addEventListener:function(e,t,r){return ur.addEventListener(Dr[Ir[e]],t,r)},removeEventListener:function(e,t,r){return ur.removeEventListener(Dr[Ir[e]],t,r)},get fullscreenEnabled(){return!!ur[Dr[Ir.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return ur[Dr[Ir.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return ur[("on"+Dr[Ir.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return ur[("on"+Dr[Ir.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return ur[("on"+Dr[Ir.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return ur[("on"+Dr[Ir.fullscreenerror]).toLowerCase()]=e}};const Si=n2;var Ra={};function i2(e){return new Int8Array(e)}function h1(e){return new Int16Array(e)}function d1(e){return new Int32Array(e)}function _1(e){return new Float32Array(e)}function s2(e){return new Float64Array(e)}function m1(e){if(e.length==1)return _1(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(m1(e));return r}function p1(e){if(e.length==1)return d1(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(p1(e));return r}function v1(e){if(e.length==1)return h1(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(v1(e));return r}function g1(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(g1(e));return r}var b1={};b1.fill=function(e,t,r,i){if(arguments.length==2)for(var s=0;s<e.length;s++)e[s]=arguments[1];else for(var s=t;s<r;s++)e[s]=i};var Hs={};Hs.arraycopy=function(e,t,r,i,s){for(var n=t+s;t<n;)r[i++]=e[t++]};Hs.out={};Hs.out.println=function(e){console.log(e)};Hs.out.printf=function(){console.log.apply(console,arguments)};var Ga={};Ga.SQRT2=1.4142135623730951;Ga.FAST_LOG10=function(e){return Math.log10(e)};Ga.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function wn(e){this.ordinal=e}wn.short_block_allowed=new wn(0);wn.short_block_coupled=new wn(1);wn.short_block_dispensed=new wn(2);wn.short_block_forced=new wn(3);var y1={};y1.MAX_VALUE=34028235e31;function Fr(e){this.ordinal=e}Fr.vbr_off=new Fr(0);Fr.vbr_mt=new Fr(1);Fr.vbr_rh=new Fr(2);Fr.vbr_abr=new Fr(3);Fr.vbr_mtrh=new Fr(4);Fr.vbr_default=Fr.vbr_mtrh;var a2=function(e){},At={System:Hs,VbrMode:Fr,Float:y1,ShortBlock:wn,Util:Ga,Arrays:b1,new_array_n:g1,new_byte:i2,new_double:s2,new_float:_1,new_float_n:m1,new_int:d1,new_int_n:p1,new_short:h1,new_short_n:v1,assert:a2},Ao,Tu;function o2(){if(Tu)return Ao;Tu=1;var e=At,t=e.System;e.VbrMode,e.Float,e.ShortBlock;var r=e.Util,i=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var s=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var n=Kt();function o(){var a=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*r.SQRT2*.5/2384e-9,.017876148*r.SQRT2*.5/2384e-9,.003134727*r.SQRT2*.5/2384e-9,.002457142*r.SQRT2*.5/2384e-9,971317e-9*r.SQRT2*.5/2384e-9,218868e-9*r.SQRT2*.5/2384e-9,101566e-9*r.SQRT2*.5/2384e-9,13828e-9*r.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],l=12,f=36,c=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],d=c[n.SHORT_TYPE],m=c[n.SHORT_TYPE],b=c[n.SHORT_TYPE],A=c[n.SHORT_TYPE],E=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function R(S,x,_){for(var C=10,O=x+238-14-286,N=-15;N<0;N++){var k,B,te;k=a[C+-10],B=S[O+-224]*k,te=S[x+224]*k,k=a[C+-9],B+=S[O+-160]*k,te+=S[x+160]*k,k=a[C+-8],B+=S[O+-96]*k,te+=S[x+96]*k,k=a[C+-7],B+=S[O+-32]*k,te+=S[x+32]*k,k=a[C+-6],B+=S[O+32]*k,te+=S[x+-32]*k,k=a[C+-5],B+=S[O+96]*k,te+=S[x+-96]*k,k=a[C+-4],B+=S[O+160]*k,te+=S[x+-160]*k,k=a[C+-3],B+=S[O+224]*k,te+=S[x+-224]*k,k=a[C+-2],B+=S[x+-256]*k,te-=S[O+256]*k,k=a[C+-1],B+=S[x+-192]*k,te-=S[O+192]*k,k=a[C+0],B+=S[x+-128]*k,te-=S[O+128]*k,k=a[C+1],B+=S[x+-64]*k,te-=S[O+64]*k,k=a[C+2],B+=S[x+0]*k,te-=S[O+0]*k,k=a[C+3],B+=S[x+64]*k,te-=S[O+-64]*k,k=a[C+4],B+=S[x+128]*k,te-=S[O+-128]*k,k=a[C+5],B+=S[x+192]*k,te-=S[O+-192]*k,B*=a[C+6],k=te-B,_[30+N*2]=te+B,_[31+N*2]=a[C+7]*k,C+=18,x--,O++}{var B,te,F,T;te=S[x+-16]*a[C+-10],B=S[x+-32]*a[C+-2],te+=(S[x+-48]-S[x+16])*a[C+-9],B+=S[x+-96]*a[C+-1],te+=(S[x+-80]+S[x+48])*a[C+-8],B+=S[x+-160]*a[C+0],te+=(S[x+-112]-S[x+80])*a[C+-7],B+=S[x+-224]*a[C+1],te+=(S[x+-144]+S[x+112])*a[C+-6],B-=S[x+32]*a[C+2],te+=(S[x+-176]-S[x+144])*a[C+-5],B-=S[x+96]*a[C+3],te+=(S[x+-208]+S[x+176])*a[C+-4],B-=S[x+160]*a[C+4],te+=(S[x+-240]-S[x+208])*a[C+-3],B-=S[x+224],F=B-te,T=B+te,te=_[14],B=_[15]-te,_[31]=T+te,_[30]=F+B,_[15]=F-B,_[14]=T-te}{var h;h=_[28]-_[0],_[0]+=_[28],_[28]=h*a[C+-2*18+7],h=_[29]-_[1],_[1]+=_[29],_[29]=h*a[C+-2*18+7],h=_[26]-_[2],_[2]+=_[26],_[26]=h*a[C+-4*18+7],h=_[27]-_[3],_[3]+=_[27],_[27]=h*a[C+-4*18+7],h=_[24]-_[4],_[4]+=_[24],_[24]=h*a[C+-6*18+7],h=_[25]-_[5],_[5]+=_[25],_[25]=h*a[C+-6*18+7],h=_[22]-_[6],_[6]+=_[22],_[22]=h*r.SQRT2,h=_[23]-_[7],_[7]+=_[23],_[23]=h*r.SQRT2-_[7],_[7]-=_[6],_[22]-=_[7],_[23]-=_[22],h=_[6],_[6]=_[31]-h,_[31]=_[31]+h,h=_[7],_[7]=_[30]-h,_[30]=_[30]+h,h=_[22],_[22]=_[15]-h,_[15]=_[15]+h,h=_[23],_[23]=_[14]-h,_[14]=_[14]+h,h=_[20]-_[8],_[8]+=_[20],_[20]=h*a[C+-10*18+7],h=_[21]-_[9],_[9]+=_[21],_[21]=h*a[C+-10*18+7],h=_[18]-_[10],_[10]+=_[18],_[18]=h*a[C+-12*18+7],h=_[19]-_[11],_[11]+=_[19],_[19]=h*a[C+-12*18+7],h=_[16]-_[12],_[12]+=_[16],_[16]=h*a[C+-14*18+7],h=_[17]-_[13],_[13]+=_[17],_[17]=h*a[C+-14*18+7],h=-_[20]+_[24],_[20]+=_[24],_[24]=h*a[C+-12*18+7],h=-_[21]+_[25],_[21]+=_[25],_[25]=h*a[C+-12*18+7],h=_[4]-_[8],_[4]+=_[8],_[8]=h*a[C+-12*18+7],h=_[5]-_[9],_[5]+=_[9],_[9]=h*a[C+-12*18+7],h=_[0]-_[12],_[0]+=_[12],_[12]=h*a[C+-4*18+7],h=_[1]-_[13],_[1]+=_[13],_[13]=h*a[C+-4*18+7],h=_[16]-_[28],_[16]+=_[28],_[28]=h*a[C+-4*18+7],h=-_[17]+_[29],_[17]+=_[29],_[29]=h*a[C+-4*18+7],h=r.SQRT2*(_[2]-_[10]),_[2]+=_[10],_[10]=h,h=r.SQRT2*(_[3]-_[11]),_[3]+=_[11],_[11]=h,h=r.SQRT2*(-_[18]+_[26]),_[18]+=_[26],_[26]=h-_[18],h=r.SQRT2*(-_[19]+_[27]),_[19]+=_[27],_[27]=h-_[19],h=_[2],_[19]-=_[3],_[3]-=h,_[2]=_[31]-h,_[31]+=h,h=_[3],_[11]-=_[19],_[18]-=h,_[3]=_[30]-h,_[30]+=h,h=_[18],_[27]-=_[11],_[19]-=h,_[18]=_[15]-h,_[15]+=h,h=_[19],_[10]-=h,_[19]=_[14]-h,_[14]+=h,h=_[10],_[11]-=h,_[10]=_[23]-h,_[23]+=h,h=_[11],_[26]-=h,_[11]=_[22]-h,_[22]+=h,h=_[26],_[27]-=h,_[26]=_[7]-h,_[7]+=h,h=_[27],_[27]=_[6]-h,_[6]+=h,h=r.SQRT2*(_[0]-_[4]),_[0]+=_[4],_[4]=h,h=r.SQRT2*(_[1]-_[5]),_[1]+=_[5],_[5]=h,h=r.SQRT2*(_[16]-_[20]),_[16]+=_[20],_[20]=h,h=r.SQRT2*(_[17]-_[21]),_[17]+=_[21],_[21]=h,h=-r.SQRT2*(_[8]-_[12]),_[8]+=_[12],_[12]=h-_[8],h=-r.SQRT2*(_[9]-_[13]),_[9]+=_[13],_[13]=h-_[9],h=-r.SQRT2*(_[25]-_[29]),_[25]+=_[29],_[29]=h-_[25],h=-r.SQRT2*(_[24]+_[28]),_[24]-=_[28],_[28]=h-_[24],h=_[24]-_[16],_[24]=h,h=_[20]-h,_[20]=h,h=_[28]-h,_[28]=h,h=_[25]-_[17],_[25]=h,h=_[21]-h,_[21]=h,h=_[29]-h,_[29]=h,h=_[17]-_[1],_[17]=h,h=_[9]-h,_[9]=h,h=_[25]-h,_[25]=h,h=_[5]-h,_[5]=h,h=_[21]-h,_[21]=h,h=_[13]-h,_[13]=h,h=_[29]-h,_[29]=h,h=_[1]-_[0],_[1]=h,h=_[16]-h,_[16]=h,h=_[17]-h,_[17]=h,h=_[8]-h,_[8]=h,h=_[9]-h,_[9]=h,h=_[24]-h,_[24]=h,h=_[25]-h,_[25]=h,h=_[4]-h,_[4]=h,h=_[5]-h,_[5]=h,h=_[20]-h,_[20]=h,h=_[21]-h,_[21]=h,h=_[12]-h,_[12]=h,h=_[13]-h,_[13]=h,h=_[28]-h,_[28]=h,h=_[29]-h,_[29]=h,h=_[0],_[0]+=_[31],_[31]-=h,h=_[1],_[1]+=_[30],_[30]-=h,h=_[16],_[16]+=_[15],_[15]-=h,h=_[17],_[17]+=_[14],_[14]-=h,h=_[8],_[8]+=_[23],_[23]-=h,h=_[9],_[9]+=_[22],_[22]-=h,h=_[24],_[24]+=_[7],_[7]-=h,h=_[25],_[25]+=_[6],_[6]-=h,h=_[4],_[4]+=_[27],_[27]-=h,h=_[5],_[5]+=_[26],_[26]-=h,h=_[20],_[20]+=_[11],_[11]-=h,h=_[21],_[21]+=_[10],_[10]-=h,h=_[12],_[12]+=_[19],_[19]-=h,h=_[13],_[13]+=_[18],_[18]-=h,h=_[28],_[28]+=_[3],_[3]-=h,h=_[29],_[29]+=_[2],_[2]-=h}}function p(S,x){for(var _=0;_<3;_++){var C,O,N,k,B,te;k=S[x+2*3]*c[n.SHORT_TYPE][0]-S[x+5*3],C=S[x+0*3]*c[n.SHORT_TYPE][2]-S[x+3*3],O=k+C,N=k-C,k=S[x+5*3]*c[n.SHORT_TYPE][0]+S[x+2*3],C=S[x+3*3]*c[n.SHORT_TYPE][2]+S[x+0*3],B=k+C,te=-k+C,C=(S[x+1*3]*c[n.SHORT_TYPE][1]-S[x+4*3])*2069978111953089e-26,k=(S[x+4*3]*c[n.SHORT_TYPE][1]+S[x+1*3])*2069978111953089e-26,S[x+3*0]=O*190752519173728e-25+C,S[x+3*5]=-B*190752519173728e-25+k,N=N*.8660254037844387*1907525191737281e-26,B=B*.5*1907525191737281e-26+k,S[x+3*1]=N-B,S[x+3*2]=N+B,O=O*.5*1907525191737281e-26-C,te=te*.8660254037844387*1907525191737281e-26,S[x+3*3]=O+te,S[x+3*4]=O-te,x++}}function v(S,x,_){var C,O;{var N,k,B,te,F,T,h,H;N=_[17]-_[9],B=_[15]-_[11],te=_[14]-_[12],F=_[0]+_[8],T=_[1]+_[7],h=_[2]+_[6],H=_[3]+_[5],S[x+17]=F+h-H-(T-_[4]),O=(F+h-H)*m[12+7]+(T-_[4]),C=(N-B-te)*m[12+6],S[x+5]=C+O,S[x+6]=C-O,k=(_[16]-_[10])*m[12+6],T=T*m[12+7]+_[4],C=N*m[12+0]+k+B*m[12+1]+te*m[12+2],O=-F*m[12+4]+T-h*m[12+5]+H*m[12+3],S[x+1]=C+O,S[x+2]=C-O,C=N*m[12+1]-k-B*m[12+2]+te*m[12+0],O=-F*m[12+5]+T-h*m[12+3]+H*m[12+4],S[x+9]=C+O,S[x+10]=C-O,C=N*m[12+2]-k+B*m[12+0]-te*m[12+1],O=F*m[12+3]-T+h*m[12+4]-H*m[12+5],S[x+13]=C+O,S[x+14]=C-O}{var Q,W,K,Z,ee,z,y,M;Q=_[8]-_[0],K=_[6]-_[2],Z=_[5]-_[3],ee=_[17]+_[9],z=_[16]+_[10],y=_[15]+_[11],M=_[14]+_[12],S[x+0]=ee+y+M+(z+_[13]),C=(ee+y+M)*m[12+7]-(z+_[13]),O=(Q-K+Z)*m[12+6],S[x+11]=C+O,S[x+12]=C-O,W=(_[7]-_[1])*m[12+6],z=_[13]-z*m[12+7],C=ee*m[12+3]-z+y*m[12+4]+M*m[12+5],O=Q*m[12+2]+W+K*m[12+0]+Z*m[12+1],S[x+3]=C+O,S[x+4]=C-O,C=-ee*m[12+5]+z-y*m[12+3]-M*m[12+4],O=Q*m[12+1]+W-K*m[12+2]-Z*m[12+0],S[x+7]=C+O,S[x+8]=C-O,C=-ee*m[12+4]+z-y*m[12+5]-M*m[12+3],O=Q*m[12+0]-W+K*m[12+1]-Z*m[12+2],S[x+15]=C+O,S[x+16]=C-O}}this.mdct_sub48=function(S,x,_){for(var C=x,O=286,N=0;N<S.channels_out;N++){for(var k=0;k<S.mode_gr;k++){for(var B,te=S.l3_side.tt[k][N],F=te.xr,T=0,h=S.sb_sample[N][1-k],H=0,Q=0;Q<18/2;Q++)for(R(C,O,h[H]),R(C,O+32,h[H+1]),H+=2,O+=64,B=1;B<32;B+=2)h[H-1][B]*=-1;for(B=0;B<32;B++,T+=18){var W=te.block_type,K=S.sb_sample[N][k],Z=S.sb_sample[N][1-k];if(te.mixed_block_flag!=0&&B<2&&(W=0),S.amp_filter[B]<1e-12)i.fill(F,T+0,T+18,0);else{if(S.amp_filter[B]<1)for(var Q=0;Q<18;Q++)Z[Q][E[B]]*=S.amp_filter[B];if(W==n.SHORT_TYPE){for(var Q=-l/4;Q<0;Q++){var ee=c[n.SHORT_TYPE][Q+3];F[T+Q*3+9]=K[9+Q][E[B]]*ee-K[8-Q][E[B]],F[T+Q*3+18]=K[14-Q][E[B]]*ee+K[15+Q][E[B]],F[T+Q*3+10]=K[15+Q][E[B]]*ee-K[14-Q][E[B]],F[T+Q*3+19]=Z[2-Q][E[B]]*ee+Z[3+Q][E[B]],F[T+Q*3+11]=Z[3+Q][E[B]]*ee-Z[2-Q][E[B]],F[T+Q*3+20]=Z[8-Q][E[B]]*ee+Z[9+Q][E[B]]}p(F,T)}else{for(var z=s(18),Q=-f/4;Q<0;Q++){var y,M;y=c[W][Q+27]*Z[Q+9][E[B]]+c[W][Q+36]*Z[8-Q][E[B]],M=c[W][Q+9]*K[Q+9][E[B]]-c[W][Q+18]*K[8-Q][E[B]],z[Q+9]=y-M*d[3+Q+9],z[Q+18]=y*d[3+Q+9]+M}v(F,T,z)}}if(W!=n.SHORT_TYPE&&B!=0)for(var Q=7;Q>=0;--Q){var w,P;w=F[T+Q]*b[20+Q]+F[T+-1-Q]*A[28+Q],P=F[T+Q]*A[28+Q]-F[T+-1-Q]*b[20+Q],F[T+-1-Q]=w,F[T+Q]=P}}}if(C=_,O=286,S.mode_gr==1)for(var ae=0;ae<18;ae++)t.arraycopy(S.sb_sample[N][1][ae],0,S.sb_sample[N][0][ae],0,32)}}}return Ao=o,Ao}var To,Cu;function E1(){if(Cu)return To;Cu=1;var e=Kt(),t=At,r=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var i=t.new_float,s=t.new_float_n;t.new_int,t.new_int_n,t.assert;function n(){this.l=i(e.SBMAX_l),this.s=s([e.SBMAX_s,3]);var o=this;this.assign=function(a){r.arraycopy(a.l,0,o.l,0,e.SBMAX_l);for(var l=0;l<e.SBMAX_s;l++)for(var f=0;f<3;f++)o.s[l][f]=a.s[l][f]}}return To=n,To}var Co,Ru;function l2(){if(Ru)return Co;Ru=1;var e=E1();function t(){this.thm=new e,this.en=new e}return Co=t,Co}function tn(e){var t=e;this.ordinal=function(){return t}}tn.STEREO=new tn(0);tn.JOINT_STEREO=new tn(1);tn.DUAL_CHANNEL=new tn(2);tn.MONO=new tn(3);tn.NOT_SET=new tn(4);var zs=tn,Ro,ku;function Kt(){if(ku)return Ro;ku=1;var e=At,t=e.System,r=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var i=e.new_array_n;e.new_byte,e.new_double;var s=e.new_float,n=e.new_float_n,o=e.new_int;e.new_int_n;var a=e.assert;l.ENCDELAY=576,l.POSTDELAY=1152,l.MDCTDELAY=48,l.FFTOFFSET=224+l.MDCTDELAY,l.DECDELAY=528,l.SBLIMIT=32,l.CBANDS=64,l.SBPSY_l=21,l.SBPSY_s=12,l.SBMAX_l=22,l.SBMAX_s=13,l.PSFB21=6,l.PSFB12=6,l.BLKSIZE=1024,l.HBLKSIZE=l.BLKSIZE/2+1,l.BLKSIZE_s=256,l.HBLKSIZE_s=l.BLKSIZE_s/2+1,l.NORM_TYPE=0,l.START_TYPE=1,l.SHORT_TYPE=2,l.STOP_TYPE=3,l.MPG_MD_LR_LR=0,l.MPG_MD_LR_I=1,l.MPG_MD_MS_LR=2,l.MPG_MD_MS_I=3,l.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function l(){var f=o2(),c=l2(),d=zs,m=l.FFTOFFSET,b=l.MPG_MD_MS_LR,A=null;this.psy=null;var E=null,R=null,p=null;this.setModules=function(C,O,N,k){A=C,this.psy=O,E=O,R=k,p=N};var v=new f;function S(C){var O,N;if(C.ATH.useAdjust==0){C.ATH.adjust=1;return}if(N=C.loudness_sq[0][0],O=C.loudness_sq[1][0],C.channels_out==2?(N+=C.loudness_sq[0][1],O+=C.loudness_sq[1][1]):(N+=N,O+=O),C.mode_gr==2&&(N=Math.max(N,O)),N*=.5,N*=C.ATH.aaSensitivityP,N>.03125)C.ATH.adjust>=1?C.ATH.adjust=1:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=1;else{var k=31.98*N+625e-6;C.ATH.adjust>=k?(C.ATH.adjust*=k*.075+.925,C.ATH.adjust<k&&(C.ATH.adjust=k)):C.ATH.adjustLimit>=k?C.ATH.adjust=k:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=k}}function x(C){var O,N;for(a(0<=C.bitrate_index&&C.bitrate_index<16),a(0<=C.mode_ext&&C.mode_ext<4),C.bitrate_stereoMode_Hist[C.bitrate_index][4]++,C.bitrate_stereoMode_Hist[15][4]++,C.channels_out==2&&(C.bitrate_stereoMode_Hist[C.bitrate_index][C.mode_ext]++,C.bitrate_stereoMode_Hist[15][C.mode_ext]++),O=0;O<C.mode_gr;++O)for(N=0;N<C.channels_out;++N){var k=C.l3_side.tt[O][N].block_type|0;C.l3_side.tt[O][N].mixed_block_flag!=0&&(k=4),C.bitrate_blockType_Hist[C.bitrate_index][k]++,C.bitrate_blockType_Hist[C.bitrate_index][5]++,C.bitrate_blockType_Hist[15][k]++,C.bitrate_blockType_Hist[15][5]++}}function _(C,O){var N=C.internal_flags,k,B;if(N.lame_encode_frame_init==0){var te,F,T=s(2014),h=s(286+1152+576);for(N.lame_encode_frame_init=1,te=0,F=0;te<286+576*(1+N.mode_gr);++te)te<576*N.mode_gr?(T[te]=0,N.channels_out==2&&(h[te]=0)):(T[te]=O[0][F],N.channels_out==2&&(h[te]=O[1][F]),++F);for(B=0;B<N.mode_gr;B++)for(k=0;k<N.channels_out;k++)N.l3_side.tt[B][k].block_type=l.SHORT_TYPE;v.mdct_sub48(N,T,h),a(576>=l.FFTOFFSET),a(N.mf_size>=l.BLKSIZE+C.framesize-l.FFTOFFSET),a(N.mf_size>=512+C.framesize-32)}}this.lame_encode_mp3_frame=function(C,O,N,k,B,te){var F,T=i([2,2]);T[0][0]=new c,T[0][1]=new c,T[1][0]=new c,T[1][1]=new c;var h=i([2,2]);h[0][0]=new c,h[0][1]=new c,h[1][0]=new c,h[1][1]=new c;var H,Q=[null,null],W=C.internal_flags,K=n([2,4]),Z=[.5,.5],ee=[[0,0],[0,0]],z=[[0,0],[0,0]],y,M,w;if(Q[0]=O,Q[1]=N,W.lame_encode_frame_init==0&&_(C,Q),W.padding=0,(W.slot_lag-=W.frac_SpF)<0&&(W.slot_lag+=C.out_samplerate,W.padding=1),W.psymodel!=0){var P,ae=[null,null],J=0,re=o(2);for(w=0;w<W.mode_gr;w++){for(M=0;M<W.channels_out;M++)ae[M]=Q[M],J=576+w*576-l.FFTOFFSET;if(C.VBR==r.vbr_mtrh||C.VBR==r.vbr_mt?P=E.L3psycho_anal_vbr(C,ae,J,w,T,h,ee[w],z[w],K[w],re):P=E.L3psycho_anal_ns(C,ae,J,w,T,h,ee[w],z[w],K[w],re),P!=0)return-4;for(C.mode==d.JOINT_STEREO&&(Z[w]=K[w][2]+K[w][3],Z[w]>0&&(Z[w]=K[w][3]/Z[w])),M=0;M<W.channels_out;M++){var V=W.l3_side.tt[w][M];V.block_type=re[M],V.mixed_block_flag=0}}}else for(w=0;w<W.mode_gr;w++)for(M=0;M<W.channels_out;M++)W.l3_side.tt[w][M].block_type=l.NORM_TYPE,W.l3_side.tt[w][M].mixed_block_flag=0,z[w][M]=ee[w][M]=700;if(S(W),v.mdct_sub48(W,Q[0],Q[1]),W.mode_ext=l.MPG_MD_LR_LR,C.force_ms)W.mode_ext=l.MPG_MD_MS_LR;else if(C.mode==d.JOINT_STEREO){var ue=0,_e=0;for(w=0;w<W.mode_gr;w++)for(M=0;M<W.channels_out;M++)ue+=z[w][M],_e+=ee[w][M];if(ue<=1*_e){var Y=W.l3_side.tt[0],L=W.l3_side.tt[W.mode_gr-1];Y[0].block_type==Y[1].block_type&&L[0].block_type==L[1].block_type&&(W.mode_ext=l.MPG_MD_MS_LR)}}if(W.mode_ext==b?(H=h,y=z):(H=T,y=ee),C.analysis&&W.pinfo!=null)for(w=0;w<W.mode_gr;w++)for(M=0;M<W.channels_out;M++)W.pinfo.ms_ratio[w]=W.ms_ratio[w],W.pinfo.ms_ener_ratio[w]=Z[w],W.pinfo.blocktype[w][M]=W.l3_side.tt[w][M].block_type,W.pinfo.pe[w][M]=y[w][M],t.arraycopy(W.l3_side.tt[w][M].xr,0,W.pinfo.xr[w][M],0,576),W.mode_ext==b&&(W.pinfo.ers[w][M]=W.pinfo.ers[w][M+2],t.arraycopy(W.pinfo.energy[w][M+2],0,W.pinfo.energy[w][M],0,W.pinfo.energy[w][M].length));if(C.VBR==r.vbr_off||C.VBR==r.vbr_abr){var u,D;for(u=0;u<18;u++)W.nsPsy.pefirbuf[u]=W.nsPsy.pefirbuf[u+1];for(D=0,w=0;w<W.mode_gr;w++)for(M=0;M<W.channels_out;M++)D+=y[w][M];for(W.nsPsy.pefirbuf[18]=D,D=W.nsPsy.pefirbuf[9],u=0;u<9;u++)D+=(W.nsPsy.pefirbuf[u]+W.nsPsy.pefirbuf[18-u])*l.fircoef[u];for(D=670*5*W.mode_gr*W.channels_out/D,w=0;w<W.mode_gr;w++)for(M=0;M<W.channels_out;M++)y[w][M]*=D}if(W.iteration_loop.iteration_loop(C,y,Z,H),A.format_bitstream(C),F=A.copy_buffer(W,k,B,te,1),C.bWriteVbrTag&&R.addVbrFrame(C),C.analysis&&W.pinfo!=null){for(M=0;M<W.channels_out;M++){var U;for(U=0;U<m;U++)W.pinfo.pcmdata[M][U]=W.pinfo.pcmdata[M][U+C.framesize];for(U=m;U<1600;U++)W.pinfo.pcmdata[M][U]=Q[M][U-m]}p.set_frame_pinfo(C,H)}return x(W),F}}return Ro=l,Ro}var hr=At;hr.System;hr.VbrMode;hr.Float;hr.ShortBlock;var Iu=hr.Util;hr.Arrays;hr.new_array_n;hr.new_byte;hr.new_double;var Mu=hr.new_float;hr.new_float_n;hr.new_int;hr.new_int_n;hr.assert;var Mt=Kt();function c2(){var e=Mu(Mt.BLKSIZE),t=Mu(Mt.BLKSIZE_s/2),r=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function i(n,o,a){var l=0,f,c,d;a<<=1;var m=o+a;f=4;do{var b,A,E,R,p,v,S;S=f>>1,R=f,p=f<<1,v=p+R,f=p<<1,c=o,d=c+S;do{var x,_,C,O;_=n[c+0]-n[c+R],x=n[c+0]+n[c+R],O=n[c+p]-n[c+v],C=n[c+p]+n[c+v],n[c+p]=x-C,n[c+0]=x+C,n[c+v]=_-O,n[c+R]=_+O,_=n[d+0]-n[d+R],x=n[d+0]+n[d+R],O=Iu.SQRT2*n[d+v],C=Iu.SQRT2*n[d+p],n[d+p]=x-C,n[d+0]=x+C,n[d+v]=_-O,n[d+R]=_+O,d+=f,c+=f}while(c<m);for(A=r[l+0],b=r[l+1],E=1;E<S;E++){var N,k;N=1-2*b*b,k=2*b*A,c=o+E,d=o+R-E;do{var B,te,F,x,_,T,C,h,O,H;te=k*n[c+R]-N*n[d+R],B=N*n[c+R]+k*n[d+R],_=n[c+0]-B,x=n[c+0]+B,T=n[d+0]-te,F=n[d+0]+te,te=k*n[c+v]-N*n[d+v],B=N*n[c+v]+k*n[d+v],O=n[c+p]-B,C=n[c+p]+B,H=n[d+p]-te,h=n[d+p]+te,te=b*C-A*H,B=A*C+b*H,n[c+p]=x-B,n[c+0]=x+B,n[d+v]=T-te,n[d+R]=T+te,te=A*h-b*O,B=b*h+A*O,n[d+p]=F-B,n[d+0]=F+B,n[c+v]=_-te,n[c+R]=_+te,d+=f,c+=f}while(c<m);N=A,A=N*r[l+0]-b*r[l+1],b=N*r[l+1]+b*r[l+0]}l+=2}while(f<a)}var s=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(n,o,a,l,f){for(var c=0;c<3;c++){var d=Mt.BLKSIZE_s/2,m=65535&576/3*(c+1),b=Mt.BLKSIZE_s/8-1;do{var A,E,R,p,v,S=s[b<<2]&255;A=t[S]*l[a][f+S+m],v=t[127-S]*l[a][f+S+m+128],E=A-v,A=A+v,R=t[S+64]*l[a][f+S+m+64],v=t[63-S]*l[a][f+S+m+192],p=R-v,R=R+v,d-=4,o[c][d+0]=A+R,o[c][d+2]=A-R,o[c][d+1]=E+p,o[c][d+3]=E-p,A=t[S+1]*l[a][f+S+m+1],v=t[126-S]*l[a][f+S+m+129],E=A-v,A=A+v,R=t[S+65]*l[a][f+S+m+65],v=t[62-S]*l[a][f+S+m+193],p=R-v,R=R+v,o[c][d+Mt.BLKSIZE_s/2+0]=A+R,o[c][d+Mt.BLKSIZE_s/2+2]=A-R,o[c][d+Mt.BLKSIZE_s/2+1]=E+p,o[c][d+Mt.BLKSIZE_s/2+3]=E-p}while(--b>=0);i(o[c],d,Mt.BLKSIZE_s/2)}},this.fft_long=function(n,o,a,l,f){var c=Mt.BLKSIZE/8-1,d=Mt.BLKSIZE/2;do{var m,b,A,E,R,p=s[c]&255;m=e[p]*l[a][f+p],R=e[p+512]*l[a][f+p+512],b=m-R,m=m+R,A=e[p+256]*l[a][f+p+256],R=e[p+768]*l[a][f+p+768],E=A-R,A=A+R,d-=4,o[d+0]=m+A,o[d+2]=m-A,o[d+1]=b+E,o[d+3]=b-E,m=e[p+1]*l[a][f+p+1],R=e[p+513]*l[a][f+p+513],b=m-R,m=m+R,A=e[p+257]*l[a][f+p+257],R=e[p+769]*l[a][f+p+769],E=A-R,A=A+R,o[d+Mt.BLKSIZE/2+0]=m+A,o[d+Mt.BLKSIZE/2+2]=m-A,o[d+Mt.BLKSIZE/2+1]=b+E,o[d+Mt.BLKSIZE/2+3]=b-E}while(--c>=0);i(o,d,Mt.BLKSIZE/2)},this.init_fft=function(n){for(var o=0;o<Mt.BLKSIZE;o++)e[o]=.42-.5*Math.cos(2*Math.PI*(o+.5)/Mt.BLKSIZE)+.08*Math.cos(4*Math.PI*(o+.5)/Mt.BLKSIZE);for(var o=0;o<Mt.BLKSIZE_s/2;o++)t[o]=.5*(1-Math.cos(2*Math.PI*(o+.5)/Mt.BLKSIZE_s))}}var u2=c2,dr=At;dr.System;var wi=dr.VbrMode,Ou=dr.Float,xi=dr.ShortBlock,ir=dr.Util,f2=dr.Arrays;dr.new_array_n;dr.new_byte;dr.new_double;var Lt=dr.new_float,Br=dr.new_float_n,ei=dr.new_int;dr.new_int_n;var Be=dr.assert,h2=u2,xe=Kt();function d2(){var e=zs,t=new h2,r=2.302585092994046,i=2,s=16,n=2,o=16,a=.34,l=1/(14752*14752)/(xe.BLKSIZE/2),f=.01,c=.8,d=.6,m=.3,b=3.5,A=21,E=.2302585093;function R(X){return X}function p(X,G){for(var ce=0,fe=0;fe<xe.BLKSIZE/2;++fe)ce+=X[fe]*G.ATH.eql_w[fe];return ce*=l,ce}function v(X,G,ce,fe,ve,le,de,ge,pe,Se,be){var we=X.internal_flags;if(pe<2)t.fft_long(we,fe[ve],pe,Se,be),t.fft_short(we,le[de],pe,Se,be);else if(pe==2){for(var Ne=xe.BLKSIZE-1;Ne>=0;--Ne){var je=fe[ve+0][Ne],Ie=fe[ve+1][Ne];fe[ve+0][Ne]=(je+Ie)*ir.SQRT2*.5,fe[ve+1][Ne]=(je-Ie)*ir.SQRT2*.5}for(var Ue=2;Ue>=0;--Ue)for(var Ne=xe.BLKSIZE_s-1;Ne>=0;--Ne){var je=le[de+0][Ue][Ne],Ie=le[de+1][Ue][Ne];le[de+0][Ue][Ne]=(je+Ie)*ir.SQRT2*.5,le[de+1][Ue][Ne]=(je-Ie)*ir.SQRT2*.5}}G[0]=fe[ve+0][0],G[0]*=G[0];for(var Ne=xe.BLKSIZE/2-1;Ne>=0;--Ne){var ye=fe[ve+0][xe.BLKSIZE/2-Ne],$e=fe[ve+0][xe.BLKSIZE/2+Ne];G[xe.BLKSIZE/2-Ne]=(ye*ye+$e*$e)*.5}for(var Ue=2;Ue>=0;--Ue){ce[Ue][0]=le[de+0][Ue][0],ce[Ue][0]*=ce[Ue][0];for(var Ne=xe.BLKSIZE_s/2-1;Ne>=0;--Ne){var ye=le[de+0][Ue][xe.BLKSIZE_s/2-Ne],$e=le[de+0][Ue][xe.BLKSIZE_s/2+Ne];ce[Ue][xe.BLKSIZE_s/2-Ne]=(ye*ye+$e*$e)*.5}}{for(var rt=0,Ne=11;Ne<xe.HBLKSIZE;Ne++)rt+=G[Ne];we.tot_ener[pe]=rt}if(X.analysis){for(var Ne=0;Ne<xe.HBLKSIZE;Ne++)we.pinfo.energy[ge][pe][Ne]=we.pinfo.energy_save[pe][Ne],we.pinfo.energy_save[pe][Ne]=G[Ne];we.pinfo.pe[ge][pe]=we.pe[pe]}X.athaa_loudapprox==2&&pe<2&&(we.loudness_sq[ge][pe]=we.loudness_sq_save[pe],we.loudness_sq_save[pe]=p(G,we))}var S=8,x=23,_=15,C,O,N,k=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function B(){C=Math.pow(10,(S+1)/16),O=Math.pow(10,(x+1)/16),N=Math.pow(10,_/10)}var te=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],F=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],T=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function h(X,G,ce,fe,ve,le){var de;if(G>X)if(G<X*O)de=G/X;else return X+G;else{if(X>=G*O)return X+G;de=X/G}if(Be(X>=0),Be(G>=0),X+=G,fe+3<=3+3){if(de>=C)return X;var ge=0|ir.FAST_LOG10_X(de,16);return X*F[ge]}var ge=0|ir.FAST_LOG10_X(de,16);if(le!=0?G=ve.ATH.cb_s[ce]*ve.ATH.adjust:G=ve.ATH.cb_l[ce]*ve.ATH.adjust,Be(G>=0),X<N*G){if(X>G){var pe,Se;return pe=1,ge<=13&&(pe=T[ge]),Se=ir.FAST_LOG10_X(X/G,10/15),X*((te[ge]-pe)*Se+pe)}return ge>13?X:X*T[ge]}return X*te[ge]}var H=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function Q(X,G,ce){var fe;if(X<0&&(X=0),G<0&&(G=0),X<=0)return G;if(G<=0)return X;if(G>X?fe=G/X:fe=X/G,-2<=ce&&ce<=2){if(fe>=C)return X+G;var ve=0|ir.FAST_LOG10_X(fe,16);return(X+G)*H[ve]}return fe<O?X+G:(X<G&&(X=G),X)}function W(X,G){var ce=X.internal_flags;if(ce.channels_out>1){for(var fe=0;fe<xe.SBMAX_l;fe++){var ve=ce.thm[0].l[fe],le=ce.thm[1].l[fe];ce.thm[0].l[fe]+=le*G,ce.thm[1].l[fe]+=ve*G}for(var fe=0;fe<xe.SBMAX_s;fe++)for(var de=0;de<3;de++){var ve=ce.thm[0].s[fe][de],le=ce.thm[1].s[fe][de];ce.thm[0].s[fe][de]+=le*G,ce.thm[1].s[fe][de]+=ve*G}}}function K(X){for(var G=0;G<xe.SBMAX_l;G++)if(!(X.thm[0].l[G]>1.58*X.thm[1].l[G]||X.thm[1].l[G]>1.58*X.thm[0].l[G])){var ce=X.mld_l[G]*X.en[3].l[G],fe=Math.max(X.thm[2].l[G],Math.min(X.thm[3].l[G],ce));ce=X.mld_l[G]*X.en[2].l[G];var ve=Math.max(X.thm[3].l[G],Math.min(X.thm[2].l[G],ce));X.thm[2].l[G]=fe,X.thm[3].l[G]=ve}for(var G=0;G<xe.SBMAX_s;G++)for(var le=0;le<3;le++)if(!(X.thm[0].s[G][le]>1.58*X.thm[1].s[G][le]||X.thm[1].s[G][le]>1.58*X.thm[0].s[G][le])){var ce=X.mld_s[G]*X.en[3].s[G][le],fe=Math.max(X.thm[2].s[G][le],Math.min(X.thm[3].s[G][le],ce));ce=X.mld_s[G]*X.en[2].s[G][le];var ve=Math.max(X.thm[3].s[G][le],Math.min(X.thm[2].s[G][le],ce));X.thm[2].s[G][le]=fe,X.thm[3].s[G][le]=ve}}function Z(X,G,ce){var fe=G,ve=Math.pow(10,ce);G*=2,fe*=2;for(var le=0;le<xe.SBMAX_l;le++){var de,ge,pe,Se;if(Se=X.ATH.cb_l[X.bm_l[le]]*ve,de=Math.min(Math.max(X.thm[0].l[le],Se),Math.max(X.thm[1].l[le],Se)),ge=Math.max(X.thm[2].l[le],Se),pe=Math.max(X.thm[3].l[le],Se),de*G<ge+pe){var be=de*fe/(ge+pe);ge*=be,pe*=be,Be(ge+pe>0)}X.thm[2].l[le]=Math.min(ge,X.thm[2].l[le]),X.thm[3].l[le]=Math.min(pe,X.thm[3].l[le])}ve*=xe.BLKSIZE_s/xe.BLKSIZE;for(var le=0;le<xe.SBMAX_s;le++)for(var we=0;we<3;we++){var de,ge,pe,Se;if(Se=X.ATH.cb_s[X.bm_s[le]]*ve,de=Math.min(Math.max(X.thm[0].s[le][we],Se),Math.max(X.thm[1].s[le][we],Se)),ge=Math.max(X.thm[2].s[le][we],Se),pe=Math.max(X.thm[3].s[le][we],Se),de*G<ge+pe){var be=de*G/(ge+pe);ge*=be,pe*=be,Be(ge+pe>0)}X.thm[2].s[le][we]=Math.min(X.thm[2].s[le][we],ge),X.thm[3].s[le][we]=Math.min(X.thm[3].s[le][we],pe)}}function ee(X,G,ce,fe,ve){var le,de,ge=0,pe=0;for(le=de=0;le<xe.SBMAX_s;++de,++le){for(var Se=X.bo_s[le],be=X.npart_s,we=Se<be?Se:be;de<we;)Be(G[de]>=0),Be(ce[de]>=0),ge+=G[de],pe+=ce[de],de++;if(X.en[fe].s[le][ve]=ge,X.thm[fe].s[le][ve]=pe,de>=be){++le;break}Be(G[de]>=0),Be(ce[de]>=0);{var Ne=X.PSY.bo_s_weight[le],je=1-Ne;ge=Ne*G[de],pe=Ne*ce[de],X.en[fe].s[le][ve]+=ge,X.thm[fe].s[le][ve]+=pe,ge=je*G[de],pe=je*ce[de]}}for(;le<xe.SBMAX_s;++le)X.en[fe].s[le][ve]=0,X.thm[fe].s[le][ve]=0}function z(X,G,ce,fe){var ve,le,de=0,ge=0;for(ve=le=0;ve<xe.SBMAX_l;++le,++ve){for(var pe=X.bo_l[ve],Se=X.npart_l,be=pe<Se?pe:Se;le<be;)Be(G[le]>=0),Be(ce[le]>=0),de+=G[le],ge+=ce[le],le++;if(X.en[fe].l[ve]=de,X.thm[fe].l[ve]=ge,le>=Se){++ve;break}Be(G[le]>=0),Be(ce[le]>=0);{var we=X.PSY.bo_l_weight[ve],Ne=1-we;de=we*G[le],ge=we*ce[le],X.en[fe].l[ve]+=de,X.thm[fe].l[ve]+=ge,de=Ne*G[le],ge=Ne*ce[le]}}for(;ve<xe.SBMAX_l;++ve)X.en[fe].l[ve]=0,X.thm[fe].l[ve]=0}function y(X,G,ce,fe,ve,le){var de=X.internal_flags,ge,pe;for(pe=ge=0;pe<de.npart_s;++pe){for(var Se=0,be=de.numlines_s[pe],we=0;we<be;++we,++ge){var Ne=G[le][ge];Se+=Ne}ce[pe]=Se}for(Be(pe==de.npart_s),Be(ge==129),ge=pe=0;pe<de.npart_s;pe++){var je=de.s3ind_s[pe][0],Ie=de.s3_ss[ge++]*ce[je];for(++je;je<=de.s3ind_s[pe][1];)Ie+=de.s3_ss[ge]*ce[je],++ge,++je;{var Ue=n*de.nb_s1[ve][pe];fe[pe]=Math.min(Ie,Ue)}if(de.blocktype_old[ve&1]==xe.SHORT_TYPE){var Ue=o*de.nb_s2[ve][pe],ye=fe[pe];fe[pe]=Math.min(Ue,ye)}de.nb_s2[ve][pe]=de.nb_s1[ve][pe],de.nb_s1[ve][pe]=Ie,Be(fe[pe]>=0)}for(;pe<=xe.CBANDS;++pe)ce[pe]=0,fe[pe]=0}function M(X,G,ce,fe){var ve=X.internal_flags;X.short_blocks==xi.short_block_coupled&&!(G[0]!=0&&G[1]!=0)&&(G[0]=G[1]=0);for(var le=0;le<ve.channels_out;le++)fe[le]=xe.NORM_TYPE,X.short_blocks==xi.short_block_dispensed&&(G[le]=1),X.short_blocks==xi.short_block_forced&&(G[le]=0),G[le]!=0?(Be(ve.blocktype_old[le]!=xe.START_TYPE),ve.blocktype_old[le]==xe.SHORT_TYPE&&(fe[le]=xe.STOP_TYPE)):(fe[le]=xe.SHORT_TYPE,ve.blocktype_old[le]==xe.NORM_TYPE&&(ve.blocktype_old[le]=xe.START_TYPE),ve.blocktype_old[le]==xe.STOP_TYPE&&(ve.blocktype_old[le]=xe.SHORT_TYPE)),ce[le]=ve.blocktype_old[le],ve.blocktype_old[le]=fe[le]}function w(X,G,ce){return ce>=1?X:ce<=0?G:G>0?Math.pow(X/G,ce)*G:0}var P=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function ae(X,G){for(var ce=309.07,fe=0;fe<xe.SBMAX_s-1;fe++)for(var ve=0;ve<3;ve++){var le=X.thm.s[fe][ve];if(Be(fe<P.length),le>0){var de=le*G,ge=X.en.s[fe][ve];ge>de&&(ge>de*1e10?ce+=P[fe]*(10*r):(Be(de>0),ce+=P[fe]*ir.FAST_LOG10(ge/de)))}}return ce}var J=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function re(X,G){for(var ce=281.0575,fe=0;fe<xe.SBMAX_l-1;fe++){var ve=X.thm.l[fe];if(Be(fe<J.length),ve>0){var le=ve*G,de=X.en.l[fe];de>le&&(de>le*1e10?ce+=J[fe]*(10*r):(Be(le>0),ce+=J[fe]*ir.FAST_LOG10(de/le)))}}return ce}function V(X,G,ce,fe,ve){var le,de;for(le=de=0;le<X.npart_l;++le){var ge=0,pe=0,Se;for(Se=0;Se<X.numlines_l[le];++Se,++de){var be=G[de];Be(be>=0),ge+=be,pe<be&&(pe=be)}ce[le]=ge,fe[le]=pe,ve[le]=ge*X.rnumlines_l[le],Be(X.rnumlines_l[le]>=0),Be(ge>=0),Be(ce[le]>=0),Be(fe[le]>=0),Be(ve[le]>=0)}}function ue(X,G,ce,fe){var ve=k.length-1,le=0,de=ce[le]+ce[le+1];if(Be(de>=0),de>0){var ge=G[le];ge<G[le+1]&&(ge=G[le+1]),Be(X.numlines_l[le]+X.numlines_l[le+1]-1>0),de=20*(ge*2-de)/(de*(X.numlines_l[le]+X.numlines_l[le+1]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;for(le=1;le<X.npart_l-1;le++)if(de=ce[le-1]+ce[le]+ce[le+1],Be(de>=0),de>0){var ge=G[le-1];ge<G[le]&&(ge=G[le]),ge<G[le+1]&&(ge=G[le+1]),Be(X.numlines_l[le-1]+X.numlines_l[le]+X.numlines_l[le+1]-1>0),de=20*(ge*3-de)/(de*(X.numlines_l[le-1]+X.numlines_l[le]+X.numlines_l[le+1]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;if(Be(le>0),Be(le==X.npart_l-1),de=ce[le-1]+ce[le],Be(de>=0),de>0){var ge=G[le-1];ge<G[le]&&(ge=G[le]),Be(X.numlines_l[le-1]+X.numlines_l[le]-1>0),de=20*(ge*2-de)/(de*(X.numlines_l[le-1]+X.numlines_l[le]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;Be(le==X.npart_l-1)}var _e=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(X,G,ce,fe,ve,le,de,ge,pe,Se){var be=X.internal_flags,we=Br([2,xe.BLKSIZE]),Ne=Br([2,3,xe.BLKSIZE_s]),je=Lt(xe.CBANDS+1),Ie=Lt(xe.CBANDS+1),Ue=Lt(xe.CBANDS+2),ye=ei(2),$e=ei(2),rt,Me,ze,ke,We,pt,Pe,Qe,nt=Br([2,576]),Et,Cr=ei(xe.CBANDS+2),It=ei(xe.CBANDS+2);for(f2.fill(It,0),rt=be.channels_out,X.mode==e.JOINT_STEREO&&(rt=4),X.VBR==wi.vbr_off?Et=be.ResvMax==0?0:be.ResvSize/be.ResvMax*.5:X.VBR==wi.vbr_rh||X.VBR==wi.vbr_mtrh||X.VBR==wi.vbr_mt?Et=.6:Et=1,Me=0;Me<be.channels_out;Me++){var vt=G[Me],rr=ce+576-350-A+192;for(Be(_e.length==(A-1)/2),ke=0;ke<576;ke++){var Rr,kr;for(Rr=vt[rr+ke+10],kr=0,We=0;We<(A-1)/2-1;We+=2)Rr+=_e[We]*(vt[rr+ke+We]+vt[rr+ke+A-We]),kr+=_e[We+1]*(vt[rr+ke+We+1]+vt[rr+ke+A-We-1]);nt[Me][ke]=Rr+kr}ve[fe][Me].en.assign(be.en[Me]),ve[fe][Me].thm.assign(be.thm[Me]),rt>2&&(le[fe][Me].en.assign(be.en[Me+2]),le[fe][Me].thm.assign(be.thm[Me+2]))}for(Me=0;Me<rt;Me++){var Vr,Ur,Yt=Lt(12),rn=[0,0,0,0],yi=Lt(12),no=1,mc,pc=Lt(xe.CBANDS),vc=Lt(xe.CBANDS),St=[0,0,0,0],gc=Lt(xe.HBLKSIZE),bc=Br([3,xe.HBLKSIZE_s]);for(Be(be.npart_s<=xe.CBANDS),Be(be.npart_l<=xe.CBANDS),ke=0;ke<3;ke++)Yt[ke]=be.nsPsy.last_en_subshort[Me][ke+6],Be(be.nsPsy.last_en_subshort[Me][ke+4]>0),yi[ke]=Yt[ke]/be.nsPsy.last_en_subshort[Me][ke+4],rn[0]+=Yt[ke];if(Me==2)for(ke=0;ke<576;ke++){var io,so;io=nt[0][ke],so=nt[1][ke],nt[0][ke]=io+so,nt[1][ke]=io-so}{var yc=nt[Me&1],ts=0;for(ke=0;ke<9;ke++){for(var hh=ts+64,Ft=1;ts<hh;ts++)Ft<Math.abs(yc[ts])&&(Ft=Math.abs(yc[ts]));be.nsPsy.last_en_subshort[Me][ke]=Yt[ke+3]=Ft,rn[1+ke/3]+=Ft,Ft>Yt[ke+3-2]?(Be(Yt[ke+3-2]>0),Ft=Ft/Yt[ke+3-2]):Yt[ke+3-2]>Ft*10?(Be(Ft>0),Ft=Yt[ke+3-2]/(Ft*10)):Ft=0,yi[ke+3]=Ft}}if(X.analysis){var ao=yi[0];for(ke=1;ke<12;ke++)ao<yi[ke]&&(ao=yi[ke]);be.pinfo.ers[fe][Me]=be.pinfo.ers_save[Me],be.pinfo.ers_save[Me]=ao}for(mc=Me==3?be.nsPsy.attackthre_s:be.nsPsy.attackthre,ke=0;ke<12;ke++)St[ke/3]==0&&yi[ke]>mc&&(St[ke/3]=ke%3+1);for(ke=1;ke<4;ke++){var oo;rn[ke-1]>rn[ke]?(Be(rn[ke]>0),oo=rn[ke-1]/rn[ke]):(Be(rn[ke-1]>0),oo=rn[ke]/rn[ke-1]),oo<1.7&&(St[ke]=0,ke==1&&(St[0]=0))}for(St[0]!=0&&be.nsPsy.lastAttacks[Me]!=0&&(St[0]=0),(be.nsPsy.lastAttacks[Me]==3||St[0]+St[1]+St[2]+St[3]!=0)&&(no=0,St[1]!=0&&St[0]!=0&&(St[1]=0),St[2]!=0&&St[1]!=0&&(St[2]=0),St[3]!=0&&St[2]!=0&&(St[3]=0)),Me<2?$e[Me]=no:no==0&&($e[0]=$e[1]=0),pe[Me]=be.tot_ener[Me],Ur=Ne,Vr=we,v(X,gc,bc,Vr,Me&1,Ur,Me&1,fe,Me,G,ce),V(be,gc,je,pc,vc),ue(be,pc,vc,Cr),Qe=0;Qe<3;Qe++){var lo,nr;for(y(X,bc,Ie,Ue,Me,Qe),ee(be,Ie,Ue,Me,Qe),Pe=0;Pe<xe.SBMAX_s;Pe++){if(nr=be.thm[Me].s[Pe][Qe],nr*=c,St[Qe]>=2||St[Qe+1]==1){var rs=Qe!=0?Qe-1:2,Ft=w(be.thm[Me].s[Pe][rs],nr,d*Et);nr=Math.min(nr,Ft)}if(St[Qe]==1){var rs=Qe!=0?Qe-1:2,Ft=w(be.thm[Me].s[Pe][rs],nr,m*Et);nr=Math.min(nr,Ft)}else if(Qe!=0&&St[Qe-1]==3||Qe==0&&be.nsPsy.lastAttacks[Me]==3){var rs=Qe!=2?Qe+1:0,Ft=w(be.thm[Me].s[Pe][rs],nr,m*Et);nr=Math.min(nr,Ft)}lo=Yt[Qe*3+3]+Yt[Qe*3+4]+Yt[Qe*3+5],Yt[Qe*3+5]*6<lo&&(nr*=.5,Yt[Qe*3+4]*6<lo&&(nr*=.5)),be.thm[Me].s[Pe][Qe]=nr}}for(be.nsPsy.lastAttacks[Me]=St[2],pt=0,ze=0;ze<be.npart_l;ze++){for(var Xn=be.s3ind[ze][0],co=je[Xn]*k[Cr[Xn]],Yn=be.s3_ll[pt++]*co;++Xn<=be.s3ind[ze][1];)co=je[Xn]*k[Cr[Xn]],Yn=h(Yn,be.s3_ll[pt++]*co,Xn,Xn-ze,be,0);Yn*=.158489319246111,be.blocktype_old[Me&1]==xe.SHORT_TYPE?Ue[ze]=Yn:Ue[ze]=w(Math.min(Yn,Math.min(i*be.nb_1[Me][ze],s*be.nb_2[Me][ze])),Yn,Et),be.nb_2[Me][ze]=be.nb_1[Me][ze],be.nb_1[Me][ze]=Yn}for(;ze<=xe.CBANDS;++ze)je[ze]=0,Ue[ze]=0;z(be,je,Ue,Me)}if((X.mode==e.STEREO||X.mode==e.JOINT_STEREO)&&X.interChRatio>0&&W(X,X.interChRatio),X.mode==e.JOINT_STEREO){var uo;K(be),uo=X.msfix,Math.abs(uo)>0&&Z(be,uo,X.ATHlower*be.ATH.adjust)}for(M(X,$e,Se,ye),Me=0;Me<rt;Me++){var ns,is=0,Us,js;Me>1?(ns=ge,is=-2,Us=xe.NORM_TYPE,(Se[0]==xe.SHORT_TYPE||Se[1]==xe.SHORT_TYPE)&&(Us=xe.SHORT_TYPE),js=le[fe][Me-2]):(ns=de,is=0,Us=Se[Me],js=ve[fe][Me]),Us==xe.SHORT_TYPE?ns[is+Me]=ae(js,be.masking_lower):ns[is+Me]=re(js,be.masking_lower),X.analysis&&(be.pinfo.pe[fe][Me]=ns[is+Me])}return 0};function Y(X,G,ce,fe,ve,le,de,ge){var pe=X.internal_flags;if(fe<2)t.fft_long(pe,de[ge],fe,G,ce);else if(fe==2)for(var Se=xe.BLKSIZE-1;Se>=0;--Se){var be=de[ge+0][Se],we=de[ge+1][Se];de[ge+0][Se]=(be+we)*ir.SQRT2*.5,de[ge+1][Se]=(be-we)*ir.SQRT2*.5}le[0]=de[ge+0][0],le[0]*=le[0];for(var Se=xe.BLKSIZE/2-1;Se>=0;--Se){var Ne=de[ge+0][xe.BLKSIZE/2-Se],je=de[ge+0][xe.BLKSIZE/2+Se];le[xe.BLKSIZE/2-Se]=(Ne*Ne+je*je)*.5}{for(var Ie=0,Se=11;Se<xe.HBLKSIZE;Se++)Ie+=le[Se];pe.tot_ener[fe]=Ie}if(X.analysis){for(var Se=0;Se<xe.HBLKSIZE;Se++)pe.pinfo.energy[ve][fe][Se]=pe.pinfo.energy_save[fe][Se],pe.pinfo.energy_save[fe][Se]=le[Se];pe.pinfo.pe[ve][fe]=pe.pe[fe]}}function L(X,G,ce,fe,ve,le,de,ge){var pe=X.internal_flags;if(ve==0&&fe<2&&t.fft_short(pe,de[ge],fe,G,ce),fe==2)for(var Se=xe.BLKSIZE_s-1;Se>=0;--Se){var be=de[ge+0][ve][Se],we=de[ge+1][ve][Se];de[ge+0][ve][Se]=(be+we)*ir.SQRT2*.5,de[ge+1][ve][Se]=(be-we)*ir.SQRT2*.5}le[ve][0]=de[ge+0][ve][0],le[ve][0]*=le[ve][0];for(var Se=xe.BLKSIZE_s/2-1;Se>=0;--Se){var Ne=de[ge+0][ve][xe.BLKSIZE_s/2-Se],je=de[ge+0][ve][xe.BLKSIZE_s/2+Se];le[ve][xe.BLKSIZE_s/2-Se]=(Ne*Ne+je*je)*.5}}function u(X,G,ce,fe){var ve=X.internal_flags;X.athaa_loudapprox==2&&ce<2&&(ve.loudness_sq[G][ce]=ve.loudness_sq_save[ce],ve.loudness_sq_save[ce]=p(fe,ve))}var D=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function U(X,G,ce,fe,ve,le,de,ge,pe,Se){for(var be=Br([2,576]),we=X.internal_flags,Ne=we.channels_out,je=X.mode==e.JOINT_STEREO?4:Ne,Ie=0;Ie<Ne;Ie++){firbuf=G[Ie];var Ue=ce+576-350-A+192;Be(D.length==(A-1)/2);for(var ye=0;ye<576;ye++){var $e,rt;$e=firbuf[Ue+ye+10],rt=0;for(var Me=0;Me<(A-1)/2-1;Me+=2)$e+=D[Me]*(firbuf[Ue+ye+Me]+firbuf[Ue+ye+A-Me]),rt+=D[Me+1]*(firbuf[Ue+ye+Me+1]+firbuf[Ue+ye+A-Me-1]);be[Ie][ye]=$e+rt}ve[fe][Ie].en.assign(we.en[Ie]),ve[fe][Ie].thm.assign(we.thm[Ie]),je>2&&(le[fe][Ie].en.assign(we.en[Ie+2]),le[fe][Ie].thm.assign(we.thm[Ie+2]))}for(var Ie=0;Ie<je;Ie++){var ze=Lt(12),ke=Lt(12),We=[0,0,0,0],pt=be[Ie&1],Pe=0,Qe=Ie==3?we.nsPsy.attackthre_s:we.nsPsy.attackthre,nt=1;if(Ie==2)for(var ye=0,Me=576;Me>0;++ye,--Me){var Et=be[0][ye],Cr=be[1][ye];be[0][ye]=Et+Cr,be[1][ye]=Et-Cr}for(var ye=0;ye<3;ye++)ke[ye]=we.nsPsy.last_en_subshort[Ie][ye+6],Be(we.nsPsy.last_en_subshort[Ie][ye+4]>0),ze[ye]=ke[ye]/we.nsPsy.last_en_subshort[Ie][ye+4],We[0]+=ke[ye];for(var ye=0;ye<9;ye++){for(var It=Pe+64,vt=1;Pe<It;Pe++)vt<Math.abs(pt[Pe])&&(vt=Math.abs(pt[Pe]));we.nsPsy.last_en_subshort[Ie][ye]=ke[ye+3]=vt,We[1+ye/3]+=vt,vt>ke[ye+3-2]?(Be(ke[ye+3-2]>0),vt=vt/ke[ye+3-2]):ke[ye+3-2]>vt*10?(Be(vt>0),vt=ke[ye+3-2]/(vt*10)):vt=0,ze[ye+3]=vt}for(var ye=0;ye<3;++ye){var rr=ke[ye*3+3]+ke[ye*3+4]+ke[ye*3+5],Rr=1;ke[ye*3+5]*6<rr&&(Rr*=.5,ke[ye*3+4]*6<rr&&(Rr*=.5)),ge[Ie][ye]=Rr}if(X.analysis){for(var kr=ze[0],ye=1;ye<12;ye++)kr<ze[ye]&&(kr=ze[ye]);we.pinfo.ers[fe][Ie]=we.pinfo.ers_save[Ie],we.pinfo.ers_save[Ie]=kr}for(var ye=0;ye<12;ye++)pe[Ie][ye/3]==0&&ze[ye]>Qe&&(pe[Ie][ye/3]=ye%3+1);for(var ye=1;ye<4;ye++){var Vr=We[ye-1],Ur=We[ye],Yt=Math.max(Vr,Ur);Yt<4e4&&Vr<1.7*Ur&&Ur<1.7*Vr&&(ye==1&&pe[Ie][0]<=pe[Ie][ye]&&(pe[Ie][0]=0),pe[Ie][ye]=0)}pe[Ie][0]<=we.nsPsy.lastAttacks[Ie]&&(pe[Ie][0]=0),(we.nsPsy.lastAttacks[Ie]==3||pe[Ie][0]+pe[Ie][1]+pe[Ie][2]+pe[Ie][3]!=0)&&(nt=0,pe[Ie][1]!=0&&pe[Ie][0]!=0&&(pe[Ie][1]=0),pe[Ie][2]!=0&&pe[Ie][1]!=0&&(pe[Ie][2]=0),pe[Ie][3]!=0&&pe[Ie][2]!=0&&(pe[Ie][3]=0)),Ie<2?Se[Ie]=nt:nt==0&&(Se[0]=Se[1]=0),de[Ie]=we.tot_ener[Ie]}}function $(X,G,ce){if(ce==0)for(var fe=0;fe<X.npart_s;fe++)X.nb_s2[G][fe]=X.nb_s1[G][fe],X.nb_s1[G][fe]=0}function j(X,G){for(var ce=0;ce<X.npart_l;ce++)X.nb_2[G][ce]=X.nb_1[G][ce],X.nb_1[G][ce]=0}function g(X,G,ce,fe){var ve=k.length-1,le=0,de=ce[le]+ce[le+1];if(Be(de>=0),de>0){var ge=G[le];ge<G[le+1]&&(ge=G[le+1]),Be(X.numlines_s[le]+X.numlines_s[le+1]-1>0),de=20*(ge*2-de)/(de*(X.numlines_s[le]+X.numlines_s[le+1]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;for(le=1;le<X.npart_s-1;le++)if(de=ce[le-1]+ce[le]+ce[le+1],Be(le+1<X.npart_s),Be(de>=0),de>0){var ge=G[le-1];ge<G[le]&&(ge=G[le]),ge<G[le+1]&&(ge=G[le+1]),Be(X.numlines_s[le-1]+X.numlines_s[le]+X.numlines_s[le+1]-1>0),de=20*(ge*3-de)/(de*(X.numlines_s[le-1]+X.numlines_s[le]+X.numlines_s[le+1]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;if(Be(le>0),Be(le==X.npart_s-1),de=ce[le-1]+ce[le],Be(de>=0),de>0){var ge=G[le-1];ge<G[le]&&(ge=G[le]),Be(X.numlines_s[le-1]+X.numlines_s[le]-1>0),de=20*(ge*2-de)/(de*(X.numlines_s[le-1]+X.numlines_s[le]-1));var pe=0|de;pe>ve&&(pe=ve),fe[le]=pe}else fe[le]=0;Be(le==X.npart_s-1)}function I(X,G,ce,fe,ve,le){var de=X.internal_flags,ge=new float[xe.CBANDS],pe=Lt(xe.CBANDS),Se,be,we,Ne=new int[xe.CBANDS];for(we=be=0;we<de.npart_s;++we){var je=0,Ie=0,Ue=de.numlines_s[we];for(Se=0;Se<Ue;++Se,++be){var ye=G[le][be];je+=ye,Ie<ye&&(Ie=ye)}ce[we]=je,Be(je>=0),ge[we]=Ie,Be(Ue>0),pe[we]=je/Ue,Be(pe[we]>=0)}for(Be(we==de.npart_s),Be(be==129);we<xe.CBANDS;++we)ge[we]=0,pe[we]=0;for(g(de,ge,pe,Ne),be=we=0;we<de.npart_s;we++){var $e=de.s3ind_s[we][0],rt=de.s3ind_s[we][1],Me,ze,ke,We,pt;for(Me=Ne[$e],ze=1,We=de.s3_ss[be]*ce[$e]*k[Ne[$e]],++be,++$e;$e<=rt;)Me+=Ne[$e],ze+=1,ke=de.s3_ss[be]*ce[$e]*k[Ne[$e]],We=Q(We,ke,$e-we),++be,++$e;Me=(1+2*Me)/(2*ze),pt=k[Me]*.5,We*=pt,fe[we]=We,de.nb_s2[ve][we]=de.nb_s1[ve][we],de.nb_s1[ve][we]=We,ke=ge[we],ke*=de.minval_s[we],ke*=pt,fe[we]>ke&&(fe[we]=ke),de.masking_lower>1&&(fe[we]*=de.masking_lower),fe[we]>ce[we]&&(fe[we]=ce[we]),de.masking_lower<1&&(fe[we]*=de.masking_lower),Be(fe[we]>=0)}for(;we<xe.CBANDS;++we)ce[we]=0,fe[we]=0}function oe(X,G,ce,fe,ve){var le=Lt(xe.CBANDS),de=Lt(xe.CBANDS),ge=ei(xe.CBANDS+2),pe;V(X,G,ce,le,de),ue(X,le,de,ge);var Se=0;for(pe=0;pe<X.npart_l;pe++){var be,we,Ne,je,Ie=X.s3ind[pe][0],Ue=X.s3ind[pe][1],ye=0,$e=0;for(ye=ge[Ie],$e+=1,we=X.s3_ll[Se]*ce[Ie]*k[ge[Ie]],++Se,++Ie;Ie<=Ue;)ye+=ge[Ie],$e+=1,be=X.s3_ll[Se]*ce[Ie]*k[ge[Ie]],je=Q(we,be,Ie-pe),we=je,++Se,++Ie;if(ye=(1+2*ye)/(2*$e),Ne=k[ye]*.5,we*=Ne,X.blocktype_old[ve&1]==xe.SHORT_TYPE){var rt=i*X.nb_1[ve][pe];rt>0?fe[pe]=Math.min(we,rt):fe[pe]=Math.min(we,ce[pe]*m)}else{var Me=s*X.nb_2[ve][pe],ze=i*X.nb_1[ve][pe],rt;Me<=0&&(Me=we),ze<=0&&(ze=we),X.blocktype_old[ve&1]==xe.NORM_TYPE?rt=Math.min(ze,Me):rt=ze,fe[pe]=Math.min(we,rt)}X.nb_2[ve][pe]=X.nb_1[ve][pe],X.nb_1[ve][pe]=we,be=le[pe],be*=X.minval_l[pe],be*=Ne,fe[pe]>be&&(fe[pe]=be),X.masking_lower>1&&(fe[pe]*=X.masking_lower),fe[pe]>ce[pe]&&(fe[pe]=ce[pe]),X.masking_lower<1&&(fe[pe]*=X.masking_lower),Be(fe[pe]>=0)}for(;pe<xe.CBANDS;++pe)ce[pe]=0,fe[pe]=0}function ie(X,G){var ce=X.internal_flags;X.short_blocks==xi.short_block_coupled&&!(G[0]!=0&&G[1]!=0)&&(G[0]=G[1]=0);for(var fe=0;fe<ce.channels_out;fe++)X.short_blocks==xi.short_block_dispensed&&(G[fe]=1),X.short_blocks==xi.short_block_forced&&(G[fe]=0)}function he(X,G,ce){for(var fe=X.internal_flags,ve=0;ve<fe.channels_out;ve++){var le=xe.NORM_TYPE;G[ve]!=0?(Be(fe.blocktype_old[ve]!=xe.START_TYPE),fe.blocktype_old[ve]==xe.SHORT_TYPE&&(le=xe.STOP_TYPE)):(le=xe.SHORT_TYPE,fe.blocktype_old[ve]==xe.NORM_TYPE&&(fe.blocktype_old[ve]=xe.START_TYPE),fe.blocktype_old[ve]==xe.STOP_TYPE&&(fe.blocktype_old[ve]=xe.SHORT_TYPE)),ce[ve]=fe.blocktype_old[ve],fe.blocktype_old[ve]=le}}function se(X,G,ce,fe,ve,le,de){for(var ge=le*2,pe=le>0?Math.pow(10,ve):1,Se,be,we=0;we<de;++we){var Ne=X[2][we],je=X[3][we],Ie=G[0][we],Ue=G[1][we],ye=G[2][we],$e=G[3][we];if(Ie<=1.58*Ue&&Ue<=1.58*Ie){var rt=ce[we]*je,Me=ce[we]*Ne;be=Math.max(ye,Math.min($e,rt)),Se=Math.max($e,Math.min(ye,Me))}else be=ye,Se=$e;if(le>0){var ze,ke,We=fe[we]*pe;if(ze=Math.min(Math.max(Ie,We),Math.max(Ue,We)),ye=Math.max(be,We),$e=Math.max(Se,We),ke=ye+$e,ke>0&&ze*ge<ke){var pt=ze*ge/ke;ye*=pt,$e*=pt,Be(ke>0)}be=Math.min(ye,be),Se=Math.min($e,Se)}be>Ne&&(be=Ne),Se>je&&(Se=je),G[2][we]=be,G[3][we]=Se}}this.L3psycho_anal_vbr=function(X,G,ce,fe,ve,le,de,ge,pe,Se){var be=X.internal_flags,we,Ne,je=Lt(xe.HBLKSIZE),Ie=Br([3,xe.HBLKSIZE_s]),Ue=Br([2,xe.BLKSIZE]),ye=Br([2,3,xe.BLKSIZE_s]),$e=Br([4,xe.CBANDS]),rt=Br([4,xe.CBANDS]),Me=Br([4,3]),ze=.6,ke=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],We=ei(2),pt=X.mode==e.JOINT_STEREO?4:be.channels_out;U(X,G,ce,fe,ve,le,pe,Me,ke,We),ie(X,We);{for(var Pe=0;Pe<pt;Pe++){var Qe=Pe&1;we=Ue,Y(X,G,ce,Pe,fe,je,we,Qe),u(X,fe,Pe,je),We[Qe]!=0?oe(be,je,$e[Pe],rt[Pe],Pe):j(be,Pe)}We[0]+We[1]==2&&X.mode==e.JOINT_STEREO&&se($e,rt,be.mld_cb_l,be.ATH.cb_l,X.ATHlower*be.ATH.adjust,X.msfix,be.npart_l);for(var Pe=0;Pe<pt;Pe++){var Qe=Pe&1;We[Qe]!=0&&z(be,$e[Pe],rt[Pe],Pe)}}{for(var nt=0;nt<3;nt++){for(var Pe=0;Pe<pt;++Pe){var Qe=Pe&1;We[Qe]!=0?$(be,Pe,nt):(Ne=ye,L(X,G,ce,Pe,nt,Ie,Ne,Qe),I(X,Ie,$e[Pe],rt[Pe],Pe,nt))}We[0]+We[1]==0&&X.mode==e.JOINT_STEREO&&se($e,rt,be.mld_cb_s,be.ATH.cb_s,X.ATHlower*be.ATH.adjust,X.msfix,be.npart_s);for(var Pe=0;Pe<pt;++Pe){var Qe=Pe&1;We[Qe]==0&&ee(be,$e[Pe],rt[Pe],Pe,nt)}}for(var Pe=0;Pe<pt;Pe++){var Qe=Pe&1;if(We[Qe]==0)for(var Et=0;Et<xe.SBMAX_s;Et++){for(var Cr=Lt(3),nt=0;nt<3;nt++){var It=be.thm[Pe].s[Et][nt];if(It*=c,ke[Pe][nt]>=2||ke[Pe][nt+1]==1){var vt=nt!=0?nt-1:2,rr=w(be.thm[Pe].s[Et][vt],It,d*ze);It=Math.min(It,rr)}else if(ke[Pe][nt]==1){var vt=nt!=0?nt-1:2,rr=w(be.thm[Pe].s[Et][vt],It,m*ze);It=Math.min(It,rr)}else if(nt!=0&&ke[Pe][nt-1]==3||nt==0&&be.nsPsy.lastAttacks[Pe]==3){var vt=nt!=2?nt+1:0,rr=w(be.thm[Pe].s[Et][vt],It,m*ze);It=Math.min(It,rr)}It*=Me[Pe][nt],Cr[nt]=It}for(var nt=0;nt<3;nt++)be.thm[Pe].s[Et][nt]=Cr[nt]}}}for(var Pe=0;Pe<pt;Pe++)be.nsPsy.lastAttacks[Pe]=ke[Pe][2];he(X,We,Se);for(var Pe=0;Pe<pt;Pe++){var Rr,kr,Vr,Ur;Pe>1?(Rr=ge,kr=-2,Vr=xe.NORM_TYPE,(Se[0]==xe.SHORT_TYPE||Se[1]==xe.SHORT_TYPE)&&(Vr=xe.SHORT_TYPE),Ur=le[fe][Pe-2]):(Rr=de,kr=0,Vr=Se[Pe],Ur=ve[fe][Pe]),Vr==xe.SHORT_TYPE?Rr[kr+Pe]=ae(Ur,be.masking_lower):Rr[kr+Pe]=re(Ur,be.masking_lower),X.analysis&&(be.pinfo.pe[fe][Pe]=Rr[kr+Pe])}return 0};function ne(X,G){var ce=X,fe;return ce>=0?fe=-ce*27:fe=ce*G,fe<=-72?0:Math.exp(fe*E)}function me(X){var G=0,ce=0;{var fe=0,ve,le;for(fe=0;ne(fe,X)>1e-20;fe-=1);for(ve=fe,le=0;Math.abs(le-ve)>1e-12;)fe=(le+ve)/2,ne(fe,X)>0?le=fe:ve=fe;G=ve}{var fe=0,ve,le;for(fe=0;ne(fe,X)>1e-20;fe+=1);for(ve=0,le=fe;Math.abs(le-ve)>1e-12;)fe=(le+ve)/2,ne(fe,X)>0?ve=fe:le=fe;ce=le}{var de=0,ge=1e3,pe;for(pe=0;pe<=ge;++pe){var fe=G+pe*(ce-G)/ge,Se=ne(fe,X);de+=Se}{var be=(ge+1)/(de*(ce-G));return be}}}function Re(X){var G,ce,fe,ve;return G=X,G>=0?G*=3:G*=1.5,G>=.5&&G<=2.5?(ve=G-.5,ce=8*(ve*ve-2*ve)):ce=0,G+=.474,fe=15.811389+7.5*G-17.5*Math.sqrt(1+G*G),fe<=-60?0:(G=Math.exp((ce+fe)*E),G/=.6609193,G)}function Ee(X){return X<0&&(X=0),X=X*.001,13*Math.atan(.76*X)+3.5*Math.atan(X*X/(7.5*7.5))}function Ce(X,G,ce,fe,ve,le,de,ge,pe,Se,be,we){var Ne=Lt(xe.CBANDS+1),je=ge/(we>15?2*576:2*192),Ie=ei(xe.HBLKSIZE),Ue;ge/=pe;var ye=0,$e=0;for(Ue=0;Ue<xe.CBANDS;Ue++){var rt,Me;for(rt=Ee(ge*ye),Ne[Ue]=ge*ye,Me=ye;Ee(ge*Me)-rt<a&&Me<=pe/2;Me++);for(X[Ue]=Me-ye,$e=Ue+1;ye<Me;)Be(ye<xe.HBLKSIZE),Ie[ye++]=Ue;if(ye>pe/2){ye=pe/2,++Ue;break}}Be(Ue<xe.CBANDS),Ne[Ue]=ge*ye;for(var ze=0;ze<we;ze++){var ke,We,pt,Pe,Qe;pt=Se[ze],Pe=Se[ze+1],ke=0|Math.floor(.5+be*(pt-.5)),ke<0&&(ke=0),We=0|Math.floor(.5+be*(Pe-.5)),We>pe/2&&(We=pe/2),ce[ze]=(Ie[ke]+Ie[We])/2,G[ze]=Ie[We];var nt=je*Pe;de[ze]=(nt-Ne[G[ze]])/(Ne[G[ze]+1]-Ne[G[ze]]),de[ze]<0?de[ze]=0:de[ze]>1&&(de[ze]=1),Qe=Ee(ge*Se[ze]*be),Qe=Math.min(Qe,15.5)/15.5,le[ze]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Qe))-2.5)}ye=0;for(var Et=0;Et<$e;Et++){var Cr=X[Et],rt,It;rt=Ee(ge*ye),It=Ee(ge*(ye+Cr-1)),fe[Et]=.5*(rt+It),rt=Ee(ge*(ye-.5)),It=Ee(ge*(ye+Cr-.5)),ve[Et]=It-rt,ye+=Cr}return $e}function qe(X,G,ce,fe,ve,le){var de=Br([xe.CBANDS,xe.CBANDS]),ge,pe=0;if(le)for(var Se=0;Se<G;Se++)for(ge=0;ge<G;ge++){var be=Re(ce[Se]-ce[ge])*fe[ge];de[Se][ge]=be*ve[Se]}else for(ge=0;ge<G;ge++)for(var we=15+Math.min(21/ce[ge],12),Ne=me(we),Se=0;Se<G;Se++){var be=Ne*ne(ce[Se]-ce[ge],we)*fe[ge];de[Se][ge]=be*ve[Se]}for(var Se=0;Se<G;Se++){for(ge=0;ge<G&&!(de[Se][ge]>0);ge++);for(X[Se][0]=ge,ge=G-1;ge>0&&!(de[Se][ge]>0);ge--);X[Se][1]=ge,pe+=X[Se][1]-X[Se][0]+1}for(var je=Lt(pe),Ie=0,Se=0;Se<G;Se++)for(ge=X[Se][0];ge<=X[Se][1];ge++)je[Ie++]=de[Se][ge];return je}function Ge(X){var G=Ee(X);return G=Math.min(G,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*G))-2.5)}this.psymodel_init=function(X){var G=X.internal_flags,ce,fe=!0,ve=13,le=24,de=0,ge=0,pe=-8.25,Se=-4.5,be=Lt(xe.CBANDS),we=Lt(xe.CBANDS),Ne=Lt(xe.CBANDS),je=X.out_samplerate;switch(X.experimentalZ){default:case 0:fe=!0;break;case 1:fe=!(X.VBR==wi.vbr_mtrh||X.VBR==wi.vbr_mt);break;case 2:fe=!1;break;case 3:ve=8,de=-1.75,ge=-.0125,pe=-8.25,Se=-2.25;break}for(G.ms_ener_ratio_old=.25,G.blocktype_old[0]=G.blocktype_old[1]=xe.NORM_TYPE,ce=0;ce<4;++ce){for(var ye=0;ye<xe.CBANDS;++ye)G.nb_1[ce][ye]=1e20,G.nb_2[ce][ye]=1e20,G.nb_s1[ce][ye]=G.nb_s2[ce][ye]=1;for(var Ie=0;Ie<xe.SBMAX_l;Ie++)G.en[ce].l[Ie]=1e20,G.thm[ce].l[Ie]=1e20;for(var ye=0;ye<3;++ye){for(var Ie=0;Ie<xe.SBMAX_s;Ie++)G.en[ce].s[Ie][ye]=1e20,G.thm[ce].s[Ie][ye]=1e20;G.nsPsy.lastAttacks[ce]=0}for(var ye=0;ye<9;ye++)G.nsPsy.last_en_subshort[ce][ye]=10}for(G.loudness_sq_save[0]=G.loudness_sq_save[1]=0,G.npart_l=Ce(G.numlines_l,G.bo_l,G.bm_l,be,we,G.mld_l,G.PSY.bo_l_weight,je,xe.BLKSIZE,G.scalefac_band.l,xe.BLKSIZE/(2*576),xe.SBMAX_l),Be(G.npart_l<xe.CBANDS),ce=0;ce<G.npart_l;ce++){var Ue=de;be[ce]>=ve&&(Ue=ge*(be[ce]-ve)/(le-ve)+de*(le-be[ce])/(le-ve)),Ne[ce]=Math.pow(10,Ue/10),G.numlines_l[ce]>0?G.rnumlines_l[ce]=1/G.numlines_l[ce]:G.rnumlines_l[ce]=0}G.s3_ll=qe(G.s3ind,G.npart_l,be,we,Ne,fe);var ye=0;for(ce=0;ce<G.npart_l;ce++){var $e;$e=Ou.MAX_VALUE;for(var rt=0;rt<G.numlines_l[ce];rt++,ye++){var Me=je*ye/(1e3*xe.BLKSIZE),ze;ze=this.ATHformula(Me*1e3,X)-20,ze=Math.pow(10,.1*ze),ze*=G.numlines_l[ce],$e>ze&&($e=ze)}G.ATH.cb_l[ce]=$e,$e=-20+be[ce]*20/10,$e>6&&($e=100),$e<-15&&($e=-15),$e-=8,G.minval_l[ce]=Math.pow(10,$e/10)*G.numlines_l[ce]}for(G.npart_s=Ce(G.numlines_s,G.bo_s,G.bm_s,be,we,G.mld_s,G.PSY.bo_s_weight,je,xe.BLKSIZE_s,G.scalefac_band.s,xe.BLKSIZE_s/(2*192),xe.SBMAX_s),Be(G.npart_s<xe.CBANDS),ye=0,ce=0;ce<G.npart_s;ce++){var $e,Ue=pe;be[ce]>=ve&&(Ue=Se*(be[ce]-ve)/(le-ve)+pe*(le-be[ce])/(le-ve)),Ne[ce]=Math.pow(10,Ue/10),$e=Ou.MAX_VALUE;for(var rt=0;rt<G.numlines_s[ce];rt++,ye++){var Me=je*ye/(1e3*xe.BLKSIZE_s),ze;ze=this.ATHformula(Me*1e3,X)-20,ze=Math.pow(10,.1*ze),ze*=G.numlines_s[ce],$e>ze&&($e=ze)}G.ATH.cb_s[ce]=$e,$e=-7+be[ce]*7/12,be[ce]>12&&($e*=1+Math.log(1+$e)*3.1),be[ce]<12&&($e*=1+Math.log(1-$e)*2.3),$e<-15&&($e=-15),$e-=8,G.minval_s[ce]=Math.pow(10,$e/10)*G.numlines_s[ce]}G.s3_ss=qe(G.s3ind_s,G.npart_s,be,we,Ne,fe),B(),t.init_fft(G),G.decay=Math.exp(-1*r/(f*je/192));{var ke;ke=b,X.exp_nspsytune&2&&(ke=1),Math.abs(X.msfix)>0&&(ke=X.msfix),X.msfix=ke;for(var We=0;We<G.npart_l;We++)G.s3ind[We][1]>G.npart_l-1&&(G.s3ind[We][1]=G.npart_l-1)}var pt=576*G.mode_gr/je;if(G.ATH.decay=Math.pow(10,-12/10*pt),G.ATH.adjust=.01,G.ATH.adjustLimit=1,Be(G.bo_l[xe.SBMAX_l-1]<=G.npart_l),Be(G.bo_s[xe.SBMAX_s-1]<=G.npart_s),X.ATHtype!=-1){var Me,Pe=X.out_samplerate/xe.BLKSIZE,Qe=0;for(Me=0,ce=0;ce<xe.BLKSIZE/2;++ce)Me+=Pe,G.ATH.eql_w[ce]=1/Math.pow(10,this.ATHformula(Me,X)/10),Qe+=G.ATH.eql_w[ce];for(Qe=1/Qe,ce=xe.BLKSIZE/2;--ce>=0;)G.ATH.eql_w[ce]*=Qe}{for(var We=ye=0;We<G.npart_s;++We)for(ce=0;ce<G.numlines_s[We];++ce)++ye;Be(ye==129);for(var We=ye=0;We<G.npart_l;++We)for(ce=0;ce<G.numlines_l[We];++ce)++ye;Be(ye==513)}for(ye=0,ce=0;ce<G.npart_l;ce++){var Me=je*(ye+G.numlines_l[ce]/2)/(1*xe.BLKSIZE);G.mld_cb_l[ce]=Ge(Me),ye+=G.numlines_l[ce]}for(;ce<xe.CBANDS;++ce)G.mld_cb_l[ce]=1;for(ye=0,ce=0;ce<G.npart_s;ce++){var Me=je*(ye+G.numlines_s[ce]/2)/(1*xe.BLKSIZE_s);G.mld_cb_s[ce]=Ge(Me),ye+=G.numlines_s[ce]}for(;ce<xe.CBANDS;++ce)G.mld_cb_s[ce]=1;return 0};function Xe(X,G){X<-.3&&(X=3410),X/=1e3,X=Math.max(.1,X);var ce=3.64*Math.pow(X,-.8)-6.8*Math.exp(-.6*Math.pow(X-3.4,2))+6*Math.exp(-.15*Math.pow(X-8.7,2))+(.6+.04*G)*.001*Math.pow(X,4);return ce}this.ATHformula=function(X,G){var ce;switch(G.ATHtype){case 0:ce=Xe(X,9);break;case 1:ce=Xe(X,-1);break;case 2:ce=Xe(X,0);break;case 3:ce=Xe(X,1)+6;break;case 4:ce=Xe(X,G.ATHcurve);break;default:ce=Xe(X,0);break}return ce}}var _2=d2,m2=zs;function p2(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=m2.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var v2=p2,g2=Kt(),S1={};S1.SFBMAX=g2.SBMAX_s*3;var Qa=S1,_r=At;_r.System;_r.VbrMode;_r.Float;_r.ShortBlock;_r.Util;_r.Arrays;_r.new_array_n;_r.new_byte;_r.new_double;var b2=_r.new_float;_r.new_float_n;var ti=_r.new_int;_r.new_int_n;_r.assert;var ko=Qa;function y2(){this.xr=b2(576),this.l3_enc=ti(576),this.scalefac=ti(ko.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=ti(3),this.subblock_gain=ti(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=ti(ko.SFBMAX),this.window=ti(ko.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=ti(4),this.max_nonzero_coeff=0;var e=this;function t(i){return new Int32Array(i)}function r(i){return new Float32Array(i)}this.assign=function(i){e.xr=r(i.xr),e.l3_enc=t(i.l3_enc),e.scalefac=t(i.scalefac),e.xrpow_max=i.xrpow_max,e.part2_3_length=i.part2_3_length,e.big_values=i.big_values,e.count1=i.count1,e.global_gain=i.global_gain,e.scalefac_compress=i.scalefac_compress,e.block_type=i.block_type,e.mixed_block_flag=i.mixed_block_flag,e.table_select=t(i.table_select),e.subblock_gain=t(i.subblock_gain),e.region0_count=i.region0_count,e.region1_count=i.region1_count,e.preflag=i.preflag,e.scalefac_scale=i.scalefac_scale,e.count1table_select=i.count1table_select,e.part2_length=i.part2_length,e.sfb_lmax=i.sfb_lmax,e.sfb_smin=i.sfb_smin,e.psy_lmax=i.psy_lmax,e.sfbmax=i.sfbmax,e.psymax=i.psymax,e.sfbdivide=i.sfbdivide,e.width=t(i.width),e.window=t(i.window),e.count1bits=i.count1bits,e.sfb_partition_table=i.sfb_partition_table.slice(0),e.slen=t(i.slen),e.max_nonzero_coeff=i.max_nonzero_coeff}}var ec=y2,mr=At;mr.System;mr.VbrMode;mr.Float;mr.ShortBlock;mr.Util;mr.Arrays;mr.new_array_n;mr.new_byte;mr.new_double;mr.new_float;mr.new_float_n;var Lu=mr.new_int;mr.new_int_n;mr.assert;var E2=ec;function S2(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[Lu(4),Lu(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new E2}var w2=S2,pr=At,ta=pr.System;pr.VbrMode;pr.Float;pr.ShortBlock;pr.Util;pr.Arrays;pr.new_array_n;pr.new_byte;pr.new_double;pr.new_float;pr.new_float_n;var ra=pr.new_int;pr.new_int_n;pr.assert;var na=Kt();function x2(e,t,r,i){this.l=ra(1+na.SBMAX_l),this.s=ra(1+na.SBMAX_s),this.psfb21=ra(1+na.PSFB21),this.psfb12=ra(1+na.PSFB12);var s=this.l,n=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],ta.arraycopy(this.arrL,0,s,0,Math.min(this.arrL.length,this.l.length)),ta.arraycopy(this.arrS,0,n,0,Math.min(this.arrS.length,this.s.length)),ta.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),ta.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var w1=x2,vr=At;vr.System;vr.VbrMode;vr.Float;vr.ShortBlock;vr.Util;vr.Arrays;vr.new_array_n;vr.new_byte;vr.new_double;var Io=vr.new_float,A2=vr.new_float_n,T2=vr.new_int;vr.new_int_n;vr.assert;var Nu=Kt();function C2(){this.last_en_subshort=A2([4,9]),this.lastAttacks=T2(4),this.pefirbuf=Io(19),this.longfact=Io(Nu.SBMAX_l),this.shortfact=Io(Nu.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var R2=C2;function k2(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var I2=k2,gr=At;gr.System;gr.VbrMode;gr.Float;gr.ShortBlock;gr.Util;gr.Arrays;gr.new_array_n;var M2=gr.new_byte,O2=gr.new_double,$r=gr.new_float,ri=gr.new_float_n,jr=gr.new_int,ia=gr.new_int_n;gr.assert;var L2=w2,N2=w1,P2=R2,F2=I2,Pu=E1(),Ct=Kt(),D2=Qa;En.MFSIZE=3*1152+Ct.ENCDELAY-Ct.MDCTDELAY;En.MAX_HEADER_BUF=256;En.MAX_BITS_PER_CHANNEL=4095;En.MAX_BITS_PER_GRANULE=7680;En.BPC=320;function En(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=ri([2,En.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new L2,this.ms_ratio=$r(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=jr(2),this.CurrentStep=jr(2),this.masking_lower=0,this.bv_scf=jr(576),this.pseudohalf=jr(D2.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*En.BPC+1),this.itime=O2(2),this.sideinfo_len=0,this.sb_sample=ri([2,2,18,Ct.SBLIMIT]),this.amp_filter=$r(32);function t(){this.write_timing=0,this.ptr=0,this.buf=M2(e)}this.header=new Array(En.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new N2,this.minval_l=$r(Ct.CBANDS),this.minval_s=$r(Ct.CBANDS),this.nb_1=ri([4,Ct.CBANDS]),this.nb_2=ri([4,Ct.CBANDS]),this.nb_s1=ri([4,Ct.CBANDS]),this.nb_s2=ri([4,Ct.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=$r(4),this.loudness_sq=ri([2,2]),this.loudness_sq_save=$r(2),this.mld_l=$r(Ct.SBMAX_l),this.mld_s=$r(Ct.SBMAX_s),this.bm_l=jr(Ct.SBMAX_l),this.bo_l=jr(Ct.SBMAX_l),this.bm_s=jr(Ct.SBMAX_s),this.bo_s=jr(Ct.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=ia([Ct.CBANDS,2]),this.s3ind_s=ia([Ct.CBANDS,2]),this.numlines_s=jr(Ct.CBANDS),this.numlines_l=jr(Ct.CBANDS),this.rnumlines_l=$r(Ct.CBANDS),this.mld_cb_l=$r(Ct.CBANDS),this.mld_cb_s=$r(Ct.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=$r(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=jr(2),this.nsPsy=new P2,this.VBR_seek_table=new F2,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=ia([16,4+1]),this.bitrate_blockType_Hist=ia([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var r=0;r<this.en.length;r++)this.en[r]=new Pu;for(var r=0;r<this.thm.length;r++)this.thm[r]=new Pu;for(var r=0;r<this.header.length;r++)this.header[r]=new t}var Ka=En,br=At;br.System;br.VbrMode;br.Float;br.ShortBlock;br.Util;br.Arrays;br.new_array_n;br.new_byte;br.new_double;var ni=br.new_float;br.new_float_n;br.new_int;br.new_int_n;br.assert;var ii=Kt();function B2(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=ni(ii.SBMAX_l),this.s=ni(ii.SBMAX_s),this.psfb21=ni(ii.PSFB21),this.psfb12=ni(ii.PSFB12),this.cb_l=ni(ii.CBANDS),this.cb_s=ni(ii.CBANDS),this.eql_w=ni(ii.BLKSIZE/2)}var $2=B2,yr=At,sr=yr.System;yr.VbrMode;yr.Float;yr.ShortBlock;yr.Util;var Fu=yr.Arrays;yr.new_array_n;yr.new_byte;yr.new_double;yr.new_float;yr.new_float_n;yr.new_int;yr.new_int_n;yr.assert;bt.STEPS_per_dB=100;bt.MAX_dB=120;bt.GAIN_NOT_ENOUGH_SAMPLES=-24601;bt.GAIN_ANALYSIS_ERROR=0;bt.GAIN_ANALYSIS_OK=1;bt.INIT_GAIN_ANALYSIS_ERROR=0;bt.INIT_GAIN_ANALYSIS_OK=1;bt.YULE_ORDER=10;bt.MAX_ORDER=bt.YULE_ORDER;bt.MAX_SAMP_FREQ=48e3;bt.RMS_WINDOW_TIME_NUMERATOR=1;bt.RMS_WINDOW_TIME_DENOMINATOR=20;bt.MAX_SAMPLES_PER_WINDOW=bt.MAX_SAMP_FREQ*bt.RMS_WINDOW_TIME_NUMERATOR/bt.RMS_WINDOW_TIME_DENOMINATOR+1;function bt(){var e=64.82;bt.YULE_ORDER;var t=.95;bt.MAX_SAMP_FREQ;var r=bt.RMS_WINDOW_TIME_NUMERATOR,i=bt.RMS_WINDOW_TIME_DENOMINATOR;bt.MAX_SAMPLES_PER_WINDOW;var s=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],n=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(d,m,b,A,E,R){for(;E--!=0;)b[A]=1e-10+d[m+0]*R[0]-b[A-1]*R[1]+d[m-1]*R[2]-b[A-2]*R[3]+d[m-2]*R[4]-b[A-3]*R[5]+d[m-3]*R[6]-b[A-4]*R[7]+d[m-4]*R[8]-b[A-5]*R[9]+d[m-5]*R[10]-b[A-6]*R[11]+d[m-6]*R[12]-b[A-7]*R[13]+d[m-7]*R[14]-b[A-8]*R[15]+d[m-8]*R[16]-b[A-9]*R[17]+d[m-9]*R[18]-b[A-10]*R[19]+d[m-10]*R[20],++A,++m}function a(d,m,b,A,E,R){for(;E--!=0;)b[A]=d[m+0]*R[0]-b[A-1]*R[1]+d[m-1]*R[2]-b[A-2]*R[3]+d[m-2]*R[4],++A,++m}function l(d,m){for(var b=0;b<MAX_ORDER;b++)d.linprebuf[b]=d.lstepbuf[b]=d.loutbuf[b]=d.rinprebuf[b]=d.rstepbuf[b]=d.routbuf[b]=0;switch(0|m){case 48e3:d.reqindex=0;break;case 44100:d.reqindex=1;break;case 32e3:d.reqindex=2;break;case 24e3:d.reqindex=3;break;case 22050:d.reqindex=4;break;case 16e3:d.reqindex=5;break;case 12e3:d.reqindex=6;break;case 11025:d.reqindex=7;break;case 8e3:d.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return d.sampleWindow=0|(m*r+i-1)/i,d.lsum=0,d.rsum=0,d.totsamp=0,Fu.ill(d.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(d,m){return l(d,m)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(d.linpre=MAX_ORDER,d.rinpre=MAX_ORDER,d.lstep=MAX_ORDER,d.rstep=MAX_ORDER,d.lout=MAX_ORDER,d.rout=MAX_ORDER,Fu.fill(d.B,0),INIT_GAIN_ANALYSIS_OK)};function f(d){return d*d}this.AnalyzeSamples=function(d,m,b,A,E,R,p){var v,S,x,_,C,O,N;if(R==0)return GAIN_ANALYSIS_OK;switch(N=0,C=R,p){case 1:A=m,E=b;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(R<MAX_ORDER?(sr.arraycopy(m,b,d.linprebuf,MAX_ORDER,R),sr.arraycopy(A,E,d.rinprebuf,MAX_ORDER,R)):(sr.arraycopy(m,b,d.linprebuf,MAX_ORDER,MAX_ORDER),sr.arraycopy(A,E,d.rinprebuf,MAX_ORDER,MAX_ORDER));C>0;){O=C>d.sampleWindow-d.totsamp?d.sampleWindow-d.totsamp:C,N<MAX_ORDER?(v=d.linpre+N,S=d.linprebuf,x=d.rinpre+N,_=d.rinprebuf,O>MAX_ORDER-N&&(O=MAX_ORDER-N)):(v=b+N,S=m,x=E+N,_=A),o(S,v,d.lstepbuf,d.lstep+d.totsamp,O,s[d.reqindex]),o(_,x,d.rstepbuf,d.rstep+d.totsamp,O,s[d.reqindex]),a(d.lstepbuf,d.lstep+d.totsamp,d.loutbuf,d.lout+d.totsamp,O,n[d.reqindex]),a(d.rstepbuf,d.rstep+d.totsamp,d.routbuf,d.rout+d.totsamp,O,n[d.reqindex]),v=d.lout+d.totsamp,S=d.loutbuf,x=d.rout+d.totsamp,_=d.routbuf;for(var k=O%8;k--!=0;)d.lsum+=f(S[v++]),d.rsum+=f(_[x++]);for(k=O/8;k--!=0;)d.lsum+=f(S[v+0])+f(S[v+1])+f(S[v+2])+f(S[v+3])+f(S[v+4])+f(S[v+5])+f(S[v+6])+f(S[v+7]),v+=8,d.rsum+=f(_[x+0])+f(_[x+1])+f(_[x+2])+f(_[x+3])+f(_[x+4])+f(_[x+5])+f(_[x+6])+f(_[x+7]),x+=8;if(C-=O,N+=O,d.totsamp+=O,d.totsamp==d.sampleWindow){var B=bt.STEPS_per_dB*10*Math.log10((d.lsum+d.rsum)/d.totsamp*.5+1e-37),te=B<=0?0:0|B;te>=d.A.length&&(te=d.A.length-1),d.A[te]++,d.lsum=d.rsum=0,sr.arraycopy(d.loutbuf,d.totsamp,d.loutbuf,0,MAX_ORDER),sr.arraycopy(d.routbuf,d.totsamp,d.routbuf,0,MAX_ORDER),sr.arraycopy(d.lstepbuf,d.totsamp,d.lstepbuf,0,MAX_ORDER),sr.arraycopy(d.rstepbuf,d.totsamp,d.rstepbuf,0,MAX_ORDER),d.totsamp=0}if(d.totsamp>d.sampleWindow)return GAIN_ANALYSIS_ERROR}return R<MAX_ORDER?(sr.arraycopy(d.linprebuf,R,d.linprebuf,0,MAX_ORDER-R),sr.arraycopy(d.rinprebuf,R,d.rinprebuf,0,MAX_ORDER-R),sr.arraycopy(m,b,d.linprebuf,MAX_ORDER-R,R),sr.arraycopy(A,E,d.rinprebuf,MAX_ORDER-R,R)):(sr.arraycopy(m,b+R-MAX_ORDER,d.linprebuf,0,MAX_ORDER),sr.arraycopy(A,E+R-MAX_ORDER,d.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function c(d,m){var b,A=0;for(b=0;b<m;b++)A+=d[b];if(A==0)return GAIN_NOT_ENOUGH_SAMPLES;var E=0|Math.ceil(A*(1-t));for(b=m;b-- >0&&!((E-=d[b])<=0););return e-b/bt.STEPS_per_dB}this.GetTitleGain=function(d){for(var m=c(d.A,d.A.length),b=0;b<d.A.length;b++)d.B[b]+=d.A[b],d.A[b]=0;for(var b=0;b<MAX_ORDER;b++)d.linprebuf[b]=d.lstepbuf[b]=d.loutbuf[b]=d.rinprebuf[b]=d.rstepbuf[b]=d.routbuf[b]=0;return d.totsamp=0,d.lsum=d.rsum=0,m}}var x1=bt,Er=At;Er.System;Er.VbrMode;Er.Float;Er.ShortBlock;Er.Util;Er.Arrays;Er.new_array_n;Er.new_byte;Er.new_double;var Ai=Er.new_float;Er.new_float_n;var Du=Er.new_int;Er.new_int_n;Er.assert;var ar=x1;function H2(){this.linprebuf=Ai(ar.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Ai(ar.MAX_SAMPLES_PER_WINDOW+ar.MAX_ORDER),this.lstep=0,this.loutbuf=Ai(ar.MAX_SAMPLES_PER_WINDOW+ar.MAX_ORDER),this.lout=0,this.rinprebuf=Ai(ar.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Ai(ar.MAX_SAMPLES_PER_WINDOW+ar.MAX_ORDER),this.rstep=0,this.routbuf=Ai(ar.MAX_SAMPLES_PER_WINDOW+ar.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Du(0|ar.STEPS_per_dB*ar.MAX_dB),this.B=Du(0|ar.STEPS_per_dB*ar.MAX_dB)}var z2=H2;function q2(e){this.bits=e}var A1=q2,Sr=At;Sr.System;Sr.VbrMode;Sr.Float;Sr.ShortBlock;Sr.Util;Sr.Arrays;Sr.new_array_n;Sr.new_byte;Sr.new_double;var Bu=Sr.new_float;Sr.new_float_n;var V2=Sr.new_int;Sr.new_int_n;var $u=Sr.assert,U2=A1,Hu=Kt(),j2=Qa,W2=Ka;function X2(e){var t=e;this.quantize=t,this.iteration_loop=function(r,i,s,n){var o=r.internal_flags,a=Bu(j2.SFBMAX),l=Bu(576),f=V2(2),c=0,d,m=o.l3_side,b=new U2(c);this.quantize.rv.ResvFrameBegin(r,b),c=b.bits;for(var A=0;A<o.mode_gr;A++){d=this.quantize.qupvt.on_pe(r,i,f,c,A,A),o.mode_ext==Hu.MPG_MD_MS_LR&&(this.quantize.ms_convert(o.l3_side,A),this.quantize.qupvt.reduce_side(f,s[A],c,d));for(var E=0;E<o.channels_out;E++){var R,p,v=m.tt[A][E];v.block_type!=Hu.SHORT_TYPE?(R=0,p=o.PSY.mask_adjust-R):(R=0,p=o.PSY.mask_adjust_short-R),o.masking_lower=Math.pow(10,p*.1),this.quantize.init_outer_loop(o,v),this.quantize.init_xrpow(o,v,l)&&(this.quantize.qupvt.calc_xmin(r,n[A][E],v,a),this.quantize.outer_loop(r,v,a,l,E,f[E])),this.quantize.iteration_finish_one(o,A,E),$u(v.part2_3_length<=W2.MAX_BITS_PER_CHANNEL),$u(v.part2_3_length<=f[E])}}this.quantize.rv.ResvFrameEnd(o,c)}}var Y2=X2;function ot(e,t,r,i){this.xlen=e,this.linmax=t,this.table=r,this.hlen=i}var Oe={};Oe.t1HB=[1,1,1,0];Oe.t2HB=[1,2,1,3,1,1,3,2,0];Oe.t3HB=[3,2,1,1,1,1,3,2,0];Oe.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Oe.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Oe.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Oe.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Oe.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Oe.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Oe.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Oe.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Oe.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Oe.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Oe.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Oe.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Oe.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];Oe.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];Oe.t1l=[1,4,3,5];Oe.t2l=[1,4,7,4,5,7,6,7,8];Oe.t3l=[2,3,7,4,4,7,6,7,8];Oe.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Oe.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Oe.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Oe.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Oe.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Oe.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Oe.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Oe.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Oe.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Oe.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Oe.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Oe.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Oe.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Oe.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4];Oe.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4];Oe.ht=[new ot(0,0,null,null),new ot(2,0,Oe.t1HB,Oe.t1l),new ot(3,0,Oe.t2HB,Oe.t2l),new ot(3,0,Oe.t3HB,Oe.t3l),new ot(0,0,null,null),new ot(4,0,Oe.t5HB,Oe.t5l),new ot(4,0,Oe.t6HB,Oe.t6l),new ot(6,0,Oe.t7HB,Oe.t7l),new ot(6,0,Oe.t8HB,Oe.t8l),new ot(6,0,Oe.t9HB,Oe.t9l),new ot(8,0,Oe.t10HB,Oe.t10l),new ot(8,0,Oe.t11HB,Oe.t11l),new ot(8,0,Oe.t12HB,Oe.t12l),new ot(16,0,Oe.t13HB,Oe.t13l),new ot(0,0,null,Oe.t16_5l),new ot(16,0,Oe.t15HB,Oe.t15l),new ot(1,1,Oe.t16HB,Oe.t16l),new ot(2,3,Oe.t16HB,Oe.t16l),new ot(3,7,Oe.t16HB,Oe.t16l),new ot(4,15,Oe.t16HB,Oe.t16l),new ot(6,63,Oe.t16HB,Oe.t16l),new ot(8,255,Oe.t16HB,Oe.t16l),new ot(10,1023,Oe.t16HB,Oe.t16l),new ot(13,8191,Oe.t16HB,Oe.t16l),new ot(4,15,Oe.t24HB,Oe.t24l),new ot(5,31,Oe.t24HB,Oe.t24l),new ot(6,63,Oe.t24HB,Oe.t24l),new ot(7,127,Oe.t24HB,Oe.t24l),new ot(8,255,Oe.t24HB,Oe.t24l),new ot(9,511,Oe.t24HB,Oe.t24l),new ot(11,2047,Oe.t24HB,Oe.t24l),new ot(13,8191,Oe.t24HB,Oe.t24l),new ot(0,0,Oe.t32HB,Oe.t32l),new ot(0,0,Oe.t33HB,Oe.t33l)];Oe.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Oe.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Oe.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Oe.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Oe.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Oe.scfsi_band=[0,6,11,16,21];var tc=Oe,Mo,zu;function T1(){if(zu)return Mo;zu=1;var e=w1,t=At;t.System;var r=t.VbrMode,i=t.Float;t.ShortBlock;var s=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var n=t.new_float;t.new_float_n;var o=t.new_int;t.new_int_n;var a=t.assert,l=Kt(),f=A1,c=Ka;d.Q_MAX=256+1,d.Q_MAX2=116,d.LARGE_BITS=1e5,d.IXMAX_VAL=8206;function d(){var m=rc(),b=null,A=null,E=null;this.setModules=function(H,Q,W){b=H,A=Q,E=W};function R(H){return a(0<=H+d.Q_MAX2&&H<d.Q_MAX),N[H+d.Q_MAX2]}this.IPOW20=function(H){return a(0<=H&&H<d.Q_MAX),k[H]};var p=2220446049250313e-31,v=d.IXMAX_VAL,S=v+2,x=d.Q_MAX,_=d.Q_MAX2;d.LARGE_BITS;var C=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var O=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=O,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var N=n(x+_+1),k=n(x),B=n(S),te=n(S);this.adj43=te;function F(H,Q){var W=E.ATHformula(Q,H);return W-=C,W=Math.pow(10,W/10+H.ATHlower),W}function T(H){for(var Q=H.internal_flags.ATH.l,W=H.internal_flags.ATH.psfb21,K=H.internal_flags.ATH.s,Z=H.internal_flags.ATH.psfb12,ee=H.internal_flags,z=H.out_samplerate,y=0;y<l.SBMAX_l;y++){var M=ee.scalefac_band.l[y],w=ee.scalefac_band.l[y+1];Q[y]=i.MAX_VALUE;for(var P=M;P<w;P++){var ae=P*z/1152,J=F(H,ae);Q[y]=Math.min(Q[y],J)}}for(var y=0;y<l.PSFB21;y++){var M=ee.scalefac_band.psfb21[y],w=ee.scalefac_band.psfb21[y+1];W[y]=i.MAX_VALUE;for(var P=M;P<w;P++){var ae=P*z/1152,J=F(H,ae);W[y]=Math.min(W[y],J)}}for(var y=0;y<l.SBMAX_s;y++){var M=ee.scalefac_band.s[y],w=ee.scalefac_band.s[y+1];K[y]=i.MAX_VALUE;for(var P=M;P<w;P++){var ae=P*z/384,J=F(H,ae);K[y]=Math.min(K[y],J)}K[y]*=ee.scalefac_band.s[y+1]-ee.scalefac_band.s[y]}for(var y=0;y<l.PSFB12;y++){var M=ee.scalefac_band.psfb12[y],w=ee.scalefac_band.psfb12[y+1];Z[y]=i.MAX_VALUE;for(var P=M;P<w;P++){var ae=P*z/384,J=F(H,ae);Z[y]=Math.min(Z[y],J)}Z[y]*=ee.scalefac_band.s[13]-ee.scalefac_band.s[12]}if(H.noATH){for(var y=0;y<l.SBMAX_l;y++)Q[y]=1e-20;for(var y=0;y<l.PSFB21;y++)W[y]=1e-20;for(var y=0;y<l.SBMAX_s;y++)K[y]=1e-20;for(var y=0;y<l.PSFB12;y++)Z[y]=1e-20}ee.ATH.floor=10*Math.log10(F(H,-1))}this.iteration_init=function(H){var Q=H.internal_flags,W=Q.l3_side,K;if(Q.iteration_init_init==0){for(Q.iteration_init_init=1,W.main_data_begin=0,T(H),B[0]=0,K=1;K<S;K++)B[K]=Math.pow(K,4/3);for(K=0;K<S-1;K++)te[K]=K+1-Math.pow(.5*(B[K]+B[K+1]),.75);for(te[K]=.5,K=0;K<x;K++)k[K]=Math.pow(2,(K-210)*-.1875);for(K=0;K<=x+_;K++)N[K]=Math.pow(2,(K-210-_)*.25);b.huffman_init(Q);{var Z,ee,z,y;for(K=H.exp_nspsytune>>2&63,K>=32&&(K-=64),Z=Math.pow(10,K/4/10),K=H.exp_nspsytune>>8&63,K>=32&&(K-=64),ee=Math.pow(10,K/4/10),K=H.exp_nspsytune>>14&63,K>=32&&(K-=64),z=Math.pow(10,K/4/10),K=H.exp_nspsytune>>20&63,K>=32&&(K-=64),y=z*Math.pow(10,K/4/10),K=0;K<l.SBMAX_l;K++){var M;K<=6?M=Z:K<=13?M=ee:K<=20?M=z:M=y,Q.nsPsy.longfact[K]=M}for(K=0;K<l.SBMAX_s;K++){var M;K<=5?M=Z:K<=10?M=ee:K<=11?M=z:M=y,Q.nsPsy.shortfact[K]=M}}}},this.on_pe=function(H,Q,W,K,Z,ee){var z=H.internal_flags,y=0,M,w=o(2),P,ae=new f(y),J=A.ResvMaxBits(H,K,ae,ee);y=ae.bits;var re=y+J;for(re>c.MAX_BITS_PER_GRANULE&&(re=c.MAX_BITS_PER_GRANULE),M=0,P=0;P<z.channels_out;++P)W[P]=Math.min(c.MAX_BITS_PER_CHANNEL,y/z.channels_out),w[P]=0|W[P]*Q[Z][P]/700-W[P],w[P]>K*3/4&&(w[P]=K*3/4),w[P]<0&&(w[P]=0),w[P]+W[P]>c.MAX_BITS_PER_CHANNEL&&(w[P]=Math.max(0,c.MAX_BITS_PER_CHANNEL-W[P])),M+=w[P];if(M>J)for(P=0;P<z.channels_out;++P)w[P]=J*w[P]/M;for(P=0;P<z.channels_out;++P)W[P]+=w[P],J-=w[P];for(M=0,P=0;P<z.channels_out;++P)M+=W[P];if(M>c.MAX_BITS_PER_GRANULE){var V=0;for(P=0;P<z.channels_out;++P)W[P]*=c.MAX_BITS_PER_GRANULE,W[P]/=M,V+=W[P];a(V<=c.MAX_BITS_PER_GRANULE)}return re},this.reduce_side=function(H,Q,W,K){a(K<=c.MAX_BITS_PER_GRANULE),a(H[0]+H[1]<=c.MAX_BITS_PER_GRANULE);var Z=.33*(.5-Q)/.5;Z<0&&(Z=0),Z>.5&&(Z=.5);var ee=0|Z*.5*(H[0]+H[1]);ee>c.MAX_BITS_PER_CHANNEL-H[0]&&(ee=c.MAX_BITS_PER_CHANNEL-H[0]),ee<0&&(ee=0),H[1]>=125&&(H[1]-ee>125?(H[0]<W&&(H[0]+=ee),H[1]-=ee):(H[0]+=H[1]-125,H[1]=125)),ee=H[0]+H[1],ee>K&&(H[0]=K*H[0]/ee,H[1]=K*H[1]/ee),a(H[0]<=c.MAX_BITS_PER_CHANNEL),a(H[1]<=c.MAX_BITS_PER_CHANNEL),a(H[0]+H[1]<=c.MAX_BITS_PER_GRANULE)},this.athAdjust=function(H,Q,W){var K=90.30873362,Z=94.82444863,ee=s.FAST_LOG10_X(Q,10),z=H*H,y=0;return ee-=W,z>1e-20&&(y=1+s.FAST_LOG10_X(z,10/K)),y<0&&(y=0),ee*=y,ee+=W+K-Z,Math.pow(10,.1*ee)},this.calc_xmin=function(H,Q,W,K){var Z=0,ee=H.internal_flags,z,y=0,M=0,w=ee.ATH,P=W.xr,ae=H.VBR==r.vbr_mtrh?1:0,J=ee.masking_lower;for((H.VBR==r.vbr_mtrh||H.VBR==r.vbr_mt)&&(J=1),z=0;z<W.psy_lmax;z++){var re,V,ue,_e,Y,L;H.VBR==r.vbr_rh||H.VBR==r.vbr_mtrh?V=athAdjust(w.adjust,w.l[z],w.floor):V=w.adjust*w.l[z],Y=W.width[z],ue=V/Y,_e=p,L=Y>>1,re=0;do{var u,D;u=P[y]*P[y],re+=u,_e+=u<ue?u:ue,y++,D=P[y]*P[y],re+=D,_e+=D<ue?D:ue,y++}while(--L>0);if(re>V&&M++,z==l.SBPSY_l){var U=V*ee.nsPsy.longfact[z];_e<U&&(_e=U)}if(ae!=0&&(V=_e),!H.ATHonly){var $=Q.en.l[z];if($>0){var U;U=re*Q.thm.l[z]*J/$,ae!=0&&(U*=ee.nsPsy.longfact[z]),V<U&&(V=U)}}ae!=0?K[Z++]=V:K[Z++]=V*ee.nsPsy.longfact[z]}var j=575;if(W.block_type!=l.SHORT_TYPE)for(var g=576;g--!=0&&m.EQ(P[g],0);)j=g;W.max_nonzero_coeff=j;for(var I=W.sfb_smin;z<W.psymax;I++,z+=3){var Y,oe,ie;for(H.VBR==r.vbr_rh||H.VBR==r.vbr_mtrh?ie=athAdjust(w.adjust,w.s[I],w.floor):ie=w.adjust*w.s[I],Y=W.width[z],oe=0;oe<3;oe++){var re=0,V,ue,_e,L=Y>>1;ue=ie/Y,_e=p;do{var u,D;u=P[y]*P[y],re+=u,_e+=u<ue?u:ue,y++,D=P[y]*P[y],re+=D,_e+=D<ue?D:ue,y++}while(--L>0);if(re>ie&&M++,I==l.SBPSY_s){var U=ie*ee.nsPsy.shortfact[I];_e<U&&(_e=U)}if(ae!=0?V=_e:V=ie,!H.ATHonly&&!H.ATHshort){var $=Q.en.s[I][oe];if($>0){var U;U=re*Q.thm.s[I][oe]*J/$,ae!=0&&(U*=ee.nsPsy.shortfact[I]),V<U&&(V=U)}}ae!=0?K[Z++]=V:K[Z++]=V*ee.nsPsy.shortfact[I]}H.useTemporal&&(K[Z-3]>K[Z-3+1]&&(K[Z-3+1]+=(K[Z-3]-K[Z-3+1])*ee.decay),K[Z-3+1]>K[Z-3+2]&&(K[Z-3+2]+=(K[Z-3+1]-K[Z-3+2])*ee.decay))}return M};function h(H){this.s=H}this.calc_noise_core=function(H,Q,W,K){var Z=0,ee=Q.s,z=H.l3_enc;if(ee>H.count1)for(;W--!=0;){var y;y=H.xr[ee],ee++,Z+=y*y,y=H.xr[ee],ee++,Z+=y*y}else if(ee>H.big_values){var M=n(2);for(M[0]=0,M[1]=K;W--!=0;){var y;y=Math.abs(H.xr[ee])-M[z[ee]],ee++,Z+=y*y,y=Math.abs(H.xr[ee])-M[z[ee]],ee++,Z+=y*y}}else for(;W--!=0;){var y;y=Math.abs(H.xr[ee])-B[z[ee]]*K,ee++,Z+=y*y,y=Math.abs(H.xr[ee])-B[z[ee]]*K,ee++,Z+=y*y}return Q.s=ee,Z},this.calc_noise=function(H,Q,W,K,Z){var ee=0,z=0,y,M,w=0,P=0,ae=0,J=-20,re=0,V=H.scalefac,ue=0;for(K.over_SSD=0,y=0;y<H.psymax;y++){var _e=H.global_gain-(V[ue++]+(H.preflag!=0?O[y]:0)<<H.scalefac_scale+1)-H.subblock_gain[H.window[y]]*8,Y=0;if(Z!=null&&Z.step[y]==_e)Y=Z.noise[y],re+=H.width[y],W[ee++]=Y/Q[z++],Y=Z.noise_log[y];else{var L=R(_e);if(M=H.width[y]>>1,re+H.width[y]>H.max_nonzero_coeff){var u;u=H.max_nonzero_coeff-re+1,u>0?M=u>>1:M=0}var D=new h(re);Y=this.calc_noise_core(H,D,M,L),re=D.s,Z!=null&&(Z.step[y]=_e,Z.noise[y]=Y),Y=W[ee++]=Y/Q[z++],Y=s.FAST_LOG10(Math.max(Y,1e-20)),Z!=null&&(Z.noise_log[y]=Y)}if(Z!=null&&(Z.global_gain=H.global_gain),ae+=Y,Y>0){var U;U=Math.max(0|Y*10+.5,1),K.over_SSD+=U*U,w++,P+=Y}J=Math.max(J,Y)}return K.over_count=w,K.tot_noise=ae,K.over_noise=P,K.max_noise=J,w},this.set_pinfo=function(H,Q,W,K,Z){var ee=H.internal_flags,z,y,M,w,P,ae=Q.scalefac_scale==0?.5:1,J=Q.scalefac,re=n(L3Side.SFBMAX),V=n(L3Side.SFBMAX),ue=new CalcNoiseResult;calc_xmin(H,W,Q,re),calc_noise(Q,re,V,ue,null);var _e=0;for(y=Q.sfb_lmax,Q.block_type!=l.SHORT_TYPE&&Q.mixed_block_flag==0&&(y=22),z=0;z<y;z++){var Y=ee.scalefac_band.l[z],L=ee.scalefac_band.l[z+1],u=L-Y;for(w=0;_e<L;_e++)w+=Q.xr[_e]*Q.xr[_e];w/=u,P=1e15,ee.pinfo.en[K][Z][z]=P*w,ee.pinfo.xfsf[K][Z][z]=P*re[z]*V[z]/u,W.en.l[z]>0&&!H.ATHonly?w=w/W.en.l[z]:w=0,ee.pinfo.thr[K][Z][z]=P*Math.max(w*W.thm.l[z],ee.ATH.l[z]),ee.pinfo.LAMEsfb[K][Z][z]=0,Q.preflag!=0&&z>=11&&(ee.pinfo.LAMEsfb[K][Z][z]=-ae*O[z]),z<l.SBPSY_l&&(a(J[z]>=0),ee.pinfo.LAMEsfb[K][Z][z]-=ae*J[z])}if(Q.block_type==l.SHORT_TYPE)for(y=z,z=Q.sfb_smin;z<l.SBMAX_s;z++)for(var Y=ee.scalefac_band.s[z],L=ee.scalefac_band.s[z+1],u=L-Y,D=0;D<3;D++){for(w=0,M=Y;M<L;M++)w+=Q.xr[_e]*Q.xr[_e],_e++;w=Math.max(w/u,1e-20),P=1e15,ee.pinfo.en_s[K][Z][3*z+D]=P*w,ee.pinfo.xfsf_s[K][Z][3*z+D]=P*re[y]*V[y]/u,W.en.s[z][D]>0?w=w/W.en.s[z][D]:w=0,(H.ATHonly||H.ATHshort)&&(w=0),ee.pinfo.thr_s[K][Z][3*z+D]=P*Math.max(w*W.thm.s[z][D],ee.ATH.s[z]),ee.pinfo.LAMEsfb_s[K][Z][3*z+D]=-2*Q.subblock_gain[D],z<l.SBPSY_s&&(ee.pinfo.LAMEsfb_s[K][Z][3*z+D]-=ae*J[y]),y++}ee.pinfo.LAMEqss[K][Z]=Q.global_gain,ee.pinfo.LAMEmainbits[K][Z]=Q.part2_3_length+Q.part2_length,ee.pinfo.LAMEsfbits[K][Z]=Q.part2_length,ee.pinfo.over[K][Z]=ue.over_count,ee.pinfo.max_noise[K][Z]=ue.max_noise*10,ee.pinfo.over_noise[K][Z]=ue.over_noise*10,ee.pinfo.tot_noise[K][Z]=ue.tot_noise*10,ee.pinfo.over_SSD[K][Z]=ue.over_SSD}}return Mo=d,Mo}var Oo,qu;function C1(){if(qu)return Oo;qu=1;var e=At,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var i=e.new_int;e.new_int_n;var s=e.assert,n=Kt(),o=tc,a=ec,l=T1();function f(){var c=null;this.qupvt=null,this.setModules=function(ee){this.qupvt=ee,c=ee};function d(ee){this.bits=0|ee}var m=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function b(ee,z,y,M,w,P){var ae=.5946/z;for(s(ee>0),ee=ee>>1;ee--!=0;)w[P++]=ae>y[M++]?0:1,w[P++]=ae>y[M++]?0:1}function A(ee,z,y,M,w,P){s(ee>0),ee=ee>>1;var ae=ee%2;for(ee=ee>>1;ee--!=0;){var J,re,V,ue,_e,Y,L,u;J=y[M++]*z,re=y[M++]*z,_e=0|J,V=y[M++]*z,Y=0|re,ue=y[M++]*z,L=0|V,J+=c.adj43[_e],u=0|ue,re+=c.adj43[Y],w[P++]=0|J,V+=c.adj43[L],w[P++]=0|re,ue+=c.adj43[u],w[P++]=0|V,w[P++]=0|ue}if(ae!=0){var J,re,_e,Y;J=y[M++]*z,re=y[M++]*z,_e=0|J,Y=0|re,J+=c.adj43[_e],re+=c.adj43[Y],w[P++]=0|J,w[P++]=0|re}}function E(ee,z,y,M,w){var P,ae,J=0,re,V=0,ue=0,_e=0,Y=z,L=0,u=Y,D=0,U=ee,$=0;for(re=w!=null&&M.global_gain==w.global_gain,M.block_type==n.SHORT_TYPE?ae=38:ae=21,P=0;P<=ae;P++){var j=-1;if((re||M.block_type==n.NORM_TYPE)&&(j=M.global_gain-(M.scalefac[P]+(M.preflag!=0?c.pretab[P]:0)<<M.scalefac_scale+1)-M.subblock_gain[M.window[P]]*8),s(M.width[P]>=0),re&&w.step[P]==j)V!=0&&(A(V,y,U,$,u,D),V=0),ue!=0&&(b(ue,y,U,$,u,D),ue=0);else{var g=M.width[P];if(J+M.width[P]>M.max_nonzero_coeff){var I;I=M.max_nonzero_coeff-J+1,r.fill(z,M.max_nonzero_coeff,576,0),g=I,g<0&&(g=0),P=ae+1}if(V==0&&ue==0&&(u=Y,D=L,U=ee,$=_e),w!=null&&w.sfb_count1>0&&P>=w.sfb_count1&&w.step[P]>0&&j>=w.step[P]?(V!=0&&(A(V,y,U,$,u,D),V=0,u=Y,D=L,U=ee,$=_e),ue+=g):(ue!=0&&(b(ue,y,U,$,u,D),ue=0,u=Y,D=L,U=ee,$=_e),V+=g),g<=0){ue!=0&&(b(ue,y,U,$,u,D),ue=0),V!=0&&(A(V,y,U,$,u,D),V=0);break}}P<=ae&&(L+=M.width[P],_e+=M.width[P],J+=M.width[P])}V!=0&&(A(V,y,U,$,u,D),V=0),ue!=0&&(b(ue,y,U,$,u,D),ue=0)}function R(ee,z,y){var M=0,w=0;do{var P=ee[z++],ae=ee[z++];M<P&&(M=P),w<ae&&(w=ae)}while(z<y);return M<w&&(M=w),M}function p(ee,z,y,M,w,P){var ae=o.ht[M].xlen*65536+o.ht[w].xlen,J=0,re;do{var V=ee[z++],ue=ee[z++];V!=0&&(V>14&&(V=15,J+=ae),V*=16),ue!=0&&(ue>14&&(ue=15,J+=ae),V+=ue),J+=o.largetbl[V]}while(z<y);return re=J&65535,J>>=16,J>re&&(J=re,M=w),P.bits+=J,M}function v(ee,z,y,M){var w=0,P=o.ht[1].hlen;do{var ae=ee[z+0]*2+ee[z+1];z+=2,w+=P[ae]}while(z<y);return M.bits+=w,1}function S(ee,z,y,M,w){var P=0,ae,J=o.ht[M].xlen,re;M==2?re=o.table23:re=o.table56;do{var V=ee[z+0]*J+ee[z+1];z+=2,P+=re[V]}while(z<y);return ae=P&65535,P>>=16,P>ae&&(P=ae,M++),w.bits+=P,M}function x(ee,z,y,M,w){var P=0,ae=0,J=0,re=o.ht[M].xlen,V=o.ht[M].hlen,ue=o.ht[M+1].hlen,_e=o.ht[M+2].hlen;do{var Y=ee[z+0]*re+ee[z+1];z+=2,P+=V[Y],ae+=ue[Y],J+=_e[Y]}while(z<y);var L=M;return P>ae&&(P=ae,L++),P>J&&(P=J,L=M+2),w.bits+=P,L}var _=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function C(ee,z,y,M){var w=R(ee,z,y);switch(w){case 0:return w;case 1:return v(ee,z,y,M);case 2:case 3:return S(ee,z,y,_[w-1],M);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return x(ee,z,y,_[w-1],M);default:if(w>l.IXMAX_VAL)return M.bits=l.LARGE_BITS,-1;w-=15;var P;for(P=24;P<32&&!(o.ht[P].linmax>=w);P++);var ae;for(ae=P-8;ae<24&&!(o.ht[ae].linmax>=w);ae++);return p(ee,z,y,ae,P,M)}}this.noquant_count_bits=function(ee,z,y){var M=z.l3_enc,w=Math.min(576,z.max_nonzero_coeff+2>>1<<1);for(y!=null&&(y.sfb_count1=0);w>1&&!(M[w-1]|M[w-2]);w-=2);z.count1=w;for(var P=0,ae=0;w>3;w-=4){var J;if(((M[w-1]|M[w-2]|M[w-3]|M[w-4])&2147483647)>1)break;J=((M[w-4]*2+M[w-3])*2+M[w-2])*2+M[w-1],P+=o.t32l[J],ae+=o.t33l[J]}var re=P;if(z.count1table_select=0,P>ae&&(re=ae,z.count1table_select=1),z.count1bits=re,z.big_values=w,w==0)return re;if(z.block_type==n.SHORT_TYPE)P=3*ee.scalefac_band.s[3],P>z.big_values&&(P=z.big_values),ae=z.big_values;else if(z.block_type==n.NORM_TYPE){if(s(w<=576),P=z.region0_count=ee.bv_scf[w-2],ae=z.region1_count=ee.bv_scf[w-1],s(P+ae+2<n.SBPSY_l),ae=ee.scalefac_band.l[P+ae+2],P=ee.scalefac_band.l[P+1],ae<w){var V=new d(re);z.table_select[2]=C(M,ae,w,V),re=V.bits}}else z.region0_count=7,z.region1_count=n.SBMAX_l-1-7-1,P=ee.scalefac_band.l[7+1],ae=w,P>ae&&(P=ae);if(P=Math.min(P,w),ae=Math.min(ae,w),s(P>=0),s(ae>=0),0<P){var V=new d(re);z.table_select[0]=C(M,0,P,V),re=V.bits}if(P<ae){var V=new d(re);z.table_select[1]=C(M,P,ae,V),re=V.bits}if(ee.use_best_huffman==2&&(z.part2_3_length=re,best_huffman_divide(ee,z),re=z.part2_3_length),y!=null&&z.block_type==n.NORM_TYPE){for(var ue=0;ee.scalefac_band.l[ue]<z.big_values;)ue++;y.sfb_count1=ue}return re},this.count_bits=function(ee,z,y,M){var w=y.l3_enc,P=l.IXMAX_VAL/c.IPOW20(y.global_gain);if(y.xrpow_max>P)return l.LARGE_BITS;if(E(z,w,c.IPOW20(y.global_gain),y,M),ee.substep_shaping&2)for(var ae=0,J=y.global_gain+y.scalefac_scale,re=.634521682242439/c.IPOW20(J),V=0;V<y.sfbmax;V++){var ue=y.width[V];if(s(ue>=0),ee.pseudohalf[V]==0)ae+=ue;else{var _e;for(_e=ae,ae+=ue;_e<ae;++_e)w[_e]=z[_e]>=re?w[_e]:0}}return this.noquant_count_bits(ee,y,M)};function O(ee,z,y,M,w,P,ae){for(var J=z.big_values,re=0;re<=7+15;re++)M[re]=l.LARGE_BITS;for(var re=0;re<16;re++){var V=ee.scalefac_band.l[re+1];if(V>=J)break;var ue=0,_e=new d(ue),Y=C(y,0,V,_e);ue=_e.bits;for(var L=0;L<8;L++){var u=ee.scalefac_band.l[re+L+2];if(u>=J)break;var D=ue;_e=new d(D);var U=C(y,V,u,_e);D=_e.bits,M[re+L]>D&&(M[re+L]=D,w[re+L]=re,P[re+L]=Y,ae[re+L]=U)}}}function N(ee,z,y,M,w,P,ae,J){for(var re=z.big_values,V=2;V<n.SBMAX_l+1;V++){var ue=ee.scalefac_band.l[V];if(ue>=re)break;var _e=w[V-2]+z.count1bits;if(y.part2_3_length<=_e)break;var Y=new d(_e),L=C(M,ue,re,Y);_e=Y.bits,!(y.part2_3_length<=_e)&&(y.assign(z),y.part2_3_length=_e,y.region0_count=P[V-2],y.region1_count=V-2-P[V-2],y.table_select[0]=ae[V-2],y.table_select[1]=J[V-2],y.table_select[2]=L)}}this.best_huffman_divide=function(ee,z){var y=new a,M=z.l3_enc,w=i(7+15+1),P=i(7+15+1),ae=i(7+15+1),J=i(7+15+1);if(!(z.block_type==n.SHORT_TYPE&&ee.mode_gr==1)){y.assign(z),z.block_type==n.NORM_TYPE&&(O(ee,z,M,w,P,ae,J),N(ee,y,z,M,w,P,ae,J));var re=y.big_values;if(!(re==0||(M[re-2]|M[re-1])>1)&&(re=z.count1+2,!(re>576))){y.assign(z),y.count1=re;var V=0,ue=0;for(s(re<=576);re>y.big_values;re-=4){var _e=((M[re-4]*2+M[re-3])*2+M[re-2])*2+M[re-1];V+=o.t32l[_e],ue+=o.t33l[_e]}if(y.big_values=re,y.count1table_select=0,V>ue&&(V=ue,y.count1table_select=1),y.count1bits=V,y.block_type==n.NORM_TYPE)N(ee,y,z,M,w,P,ae,J);else{if(y.part2_3_length=V,V=ee.scalefac_band.l[7+1],V>re&&(V=re),V>0){var Y=new d(y.part2_3_length);y.table_select[0]=C(M,0,V,Y),y.part2_3_length=Y.bits}if(re>V){var Y=new d(y.part2_3_length);y.table_select[1]=C(M,V,re,Y),y.part2_3_length=Y.bits}z.part2_3_length>y.part2_3_length&&z.assign(y)}}}};var k=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],B=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],te=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],F=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];f.slen1_tab=te,f.slen2_tab=F;function T(ee,z){for(var y,M=z.tt[1][ee],w=z.tt[0][ee],P=0;P<o.scfsi_band.length-1;P++){for(y=o.scfsi_band[P];y<o.scfsi_band[P+1]&&!(w.scalefac[y]!=M.scalefac[y]&&M.scalefac[y]>=0);y++);if(y==o.scfsi_band[P+1]){for(y=o.scfsi_band[P];y<o.scfsi_band[P+1];y++)M.scalefac[y]=-1;z.scfsi[ee][P]=1}}var ae=0,J=0;for(y=0;y<11;y++)M.scalefac[y]!=-1&&(J++,ae<M.scalefac[y]&&(ae=M.scalefac[y]));for(var re=0,V=0;y<n.SBPSY_l;y++)M.scalefac[y]!=-1&&(V++,re<M.scalefac[y]&&(re=M.scalefac[y]));for(var P=0;P<16;P++)if(ae<k[P]&&re<B[P]){var ue=te[P]*J+F[P]*V;M.part2_length>ue&&(M.part2_length=ue,M.scalefac_compress=P)}}this.best_scalefac_store=function(ee,z,y,M){var w=M.tt[z][y],P,ae,J,re,V=0;for(J=0,P=0;P<w.sfbmax;P++){var ue=w.width[P];for(s(ue>=0),J+=ue,re=-ue;re<0&&w.l3_enc[re+J]==0;re++);re==0&&(w.scalefac[P]=V=-2)}if(w.scalefac_scale==0&&w.preflag==0){var _e=0;for(P=0;P<w.sfbmax;P++)w.scalefac[P]>0&&(_e|=w.scalefac[P]);if(!(_e&1)&&_e!=0){for(P=0;P<w.sfbmax;P++)w.scalefac[P]>0&&(w.scalefac[P]>>=1);w.scalefac_scale=V=1}}if(w.preflag==0&&w.block_type!=n.SHORT_TYPE&&ee.mode_gr==2){for(P=11;P<n.SBPSY_l&&!(w.scalefac[P]<c.pretab[P]&&w.scalefac[P]!=-2);P++);if(P==n.SBPSY_l){for(P=11;P<n.SBPSY_l;P++)w.scalefac[P]>0&&(w.scalefac[P]-=c.pretab[P]);w.preflag=V=1}}for(ae=0;ae<4;ae++)M.scfsi[y][ae]=0;for(ee.mode_gr==2&&z==1&&M.tt[0][y].block_type!=n.SHORT_TYPE&&M.tt[1][y].block_type!=n.SHORT_TYPE&&(T(y,M),V=0),P=0;P<w.sfbmax;P++)w.scalefac[P]==-2&&(w.scalefac[P]=0);V!=0&&(ee.mode_gr==2?this.scale_bitcount(w):this.scale_bitcount_lsf(ee,w))};function h(ee,z){for(var y=0;y<z;++y)if(ee[y]<0)return!1;return!0}var H=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],Q=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],W=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(ee){var z,y,M=0,w=0,P,ae=ee.scalefac;if(s(h(ae,ee.sfbmax)),ee.block_type==n.SHORT_TYPE)P=H,ee.mixed_block_flag!=0&&(P=Q);else if(P=W,ee.preflag==0){for(y=11;y<n.SBPSY_l&&!(ae[y]<c.pretab[y]);y++);if(y==n.SBPSY_l)for(ee.preflag=1,y=11;y<n.SBPSY_l;y++)ae[y]-=c.pretab[y]}for(y=0;y<ee.sfbdivide;y++)M<ae[y]&&(M=ae[y]);for(;y<ee.sfbmax;y++)w<ae[y]&&(w=ae[y]);for(ee.part2_length=l.LARGE_BITS,z=0;z<16;z++)M<k[z]&&w<B[z]&&ee.part2_length>P[z]&&(ee.part2_length=P[z],ee.scalefac_compress=z);return ee.part2_length==l.LARGE_BITS};var K=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(ee,z){var y,M,w,P,ae,J,re,V,ue=i(4),_e=z.scalefac;for(z.preflag!=0?y=2:y=0,re=0;re<4;re++)ue[re]=0;if(z.block_type==n.SHORT_TYPE){M=1;var Y=c.nr_of_sfb_block[y][M];for(V=0,w=0;w<4;w++)for(P=Y[w]/3,re=0;re<P;re++,V++)for(ae=0;ae<3;ae++)_e[V*3+ae]>ue[w]&&(ue[w]=_e[V*3+ae])}else{M=0;var Y=c.nr_of_sfb_block[y][M];for(V=0,w=0;w<4;w++)for(P=Y[w],re=0;re<P;re++,V++)_e[V]>ue[w]&&(ue[w]=_e[V])}for(J=!1,w=0;w<4;w++)ue[w]>K[y][w]&&(J=!0);if(!J){var L,u,D,U;for(z.sfb_partition_table=c.nr_of_sfb_block[y][M],w=0;w<4;w++)z.slen[w]=Z[ue[w]];switch(L=z.slen[0],u=z.slen[1],D=z.slen[2],U=z.slen[3],y){case 0:z.scalefac_compress=(L*5+u<<4)+(D<<2)+U;break;case 1:z.scalefac_compress=400+(L*5+u<<2)+D;break;case 2:z.scalefac_compress=500+L*3+u;break;default:t.err.printf("intensity stereo not implemented yet\n");break}}if(!J)for(s(z.sfb_partition_table!=null),z.part2_length=0,w=0;w<4;w++)z.part2_length+=z.slen[w]*z.sfb_partition_table[w];return J};var Z=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(ee){for(var z=2;z<=576;z+=2){for(var y=0,M;ee.scalefac_band.l[++y]<z;);for(M=m[y][0];ee.scalefac_band.l[M+1]>z;)M--;for(M<0&&(M=m[y][0]),ee.bv_scf[z-2]=M,M=m[y][1];ee.scalefac_band.l[M+ee.bv_scf[z-2]+2]>z;)M--;M<0&&(M=m[y][1]),ee.bv_scf[z-1]=M}}}return Oo=f,Oo}var Lo,Vu;function rc(){if(Vu)return Lo;Vu=1;var e=At,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n;var i=e.new_byte;e.new_double,e.new_float;var s=e.new_float_n,n=e.new_int;e.new_int_n;var o=e.assert,a=C1(),l=tc,f=Kt(),c=Ka;d.EQ=function(m,b){return Math.abs(m)>Math.abs(b)?Math.abs(m-b)<=Math.abs(m)*1e-6:Math.abs(m-b)<=Math.abs(b)*1e-6},d.NEQ=function(m,b){return!d.EQ(m,b)};function d(){var m=nc(),b=this,A=32773,E=32,R=null,p=null,v=null,S=null;this.setModules=function(y,M,w,P){R=y,p=M,v=w,S=P};var x=null,_=0,C=0,O=0;this.getframebits=function(y){var M=y.internal_flags,w;M.bitrate_index!=0?w=l.bitrate_table[y.version][M.bitrate_index]:w=y.brate,o(8<=w&&w<=640);var P=0|(y.version+1)*72e3*w/y.out_samplerate+M.padding;return 8*P};function N(y){t.arraycopy(y.header[y.w_ptr].buf,0,x,C,y.sideinfo_len),C+=y.sideinfo_len,_+=y.sideinfo_len*8,y.w_ptr=y.w_ptr+1&c.MAX_HEADER_BUF-1}function k(y,M,w){for(o(w<E-2);w>0;){var P;O==0&&(O=8,C++,o(C<m.LAME_MAXMP3BUFFER),o(y.header[y.w_ptr].write_timing>=_),y.header[y.w_ptr].write_timing==_&&N(y),x[C]=0),P=Math.min(w,O),w-=P,O-=P,o(w<E),o(O<E),x[C]|=M>>w<<O,_+=P}}function B(y,M,w){for(o(w<E-2);w>0;){var P;O==0&&(O=8,C++,o(C<m.LAME_MAXMP3BUFFER),x[C]=0),P=Math.min(w,O),w-=P,O-=P,o(w<E),o(O<E),x[C]|=M>>w<<O,_+=P}}function te(y,M){var w=y.internal_flags,P;if(o(M>=0),M>=8&&(k(w,76,8),M-=8),M>=8&&(k(w,65,8),M-=8),M>=8&&(k(w,77,8),M-=8),M>=8&&(k(w,69,8),M-=8),M>=32){var ae=v.getLameShortVersion();if(M>=32)for(P=0;P<ae.length&&M>=8;++P)M-=8,k(w,ae.charAt(P),8)}for(;M>=1;M-=1)k(w,w.ancillary_flag,1),w.ancillary_flag^=y.disable_reservoir?0:1;o(M==0)}function F(y,M,w){for(var P=y.header[y.h_ptr].ptr;w>0;){var ae=Math.min(w,8-(P&7));w-=ae,o(w<E),y.header[y.h_ptr].buf[P>>3]|=M>>w<<8-(P&7)-ae,P+=ae}y.header[y.h_ptr].ptr=P}function T(y,M){y<<=8;for(var w=0;w<8;w++)y<<=1,M<<=1,(M^y)&65536&&(M^=A);return M}this.CRC_writeheader=function(y,M){var w=65535;w=T(M[2]&255,w),w=T(M[3]&255,w);for(var P=6;P<y.sideinfo_len;P++)w=T(M[P]&255,w);M[4]=byte(w>>8),M[5]=byte(w&255)};function h(y,M){var w=y.internal_flags,P,ae,J;if(P=w.l3_side,w.header[w.h_ptr].ptr=0,r.fill(w.header[w.h_ptr].buf,0,w.sideinfo_len,0),y.out_samplerate<16e3?F(w,4094,12):F(w,4095,12),F(w,y.version,1),F(w,4-3,2),F(w,y.error_protection?0:1,1),F(w,w.bitrate_index,4),F(w,w.samplerate_index,2),F(w,w.padding,1),F(w,y.extension,1),F(w,y.mode.ordinal(),2),F(w,w.mode_ext,2),F(w,y.copyright,1),F(w,y.original,1),F(w,y.emphasis,2),y.error_protection&&F(w,0,16),y.version==1){for(o(P.main_data_begin>=0),F(w,P.main_data_begin,9),w.channels_out==2?F(w,P.private_bits,3):F(w,P.private_bits,5),J=0;J<w.channels_out;J++){var re;for(re=0;re<4;re++)F(w,P.scfsi[J][re],1)}for(ae=0;ae<2;ae++)for(J=0;J<w.channels_out;J++){var V=P.tt[ae][J];F(w,V.part2_3_length+V.part2_length,12),F(w,V.big_values/2,9),F(w,V.global_gain,8),F(w,V.scalefac_compress,4),V.block_type!=f.NORM_TYPE?(F(w,1,1),F(w,V.block_type,2),F(w,V.mixed_block_flag,1),V.table_select[0]==14&&(V.table_select[0]=16),F(w,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),F(w,V.table_select[1],5),F(w,V.subblock_gain[0],3),F(w,V.subblock_gain[1],3),F(w,V.subblock_gain[2],3)):(F(w,0,1),V.table_select[0]==14&&(V.table_select[0]=16),F(w,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),F(w,V.table_select[1],5),V.table_select[2]==14&&(V.table_select[2]=16),F(w,V.table_select[2],5),o(0<=V.region0_count&&V.region0_count<16),o(0<=V.region1_count&&V.region1_count<8),F(w,V.region0_count,4),F(w,V.region1_count,3)),F(w,V.preflag,1),F(w,V.scalefac_scale,1),F(w,V.count1table_select,1)}}else for(o(P.main_data_begin>=0),F(w,P.main_data_begin,8),F(w,P.private_bits,w.channels_out),ae=0,J=0;J<w.channels_out;J++){var V=P.tt[ae][J];F(w,V.part2_3_length+V.part2_length,12),F(w,V.big_values/2,9),F(w,V.global_gain,8),F(w,V.scalefac_compress,9),V.block_type!=f.NORM_TYPE?(F(w,1,1),F(w,V.block_type,2),F(w,V.mixed_block_flag,1),V.table_select[0]==14&&(V.table_select[0]=16),F(w,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),F(w,V.table_select[1],5),F(w,V.subblock_gain[0],3),F(w,V.subblock_gain[1],3),F(w,V.subblock_gain[2],3)):(F(w,0,1),V.table_select[0]==14&&(V.table_select[0]=16),F(w,V.table_select[0],5),V.table_select[1]==14&&(V.table_select[1]=16),F(w,V.table_select[1],5),V.table_select[2]==14&&(V.table_select[2]=16),F(w,V.table_select[2],5),o(0<=V.region0_count&&V.region0_count<16),o(0<=V.region1_count&&V.region1_count<8),F(w,V.region0_count,4),F(w,V.region1_count,3)),F(w,V.scalefac_scale,1),F(w,V.count1table_select,1)}y.error_protection&&CRC_writeheader(w,w.header[w.h_ptr].buf);{var ue=w.h_ptr;o(w.header[ue].ptr==w.sideinfo_len*8),w.h_ptr=ue+1&c.MAX_HEADER_BUF-1,w.header[w.h_ptr].write_timing=w.header[ue].write_timing+M,w.h_ptr==w.w_ptr&&t.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}}function H(y,M){var w=l.ht[M.count1table_select+32],P,ae=0,J=M.big_values,re=M.big_values;for(o(M.count1table_select<2),P=(M.count1-M.big_values)/4;P>0;--P){var V=0,ue=0,_e;_e=M.l3_enc[J+0],_e!=0&&(ue+=8,M.xr[re+0]<0&&V++,o(_e<=1)),_e=M.l3_enc[J+1],_e!=0&&(ue+=4,V*=2,M.xr[re+1]<0&&V++,o(_e<=1)),_e=M.l3_enc[J+2],_e!=0&&(ue+=2,V*=2,M.xr[re+2]<0&&V++,o(_e<=1)),_e=M.l3_enc[J+3],_e!=0&&(ue++,V*=2,M.xr[re+3]<0&&V++,o(_e<=1)),J+=4,re+=4,k(y,V+w.table[ue],w.hlen[ue]),ae+=w.hlen[ue]}return ae}function Q(y,M,w,P,ae){var J=l.ht[M],re=0;if(o(M<32),M==0)return re;for(var V=w;V<P;V+=2){var ue=0,_e=0,Y=J.xlen,L=J.xlen,u=0,D=ae.l3_enc[V],U=ae.l3_enc[V+1];if(D!=0&&(ae.xr[V]<0&&u++,ue--),M>15){if(D>14){var $=D-15;o($<=J.linmax),u|=$<<1,_e=Y,D=15}if(U>14){var j=U-15;o(j<=J.linmax),u<<=Y,u|=j,_e+=Y,U=15}L=16}U!=0&&(u<<=1,ae.xr[V+1]<0&&u++,ue--),o((D|U)<16),D=D*L+U,_e-=ue,ue+=J.hlen[D],o(ue<=E),o(_e<=E),k(y,J.table[D],ue),k(y,u,_e),re+=ue+_e}return re}function W(y,M){var w=3*y.scalefac_band.s[3];w>M.big_values&&(w=M.big_values);var P=Q(y,M.table_select[0],0,w,M);return P+=Q(y,M.table_select[1],w,M.big_values,M),P}function K(y,M){var w,P,ae,J;w=M.big_values,o(0<=w&&w<=576);var re=M.region0_count+1;return o(0<=re),o(re<y.scalefac_band.l.length),ae=y.scalefac_band.l[re],re+=M.region1_count+1,o(0<=re),o(re<y.scalefac_band.l.length),J=y.scalefac_band.l[re],ae>w&&(ae=w),J>w&&(J=w),P=Q(y,M.table_select[0],0,ae,M),P+=Q(y,M.table_select[1],ae,J,M),P+=Q(y,M.table_select[2],J,w,M),P}function Z(y){var M,w,P,ae,J=0,re=y.internal_flags,V=re.l3_side;if(y.version==1)for(M=0;M<2;M++)for(w=0;w<re.channels_out;w++){var ue=V.tt[M][w],_e=a.slen1_tab[ue.scalefac_compress],Y=a.slen2_tab[ue.scalefac_compress];for(ae=0,P=0;P<ue.sfbdivide;P++)ue.scalefac[P]!=-1&&(k(re,ue.scalefac[P],_e),ae+=_e);for(;P<ue.sfbmax;P++)ue.scalefac[P]!=-1&&(k(re,ue.scalefac[P],Y),ae+=Y);o(ae==ue.part2_length),ue.block_type==f.SHORT_TYPE?ae+=W(re,ue):ae+=K(re,ue),ae+=H(re,ue),o(ae==ue.part2_3_length+ue.part2_length),J+=ae}else for(M=0,w=0;w<re.channels_out;w++){var ue=V.tt[M][w],L,u,D=0;if(o(ue.sfb_partition_table!=null),ae=0,P=0,u=0,ue.block_type==f.SHORT_TYPE){for(;u<4;u++){var U=ue.sfb_partition_table[u]/3,$=ue.slen[u];for(L=0;L<U;L++,P++)k(re,Math.max(ue.scalefac[P*3+0],0),$),k(re,Math.max(ue.scalefac[P*3+1],0),$),k(re,Math.max(ue.scalefac[P*3+2],0),$),D+=3*$}ae+=W(re,ue)}else{for(;u<4;u++){var U=ue.sfb_partition_table[u],$=ue.slen[u];for(L=0;L<U;L++,P++)k(re,Math.max(ue.scalefac[P],0),$),D+=$}ae+=K(re,ue)}ae+=H(re,ue),o(ae==ue.part2_3_length),o(D==ue.part2_length),J+=D+ae}return J}function ee(){this.total=0}function z(y,M){var w=y.internal_flags,P,ae,J,re,V;return V=w.w_ptr,re=w.h_ptr-1,re==-1&&(re=c.MAX_HEADER_BUF-1),P=w.header[re].write_timing-_,M.total=P,P>=0&&(ae=1+re-V,re<V&&(ae=1+re-V+c.MAX_HEADER_BUF),P-=ae*8*w.sideinfo_len),J=b.getframebits(y),P+=J,M.total+=J,M.total%8!=0?M.total=1+M.total/8:M.total=M.total/8,M.total+=C+1,P<0&&t.err.println("strange error flushing buffer ... \n"),P}this.flush_bitstream=function(y){var M=y.internal_flags,w,P,ae=M.h_ptr-1;if(ae==-1&&(ae=c.MAX_HEADER_BUF-1),w=M.l3_side,!((P=z(y,new ee))<0)){if(te(y,P),o(M.header[ae].write_timing+this.getframebits(y)==_),M.ResvSize=0,w.main_data_begin=0,M.findReplayGain){var J=R.GetTitleGain(M.rgdata);o(NEQ(J,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),M.RadioGain=Math.floor(J*10+.5)|0}M.findPeakSample&&(M.noclipGainChange=Math.ceil(Math.log10(M.PeakSample/32767)*20*10)|0,M.noclipGainChange>0&&(EQ(y.scale,1)||EQ(y.scale,0))?M.noclipScale=Math.floor(32767/M.PeakSample*100)/100:M.noclipScale=-1)}},this.add_dummy_byte=function(y,M,w){for(var P=y.internal_flags,ae;w-- >0;)for(B(P,M,8),ae=0;ae<c.MAX_HEADER_BUF;++ae)P.header[ae].write_timing+=8},this.format_bitstream=function(y){var M=y.internal_flags,w;w=M.l3_side;var P=this.getframebits(y);te(y,w.resvDrain_pre),h(y,P);var ae=8*M.sideinfo_len;if(ae+=Z(y),te(y,w.resvDrain_post),ae+=w.resvDrain_post,w.main_data_begin+=(P-ae)/8,z(y,new ee)!=M.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),w.main_data_begin*8!=M.ResvSize&&(t.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*w.main_data_begin,M.ResvSize,w.resvDrain_post,w.resvDrain_pre,8*M.sideinfo_len,ae-w.resvDrain_post-8*M.sideinfo_len,ae,ae%8,P),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),M.ResvSize=w.main_data_begin*8),o(_%8==0),_>1e9){var J;for(J=0;J<c.MAX_HEADER_BUF;++J)M.header[J].write_timing-=_;_=0}return 0},this.copy_buffer=function(y,M,w,P,ae){var J=C+1;if(J<=0)return 0;if(P!=0&&J>P)return-1;if(t.arraycopy(x,0,M,w,J),C=-1,O=0,ae!=0){var re=n(1);if(re[0]=y.nMusicCRC,S.updateMusicCRC(re,M,w,J),y.nMusicCRC=re[0],J>0&&(y.VBR_seek_table.nBytesWritten+=J),y.decode_on_the_fly){for(var V=s([2,1152]),ue=J,_e=-1,Y;_e!=0;)if(_e=p.hip_decode1_unclipped(y.hip,M,w,ue,V[0],V[1]),ue=0,_e==-1&&(_e=0),_e>0){if(o(_e<=1152),y.findPeakSample){for(Y=0;Y<_e;Y++)V[0][Y]>y.PeakSample?y.PeakSample=V[0][Y]:-V[0][Y]>y.PeakSample&&(y.PeakSample=-V[0][Y]);if(y.channels_out>1)for(Y=0;Y<_e;Y++)V[1][Y]>y.PeakSample?y.PeakSample=V[1][Y]:-V[1][Y]>y.PeakSample&&(y.PeakSample=-V[1][Y])}if(y.findReplayGain&&R.AnalyzeSamples(y.rgdata,V[0],0,V[1],0,_e,y.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return J},this.init_bit_stream_w=function(y){x=i(m.LAME_MAXMP3BUFFER),y.h_ptr=y.w_ptr=0,y.header[y.h_ptr].write_timing=0,C=-1,O=0,_=0}}return Lo=d,Lo}var No,Uu;function nc(){if(Uu)return No;Uu=1;var e=At,t=e.System,r=e.VbrMode;e.Float;var i=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var s=e.new_float;e.new_float_n,e.new_int;var n=e.new_int_n,o=e.new_short_n,a=e.assert,l=_2,f=v2,c=Ka,d=$2,m=z2,b=Y2,A=rc(),E=tc,R=Kt();function p(){var v=zs,S=this,x=128*1024;p.V9=410,p.V8=420,p.V7=430,p.V6=440,p.V5=450,p.V4=460,p.V3=470,p.V2=480,p.V1=490,p.V0=500,p.R3MIX=1e3,p.STANDARD=1001,p.EXTREME=1002,p.INSANE=1003,p.STANDARD_FAST=1004,p.EXTREME_FAST=1005,p.MEDIUM=1006,p.MEDIUM_FAST=1007;var _=16384+x;p.LAME_MAXMP3BUFFER=_;var C,O,N,k,B,te=new l,F,T,h;this.enc=new R,this.setModules=function(g,I,oe,ie,he,se,ne,me,Re){C=g,O=I,N=oe,k=ie,B=he,F=se,T=me,h=Re,this.enc.setModules(O,te,k,F)};function H(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=s(R.SBMAX_l),this.bo_s_weight=s(R.SBMAX_s)}function Q(){this.lowerlimit=0}function W(g,I){this.lowpass=I}var K=4294479419;function Z(g){var I;return g.class_id=K,I=g.internal_flags=new c,g.mode=v.NOT_SET,g.original=1,g.in_samplerate=44100,g.num_channels=2,g.num_samples=-1,g.bWriteVbrTag=!0,g.quality=-1,g.short_blocks=null,I.subblock_gain=-1,g.lowpassfreq=0,g.highpassfreq=0,g.lowpasswidth=-1,g.highpasswidth=-1,g.VBR=r.vbr_off,g.VBR_q=4,g.ATHcurve=-1,g.VBR_mean_bitrate_kbps=128,g.VBR_min_bitrate_kbps=0,g.VBR_max_bitrate_kbps=0,g.VBR_hard_min=0,I.VBR_min_bitrate=1,I.VBR_max_bitrate=13,g.quant_comp=-1,g.quant_comp_short=-1,g.msfix=-1,I.resample_ratio=1,I.OldValue[0]=180,I.OldValue[1]=180,I.CurrentStep[0]=4,I.CurrentStep[1]=4,I.masking_lower=1,I.nsPsy.attackthre=-1,I.nsPsy.attackthre_s=-1,g.scale=-1,g.athaa_type=-1,g.ATHtype=-1,g.athaa_loudapprox=-1,g.athaa_sensitivity=0,g.useTemporal=null,g.interChRatio=-1,I.mf_samples_to_encode=R.ENCDELAY+R.POSTDELAY,g.encoder_padding=0,I.mf_size=R.ENCDELAY-R.MDCTDELAY,g.findReplayGain=!1,g.decode_on_the_fly=!1,I.decode_on_the_fly=!1,I.findReplayGain=!1,I.findPeakSample=!1,I.RadioGain=0,I.AudiophileGain=0,I.noclipGainChange=0,I.noclipScale=-1,g.preset=0,g.write_id3tag_automatic=!0,0}this.lame_init=function(){var g=new f;return Z(g),g.lame_allocated_gfp=1,g};function ee(g){return g>1?0:g<=0?1:Math.cos(Math.PI/2*g)}this.nearestBitrateFullIndex=function(g){var I=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],oe=0,ie=0,he=0,se=0;se=I[16],he=16,ie=I[16],oe=16;for(var ne=0;ne<16;ne++)if(Math.max(g,I[ne+1])!=g){se=I[ne+1],he=ne+1,ie=I[ne],oe=ne;break}return se-g>g-ie?oe:he};function z(g,I){var oe=44100;return I>=48e3?oe=48e3:I>=44100?oe=44100:I>=32e3?oe=32e3:I>=24e3?oe=24e3:I>=22050?oe=22050:I>=16e3?oe=16e3:I>=12e3?oe=12e3:I>=11025?oe=11025:I>=8e3&&(oe=8e3),g==-1?oe:(g<=15960&&(oe=44100),g<=15250&&(oe=32e3),g<=11220&&(oe=24e3),g<=9970&&(oe=22050),g<=7230&&(oe=16e3),g<=5420&&(oe=12e3),g<=4510&&(oe=11025),g<=3970&&(oe=8e3),I<oe?I>44100?48e3:I>32e3?44100:I>24e3?32e3:I>22050?24e3:I>16e3?22050:I>12e3?16e3:I>11025?12e3:I>8e3?11025:8e3:oe)}function y(g,I){switch(g){case 44100:return I.version=1,0;case 48e3:return I.version=1,1;case 32e3:return I.version=1,2;case 22050:return I.version=0,0;case 24e3:return I.version=0,1;case 16e3:return I.version=0,2;case 11025:return I.version=0,0;case 12e3:return I.version=0,1;case 8e3:return I.version=0,2;default:return I.version=0,-1}}function M(g,I,oe){oe<16e3&&(I=2);for(var ie=E.bitrate_table[I][1],he=2;he<=14;he++)E.bitrate_table[I][he]>0&&Math.abs(E.bitrate_table[I][he]-g)<Math.abs(ie-g)&&(ie=E.bitrate_table[I][he]);return ie}function w(g,I,oe){oe<16e3&&(I=2);for(var ie=0;ie<=14;ie++)if(E.bitrate_table[I][ie]>0&&E.bitrate_table[I][ie]==g)return ie;return-1}function P(g,I){var oe=[new W(8,2e3),new W(16,3700),new W(24,3900),new W(32,5500),new W(40,7e3),new W(48,7500),new W(56,1e4),new W(64,11e3),new W(80,13500),new W(96,15100),new W(112,15600),new W(128,17e3),new W(160,17500),new W(192,18600),new W(224,19400),new W(256,19700),new W(320,20500)],ie=S.nearestBitrateFullIndex(I);g.lowerlimit=oe[ie].lowpass}function ae(g){var I=g.internal_flags,oe=32,ie=-1;if(I.lowpass1>0){for(var he=999,se=0;se<=31;se++){var ne=se/31;ne>=I.lowpass2&&(oe=Math.min(oe,se)),I.lowpass1<ne&&ne<I.lowpass2&&(he=Math.min(he,se))}he==999?I.lowpass1=(oe-.75)/31:I.lowpass1=(he-.75)/31,I.lowpass2=oe/31}if(I.highpass2>0&&I.highpass2<.9*(.75/31)&&(I.highpass1=0,I.highpass2=0,t.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),I.highpass2>0){for(var me=-1,se=0;se<=31;se++){var ne=se/31;ne<=I.highpass1&&(ie=Math.max(ie,se)),I.highpass1<ne&&ne<I.highpass2&&(me=Math.max(me,se))}I.highpass1=ie/31,me==-1?I.highpass2=(ie+.75)/31:I.highpass2=(me+.75)/31}for(var se=0;se<32;se++){var Re,Ee,ne=se/31;I.highpass2>I.highpass1?Re=ee((I.highpass2-ne)/(I.highpass2-I.highpass1+1e-20)):Re=1,I.lowpass2>I.lowpass1?Ee=ee((ne-I.lowpass1)/(I.lowpass2-I.lowpass1+1e-20)):Ee=1,I.amp_filter[se]=Re*Ee}}function J(g){var I=g.internal_flags;switch(g.quality){default:case 9:I.psymodel=0,I.noise_shaping=0,I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.use_best_huffman=0,I.full_outer_loop=0;break;case 8:g.quality=7;case 7:I.psymodel=1,I.noise_shaping=0,I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.use_best_huffman=0,I.full_outer_loop=0;break;case 6:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=0,I.full_outer_loop=0;break;case 5:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=0,I.full_outer_loop=0;break;case 4:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=0,I.noise_shaping_stop=0,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 3:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.noise_shaping_amp=1,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 2:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=1,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 1:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=2,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break;case 0:I.psymodel=1,I.noise_shaping==0&&(I.noise_shaping=1),I.substep_shaping==0&&(I.substep_shaping=2),I.noise_shaping_amp=2,I.noise_shaping_stop=1,I.subblock_gain==-1&&(I.subblock_gain=1),I.use_best_huffman=1,I.full_outer_loop=0;break}}function re(g){var I=g.internal_flags;g.frameNum=0,g.write_id3tag_automatic&&T.id3tag_write_v2(g),I.bitrate_stereoMode_Hist=n([16,4+1]),I.bitrate_blockType_Hist=n([16,4+1+1]),I.PeakSample=0,g.bWriteVbrTag&&F.InitVbrTag(g)}this.lame_init_params=function(g){var I=g.internal_flags;if(I.Class_ID=0,I.ATH==null&&(I.ATH=new d),I.PSY==null&&(I.PSY=new H),I.rgdata==null&&(I.rgdata=new m),I.channels_in=g.num_channels,I.channels_in==1&&(g.mode=v.MONO),I.channels_out=g.mode==v.MONO?1:2,I.mode_ext=R.MPG_MD_MS_LR,g.mode==v.MONO&&(g.force_ms=!1),g.VBR==r.vbr_off&&g.VBR_mean_bitrate_kbps!=128&&g.brate==0&&(g.brate=g.VBR_mean_bitrate_kbps),g.VBR==r.vbr_off||g.VBR==r.vbr_mtrh||g.VBR==r.vbr_mt||(g.free_format=!1),g.VBR==r.vbr_off&&g.brate==0&&A.EQ(g.compression_ratio,0)&&(g.compression_ratio=11.025),g.VBR==r.vbr_off&&g.compression_ratio>0&&(g.out_samplerate==0&&(g.out_samplerate=map2MP3Frequency(int(.97*g.in_samplerate))),g.brate=0|g.out_samplerate*16*I.channels_out/(1e3*g.compression_ratio),I.samplerate_index=y(g.out_samplerate,g),g.free_format||(g.brate=M(g.brate,g.version,g.out_samplerate))),g.out_samplerate!=0&&(g.out_samplerate<16e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,64)):g.out_samplerate<32e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,160)):(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,32),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320))),g.lowpassfreq==0){var oe=16e3;switch(g.VBR){case r.vbr_off:{var ie=new Q;P(ie,g.brate),oe=ie.lowerlimit;break}case r.vbr_abr:{var ie=new Q;P(ie,g.VBR_mean_bitrate_kbps),oe=ie.lowerlimit;break}case r.vbr_rh:{var he=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var se=he[g.VBR_q],ne=he[g.VBR_q+1],me=g.VBR_q_frac;oe=linear_int(se,ne,me)}else oe=19500;break}default:{var he=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var se=he[g.VBR_q],ne=he[g.VBR_q+1],me=g.VBR_q_frac;oe=linear_int(se,ne,me)}else oe=19500}}g.mode==v.MONO&&(g.VBR==r.vbr_off||g.VBR==r.vbr_abr)&&(oe*=1.5),g.lowpassfreq=oe|0}if(g.out_samplerate==0&&(2*g.lowpassfreq>g.in_samplerate&&(g.lowpassfreq=g.in_samplerate/2),g.out_samplerate=z(g.lowpassfreq|0,g.in_samplerate)),g.lowpassfreq=Math.min(20500,g.lowpassfreq),g.lowpassfreq=Math.min(g.out_samplerate/2,g.lowpassfreq),g.VBR==r.vbr_off&&(g.compression_ratio=g.out_samplerate*16*I.channels_out/(1e3*g.brate)),g.VBR==r.vbr_abr&&(g.compression_ratio=g.out_samplerate*16*I.channels_out/(1e3*g.VBR_mean_bitrate_kbps)),g.bWriteVbrTag||(g.findReplayGain=!1,g.decode_on_the_fly=!1,I.findPeakSample=!1),I.findReplayGain=g.findReplayGain,I.decode_on_the_fly=g.decode_on_the_fly,I.decode_on_the_fly&&(I.findPeakSample=!0),I.findReplayGain&&C.InitGainAnalysis(I.rgdata,g.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return g.internal_flags=null,-6;switch(I.decode_on_the_fly&&!g.decode_only&&(I.hip!=null&&h.hip_decode_exit(I.hip),I.hip=h.hip_decode_init()),I.mode_gr=g.out_samplerate<=24e3?1:2,g.framesize=576*I.mode_gr,g.encoder_delay=R.ENCDELAY,I.resample_ratio=g.in_samplerate/g.out_samplerate,g.VBR){case r.vbr_mt:case r.vbr_rh:case r.vbr_mtrh:{var Re=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];g.compression_ratio=Re[g.VBR_q]}break;case r.vbr_abr:g.compression_ratio=g.out_samplerate*16*I.channels_out/(1e3*g.VBR_mean_bitrate_kbps);break;default:g.compression_ratio=g.out_samplerate*16*I.channels_out/(1e3*g.brate);break}if(g.mode==v.NOT_SET&&(g.mode=v.JOINT_STEREO),g.highpassfreq>0?(I.highpass1=2*g.highpassfreq,g.highpasswidth>=0?I.highpass2=2*(g.highpassfreq+g.highpasswidth):I.highpass2=(1+0)*2*g.highpassfreq,I.highpass1/=g.out_samplerate,I.highpass2/=g.out_samplerate):(I.highpass1=0,I.highpass2=0),g.lowpassfreq>0?(I.lowpass2=2*g.lowpassfreq,g.lowpasswidth>=0?(I.lowpass1=2*(g.lowpassfreq-g.lowpasswidth),I.lowpass1<0&&(I.lowpass1=0)):I.lowpass1=(1-0)*2*g.lowpassfreq,I.lowpass1/=g.out_samplerate,I.lowpass2/=g.out_samplerate):(I.lowpass1=0,I.lowpass2=0),ae(g),I.samplerate_index=y(g.out_samplerate,g),I.samplerate_index<0)return g.internal_flags=null,-1;if(g.VBR==r.vbr_off){if(g.free_format)I.bitrate_index=0;else if(g.brate=M(g.brate,g.version,g.out_samplerate),I.bitrate_index=w(g.brate,g.version,g.out_samplerate),I.bitrate_index<=0)return g.internal_flags=null,-1}else I.bitrate_index=1;g.analysis&&(g.bWriteVbrTag=!1),I.pinfo!=null&&(g.bWriteVbrTag=!1),O.init_bit_stream_w(I);for(var Ee=I.samplerate_index+3*g.version+6*(g.out_samplerate<16e3?1:0),Ce=0;Ce<R.SBMAX_l+1;Ce++)I.scalefac_band.l[Ce]=k.sfBandIndex[Ee].l[Ce];for(var Ce=0;Ce<R.PSFB21+1;Ce++){var qe=(I.scalefac_band.l[22]-I.scalefac_band.l[21])/R.PSFB21,Ge=I.scalefac_band.l[21]+Ce*qe;I.scalefac_band.psfb21[Ce]=Ge}I.scalefac_band.psfb21[R.PSFB21]=576;for(var Ce=0;Ce<R.SBMAX_s+1;Ce++)I.scalefac_band.s[Ce]=k.sfBandIndex[Ee].s[Ce];for(var Ce=0;Ce<R.PSFB12+1;Ce++){var qe=(I.scalefac_band.s[13]-I.scalefac_band.s[12])/R.PSFB12,Ge=I.scalefac_band.s[12]+Ce*qe;I.scalefac_band.psfb12[Ce]=Ge}I.scalefac_band.psfb12[R.PSFB12]=192,g.version==1?I.sideinfo_len=I.channels_out==1?4+17:4+32:I.sideinfo_len=I.channels_out==1?4+9:4+17,g.error_protection&&(I.sideinfo_len+=2),re(g),I.Class_ID=K;{var Xe;for(Xe=0;Xe<19;Xe++)I.nsPsy.pefirbuf[Xe]=700*I.mode_gr*I.channels_out;g.ATHtype==-1&&(g.ATHtype=4)}switch(a(g.VBR_q<=9),a(g.VBR_q>=0),g.VBR){case r.vbr_mt:g.VBR=r.vbr_mtrh;case r.vbr_mtrh:{g.useTemporal==null&&(g.useTemporal=!1),N.apply_preset(g,500-g.VBR_q*10,0),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),g.quality<5&&(g.quality=0),g.quality>5&&(g.quality=5),I.PSY.mask_adjust=g.maskingadjust,I.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?I.sfb21_extra=!1:I.sfb21_extra=g.out_samplerate>44e3,I.iteration_loop=new VBRNewIterationLoop(B);break}case r.vbr_rh:{N.apply_preset(g,500-g.VBR_q*10,0),I.PSY.mask_adjust=g.maskingadjust,I.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?I.sfb21_extra=!1:I.sfb21_extra=g.out_samplerate>44e3,g.quality>6&&(g.quality=6),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),I.iteration_loop=new VBROldIterationLoop(B);break}default:{var X;I.sfb21_extra=!1,g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),X=g.VBR,X==r.vbr_off&&(g.VBR_mean_bitrate_kbps=g.brate),N.apply_preset(g,g.VBR_mean_bitrate_kbps,0),g.VBR=X,I.PSY.mask_adjust=g.maskingadjust,I.PSY.mask_adjust_short=g.maskingadjust_short,X==r.vbr_off?I.iteration_loop=new b(B):I.iteration_loop=new ABRIterationLoop(B);break}}if(a(g.scale>=0),g.VBR!=r.vbr_off){if(I.VBR_min_bitrate=1,I.VBR_max_bitrate=14,g.out_samplerate<16e3&&(I.VBR_max_bitrate=8),g.VBR_min_bitrate_kbps!=0&&(g.VBR_min_bitrate_kbps=M(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),I.VBR_min_bitrate=w(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),I.VBR_min_bitrate<0)||g.VBR_max_bitrate_kbps!=0&&(g.VBR_max_bitrate_kbps=M(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),I.VBR_max_bitrate=w(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),I.VBR_max_bitrate<0))return-1;g.VBR_min_bitrate_kbps=E.bitrate_table[g.version][I.VBR_min_bitrate],g.VBR_max_bitrate_kbps=E.bitrate_table[g.version][I.VBR_max_bitrate],g.VBR_mean_bitrate_kbps=Math.min(E.bitrate_table[g.version][I.VBR_max_bitrate],g.VBR_mean_bitrate_kbps),g.VBR_mean_bitrate_kbps=Math.max(E.bitrate_table[g.version][I.VBR_min_bitrate],g.VBR_mean_bitrate_kbps)}return g.tune&&(I.PSY.mask_adjust+=g.tune_value_a,I.PSY.mask_adjust_short+=g.tune_value_a),J(g),a(g.scale>=0),g.athaa_type<0?I.ATH.useAdjust=3:I.ATH.useAdjust=g.athaa_type,I.ATH.aaSensitivityP=Math.pow(10,g.athaa_sensitivity/-10),g.short_blocks==null&&(g.short_blocks=i.short_block_allowed),g.short_blocks==i.short_block_allowed&&(g.mode==v.JOINT_STEREO||g.mode==v.STEREO)&&(g.short_blocks=i.short_block_coupled),g.quant_comp<0&&(g.quant_comp=1),g.quant_comp_short<0&&(g.quant_comp_short=0),g.msfix<0&&(g.msfix=0),g.exp_nspsytune=g.exp_nspsytune|1,g.internal_flags.nsPsy.attackthre<0&&(g.internal_flags.nsPsy.attackthre=l.NSATTACKTHRE),g.internal_flags.nsPsy.attackthre_s<0&&(g.internal_flags.nsPsy.attackthre_s=l.NSATTACKTHRE_S),a(g.scale>=0),g.scale<0&&(g.scale=1),g.ATHtype<0&&(g.ATHtype=4),g.ATHcurve<0&&(g.ATHcurve=4),g.athaa_loudapprox<0&&(g.athaa_loudapprox=2),g.interChRatio<0&&(g.interChRatio=0),g.useTemporal==null&&(g.useTemporal=!0),I.slot_lag=I.frac_SpF=0,g.VBR==r.vbr_off&&(I.slot_lag=I.frac_SpF=(g.version+1)*72e3*g.brate%g.out_samplerate|0),k.iteration_init(g),te.psymodel_init(g),a(g.scale>=0),0};function V(g,I){(g.in_buffer_0==null||g.in_buffer_nsamples<I)&&(g.in_buffer_0=s(I),g.in_buffer_1=s(I),g.in_buffer_nsamples=I)}this.lame_encode_flush=function(g,I,oe,ie){var he=g.internal_flags,se=o([2,1152]),ne=0,me,Re,Ee,Ce,qe=he.mf_samples_to_encode-R.POSTDELAY,Ge=ue(g);if(he.mf_samples_to_encode<1)return 0;for(me=0,g.in_samplerate!=g.out_samplerate&&(qe+=16*g.out_samplerate/g.in_samplerate),Ee=g.framesize-qe%g.framesize,Ee<576&&(Ee+=g.framesize),g.encoder_padding=Ee,Ce=(qe+Ee)/g.framesize;Ce>0&&ne>=0;){var Xe=Ge-he.mf_size,X=g.frameNum;Xe*=g.in_samplerate,Xe/=g.out_samplerate,Xe>1152&&(Xe=1152),Xe<1&&(Xe=1),Re=ie-me,ie==0&&(Re=0),ne=this.lame_encode_buffer(g,se[0],se[1],Xe,I,oe,Re),oe+=ne,me+=ne,Ce-=X!=g.frameNum?1:0}if(he.mf_samples_to_encode=0,ne<0||(Re=ie-me,ie==0&&(Re=0),O.flush_bitstream(g),ne=O.copy_buffer(he,I,oe,Re,1),ne<0))return ne;if(oe+=ne,me+=ne,Re=ie-me,ie==0&&(Re=0),g.write_id3tag_automatic){if(T.id3tag_write_v1(g),ne=O.copy_buffer(he,I,oe,Re,0),ne<0)return ne;me+=ne}return me},this.lame_encode_buffer=function(g,I,oe,ie,he,se,ne){var me=g.internal_flags,Re=[null,null];if(me.Class_ID!=K)return-3;if(ie==0)return 0;V(me,ie),Re[0]=me.in_buffer_0,Re[1]=me.in_buffer_1;for(var Ee=0;Ee<ie;Ee++)Re[0][Ee]=I[Ee],me.channels_in>1&&(Re[1][Ee]=oe[Ee]);return _e(g,Re[0],Re[1],ie,he,se,ne)};function ue(g){var I=R.BLKSIZE+g.framesize-R.FFTOFFSET;return I=Math.max(I,512+g.framesize-32),a(c.MFSIZE>=I),I}function _e(g,I,oe,ie,he,se,ne){var me=g.internal_flags,Re=0,Ee,Ce,qe,Ge,Xe,X=[null,null],G=[null,null];if(me.Class_ID!=K)return-3;if(ie==0)return 0;if(Xe=O.copy_buffer(me,he,se,ne,0),Xe<0)return Xe;if(se+=Xe,Re+=Xe,G[0]=I,G[1]=oe,A.NEQ(g.scale,0)&&A.NEQ(g.scale,1))for(Ce=0;Ce<ie;++Ce)G[0][Ce]*=g.scale,me.channels_out==2&&(G[1][Ce]*=g.scale);if(A.NEQ(g.scale_left,0)&&A.NEQ(g.scale_left,1))for(Ce=0;Ce<ie;++Ce)G[0][Ce]*=g.scale_left;if(A.NEQ(g.scale_right,0)&&A.NEQ(g.scale_right,1))for(Ce=0;Ce<ie;++Ce)G[1][Ce]*=g.scale_right;if(g.num_channels==2&&me.channels_out==1)for(Ce=0;Ce<ie;++Ce)G[0][Ce]=.5*(G[0][Ce]+G[1][Ce]),G[1][Ce]=0;Ge=ue(g),X[0]=me.mfbuf[0],X[1]=me.mfbuf[1];for(var ce=0;ie>0;){var fe=[null,null],ve=0,le=0;fe[0]=G[0],fe[1]=G[1];var de=new L;if(j(g,X,fe,ce,ie,de),ve=de.n_in,le=de.n_out,me.findReplayGain&&!me.decode_on_the_fly&&C.AnalyzeSamples(me.rgdata,X[0],me.mf_size,X[1],me.mf_size,le,me.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(ie-=ve,ce+=ve,me.channels_out==2,me.mf_size+=le,a(me.mf_size<=c.MFSIZE),me.mf_samples_to_encode<1&&(me.mf_samples_to_encode=R.ENCDELAY+R.POSTDELAY),me.mf_samples_to_encode+=le,me.mf_size>=Ge){var ge=ne-Re;if(ne==0&&(ge=0),Ee=Y(g,X[0],X[1],he,se,ge),Ee<0)return Ee;for(se+=Ee,Re+=Ee,me.mf_size-=g.framesize,me.mf_samples_to_encode-=g.framesize,qe=0;qe<me.channels_out;qe++)for(Ce=0;Ce<me.mf_size;Ce++)X[qe][Ce]=X[qe][Ce+g.framesize]}}return a(ie==0),Re}function Y(g,I,oe,ie,he,se){var ne=S.enc.lame_encode_mp3_frame(g,I,oe,ie,he,se);return g.frameNum++,ne}function L(){this.n_in=0,this.n_out=0}function u(){this.num_used=0}function D(g,I){return I!=0?D(I,g%I):g}function U(g,I,oe){var ie=Math.PI*I;g/=oe,g<0&&(g=0),g>1&&(g=1);var he=g-.5,se=.42-.5*Math.cos(2*g*Math.PI)+.08*Math.cos(4*g*Math.PI);return Math.abs(he)<1e-9?ie/Math.PI:se*Math.sin(oe*ie*he)/(Math.PI*oe*he)}function $(g,I,oe,ie,he,se,ne,me,Re){var Ee=g.internal_flags,Ce,qe=0,Ge,Xe=g.out_samplerate/D(g.out_samplerate,g.in_samplerate);Xe>c.BPC&&(Xe=c.BPC);var X=Math.abs(Ee.resample_ratio-Math.floor(.5+Ee.resample_ratio))<1e-4?1:0,G=1/Ee.resample_ratio;G>1&&(G=1);var ce=31;ce%2==0&&--ce,ce+=X;var fe=ce+1;if(Ee.fill_buffer_resample_init==0){for(Ee.inbuf_old[0]=s(fe),Ee.inbuf_old[1]=s(fe),Ce=0;Ce<=2*Xe;++Ce)Ee.blackfilt[Ce]=s(fe);for(Ee.itime[0]=0,Ee.itime[1]=0,qe=0;qe<=2*Xe;qe++){var ve=0,le=(qe-Xe)/(2*Xe);for(Ce=0;Ce<=ce;Ce++)ve+=Ee.blackfilt[qe][Ce]=U(Ce-le,G,ce);for(Ce=0;Ce<=ce;Ce++)Ee.blackfilt[qe][Ce]/=ve}Ee.fill_buffer_resample_init=1}var de=Ee.inbuf_old[Re];for(Ge=0;Ge<ie;Ge++){var ge,pe;if(ge=Ge*Ee.resample_ratio,qe=0|Math.floor(ge-Ee.itime[Re]),ce+qe-ce/2>=ne)break;var le=ge-Ee.itime[Re]-(qe+.5*(ce%2));a(Math.abs(le)<=.501),pe=0|Math.floor(le*2*Xe+Xe+.5);var Se=0;for(Ce=0;Ce<=ce;++Ce){var be=0|Ce+qe-ce/2,we;a(be<ne),a(be+fe>=0),we=be<0?de[fe+be]:he[se+be],Se+=we*Ee.blackfilt[pe][Ce]}I[oe+Ge]=Se}if(me.num_used=Math.min(ne,ce+qe-ce/2),Ee.itime[Re]+=me.num_used-Ge*Ee.resample_ratio,me.num_used>=fe)for(Ce=0;Ce<fe;Ce++)de[Ce]=he[se+me.num_used+Ce-fe];else{var Ne=fe-me.num_used;for(Ce=0;Ce<Ne;++Ce)de[Ce]=de[Ce+me.num_used];for(qe=0;Ce<fe;++Ce,++qe)de[Ce]=he[se+qe];a(qe==me.num_used)}return Ge}function j(g,I,oe,ie,he,se){var ne=g.internal_flags;if(ne.resample_ratio<.9999||ne.resample_ratio>1.0001)for(var me=0;me<ne.channels_out;me++){var Re=new u;se.n_out=$(g,I[me],ne.mf_size,g.framesize,oe[me],ie,he,Re,me),se.n_in=Re.num_used}else{se.n_out=Math.min(g.framesize,he),se.n_in=se.n_out;for(var Ee=0;Ee<se.n_out;++Ee)I[0][ne.mf_size+Ee]=oe[0][ie+Ee],ne.channels_out==2&&(I[1][ne.mf_size+Ee]=oe[1][ie+Ee])}}}return No=p,No}var wr=At;wr.System;var sn=wr.VbrMode;wr.Float;wr.ShortBlock;wr.Util;wr.Arrays;wr.new_array_n;wr.new_byte;wr.new_double;wr.new_float;wr.new_float_n;wr.new_int;wr.new_int_n;wr.assert;function G2(){var e=nc();function t(c,d,m,b,A,E,R,p,v,S,x,_,C,O,N){this.vbr_q=c,this.quant_comp=d,this.quant_comp_s=m,this.expY=b,this.st_lrm=A,this.st_s=E,this.masking_adj=R,this.masking_adj_short=p,this.ath_lower=v,this.ath_curve=S,this.ath_sensitivity=x,this.interch=_,this.safejoint=C,this.sfb21mod=O,this.msfix=N}function r(c,d,m,b,A,E,R,p,v,S,x,_,C,O){this.quant_comp=d,this.quant_comp_s=m,this.safejoint=b,this.nsmsfix=A,this.st_lrm=E,this.st_s=R,this.nsbass=p,this.scale=v,this.masking_adj=S,this.ath_lower=x,this.ath_curve=_,this.interch=C,this.sfscale=O}var i;this.setModules=function(c){i=c};var s=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],n=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(c,d,m){var b=c.VBR==sn.vbr_rh?s:n,A=c.VBR_q_frac,E=b[d],R=b[d+1],p=E;E.st_lrm=E.st_lrm+A*(R.st_lrm-E.st_lrm),E.st_s=E.st_s+A*(R.st_s-E.st_s),E.masking_adj=E.masking_adj+A*(R.masking_adj-E.masking_adj),E.masking_adj_short=E.masking_adj_short+A*(R.masking_adj_short-E.masking_adj_short),E.ath_lower=E.ath_lower+A*(R.ath_lower-E.ath_lower),E.ath_curve=E.ath_curve+A*(R.ath_curve-E.ath_curve),E.ath_sensitivity=E.ath_sensitivity+A*(R.ath_sensitivity-E.ath_sensitivity),E.interch=E.interch+A*(R.interch-E.interch),E.msfix=E.msfix+A*(R.msfix-E.msfix),f(c,p.vbr_q),m!=0?c.quant_comp=p.quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=p.quant_comp),m!=0?c.quant_comp_short=p.quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=p.quant_comp_s),p.expY!=0&&(c.experimentalY=p.expY!=0),m!=0?c.internal_flags.nsPsy.attackthre=p.st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=p.st_lrm),m!=0?c.internal_flags.nsPsy.attackthre_s=p.st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=p.st_s),m!=0?c.maskingadjust=p.masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=p.masking_adj),m!=0?c.maskingadjust_short=p.masking_adj_short:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=p.masking_adj_short),m!=0?c.ATHlower=-p.ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-p.ath_lower/10),m!=0?c.ATHcurve=p.ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=p.ath_curve),m!=0?c.athaa_sensitivity=p.ath_sensitivity:Math.abs(c.athaa_sensitivity- -1)>0||(c.athaa_sensitivity=p.ath_sensitivity),p.interch>0&&(m!=0?c.interChRatio=p.interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=p.interch)),p.safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|p.safejoint),p.sfb21mod>0&&(c.exp_nspsytune=c.exp_nspsytune|p.sfb21mod<<20),m!=0?c.msfix=p.msfix:Math.abs(c.msfix- -1)>0||(c.msfix=p.msfix),m==0&&(c.VBR_q=d,c.VBR_q_frac=A)}var a=[new r(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new r(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new r(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new r(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new r(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new r(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new r(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new r(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new r(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new r(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new r(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new r(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new r(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new r(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new r(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(c,d,m){var b=d,A=i.nearestBitrateFullIndex(d);if(c.VBR=sn.vbr_abr,c.VBR_mean_bitrate_kbps=b,c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320),c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.brate=c.VBR_mean_bitrate_kbps,c.VBR_mean_bitrate_kbps>320&&(c.disable_reservoir=!0),a[A].safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|2),a[A].sfscale>0&&(c.internal_flags.noise_shaping=2),Math.abs(a[A].nsbass)>0){var E=int(a[A].nsbass*4);E<0&&(E+=64),c.exp_nspsytune=c.exp_nspsytune|E<<2}return m!=0?c.quant_comp=a[A].quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=a[A].quant_comp),m!=0?c.quant_comp_short=a[A].quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=a[A].quant_comp_s),m!=0?c.msfix=a[A].nsmsfix:Math.abs(c.msfix- -1)>0||(c.msfix=a[A].nsmsfix),m!=0?c.internal_flags.nsPsy.attackthre=a[A].st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=a[A].st_lrm),m!=0?c.internal_flags.nsPsy.attackthre_s=a[A].st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=a[A].st_s),m!=0?c.scale=a[A].scale:Math.abs(c.scale- -1)>0||(c.scale=a[A].scale),m!=0?c.maskingadjust=a[A].masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=a[A].masking_adj),a[A].masking_adj>0?m!=0?c.maskingadjust_short=a[A].masking_adj*.9:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=a[A].masking_adj*.9):m!=0?c.maskingadjust_short=a[A].masking_adj*1.1:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=a[A].masking_adj*1.1),m!=0?c.ATHlower=-a[A].ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-a[A].ath_lower/10),m!=0?c.ATHcurve=a[A].ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=a[A].ath_curve),m!=0?c.interChRatio=a[A].interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=a[A].interch),d}this.apply_preset=function(c,d,m){switch(d){case e.R3MIX:{d=e.V3,c.VBR=sn.vbr_mtrh;break}case e.MEDIUM:{d=e.V4,c.VBR=sn.vbr_rh;break}case e.MEDIUM_FAST:{d=e.V4,c.VBR=sn.vbr_mtrh;break}case e.STANDARD:{d=e.V2,c.VBR=sn.vbr_rh;break}case e.STANDARD_FAST:{d=e.V2,c.VBR=sn.vbr_mtrh;break}case e.EXTREME:{d=e.V0,c.VBR=sn.vbr_rh;break}case e.EXTREME_FAST:{d=e.V0,c.VBR=sn.vbr_mtrh;break}case e.INSANE:return d=320,c.preset=d,l(c,d,m),c.VBR=sn.vbr_off,d}switch(c.preset=d,d){case e.V9:return o(c,9,m),d;case e.V8:return o(c,8,m),d;case e.V7:return o(c,7,m),d;case e.V6:return o(c,6,m),d;case e.V5:return o(c,5,m),d;case e.V4:return o(c,4,m),d;case e.V3:return o(c,3,m),d;case e.V2:return o(c,2,m),d;case e.V1:return o(c,1,m),d;case e.V0:return o(c,0,m),d}return 8<=d&&d<=320?l(c,d,m):(c.preset=0,d)};function f(c,d){var m=0;return 0>d&&(m=-1,d=0),9<d&&(m=-1,d=9),c.VBR_q=d,c.VBR_q_frac=0,m}}var Q2=G2;function K2(){this.setModules=function(e,t){}}var Z2=K2;function J2(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var ev=J2,ic=At,ju=ic.new_float,tv=ic.new_int;ic.assert;function rv(){this.global_gain=0,this.sfb_count1=0,this.step=tv(39),this.noise=ju(39),this.noise_log=ju(39)}var nv=rv,xr=At,In=xr.System,Wu=xr.VbrMode;xr.Float;xr.ShortBlock;var Po=xr.Util,Ti=xr.Arrays;xr.new_array_n;xr.new_byte;xr.new_double;var us=xr.new_float;xr.new_float_n;xr.new_int;xr.new_int_n;var Hr=xr.assert,iv=Z2,Fo=ev,sv=nv,lt=Kt(),Xu=ec,Yu=Qa;function av(){var e;this.rv=null;var t;this.qupvt=null;var r,i=new iv,s;this.setModules=function(p,v,S,x){e=p,t=v,this.rv=v,r=S,this.qupvt=S,s=x,i.setModules(r,s)},this.ms_convert=function(p,v){for(var S=0;S<576;++S){var x=p.tt[v][0].xr[S],_=p.tt[v][1].xr[S];p.tt[v][0].xr[S]=(x+_)*(Po.SQRT2*.5),p.tt[v][1].xr[S]=(x-_)*(Po.SQRT2*.5)}};function n(p,v,S,x){x=0;for(var _=0;_<=S;++_){var C=Math.abs(p.xr[_]);x+=C,v[_]=Math.sqrt(C*Math.sqrt(C)),v[_]>p.xrpow_max&&(p.xrpow_max=v[_])}return x}this.init_xrpow=function(p,v,S){var x=0,_=0|v.max_nonzero_coeff;if(Hr(S!=null),v.xrpow_max=0,Hr(0<=_&&_<=575),Ti.fill(S,_,576,0),x=n(v,S,_,x),x>1e-20){var C=0;p.substep_shaping&2&&(C=1);for(var O=0;O<v.psymax;O++)p.pseudohalf[O]=C;return!0}return Ti.fill(v.l3_enc,0,576,0),!1};function o(p,v){var S=p.ATH,x=v.xr;if(v.block_type!=lt.SHORT_TYPE)for(var _=!1,C=lt.PSFB21-1;C>=0&&!_;C--){var O=p.scalefac_band.psfb21[C],N=p.scalefac_band.psfb21[C+1],k=r.athAdjust(S.adjust,S.psfb21[C],S.floor);p.nsPsy.longfact[21]>1e-12&&(k*=p.nsPsy.longfact[21]);for(var B=N-1;B>=O;B--)if(Math.abs(x[B])<k)x[B]=0;else{_=!0;break}}else for(var te=0;te<3;te++)for(var _=!1,C=lt.PSFB12-1;C>=0&&!_;C--){var O=p.scalefac_band.s[12]*3+(p.scalefac_band.s[13]-p.scalefac_band.s[12])*te+(p.scalefac_band.psfb12[C]-p.scalefac_band.psfb12[0]),N=O+(p.scalefac_band.psfb12[C+1]-p.scalefac_band.psfb12[C]),F=r.athAdjust(S.adjust,S.psfb12[C],S.floor);p.nsPsy.shortfact[12]>1e-12&&(F*=p.nsPsy.shortfact[12]);for(var B=N-1;B>=O;B--)if(Math.abs(x[B])<F)x[B]=0;else{_=!0;break}}}this.init_outer_loop=function(p,v){v.part2_3_length=0,v.big_values=0,v.count1=0,v.global_gain=210,v.scalefac_compress=0,v.table_select[0]=0,v.table_select[1]=0,v.table_select[2]=0,v.subblock_gain[0]=0,v.subblock_gain[1]=0,v.subblock_gain[2]=0,v.subblock_gain[3]=0,v.region0_count=0,v.region1_count=0,v.preflag=0,v.scalefac_scale=0,v.count1table_select=0,v.part2_length=0,v.sfb_lmax=lt.SBPSY_l,v.sfb_smin=lt.SBPSY_s,v.psy_lmax=p.sfb21_extra?lt.SBMAX_l:lt.SBPSY_l,v.psymax=v.psy_lmax,v.sfbmax=v.sfb_lmax,v.sfbdivide=11;for(var S=0;S<lt.SBMAX_l;S++)v.width[S]=p.scalefac_band.l[S+1]-p.scalefac_band.l[S],v.window[S]=3;if(v.block_type==lt.SHORT_TYPE){var x=us(576);v.sfb_smin=0,v.sfb_lmax=0,v.mixed_block_flag!=0&&(v.sfb_smin=3,v.sfb_lmax=p.mode_gr*2+4),v.psymax=v.sfb_lmax+3*((p.sfb21_extra?lt.SBMAX_s:lt.SBPSY_s)-v.sfb_smin),v.sfbmax=v.sfb_lmax+3*(lt.SBPSY_s-v.sfb_smin),v.sfbdivide=v.sfbmax-18,v.psy_lmax=v.sfb_lmax;var _=p.scalefac_band.l[v.sfb_lmax];In.arraycopy(v.xr,0,x,0,576);for(var S=v.sfb_smin;S<lt.SBMAX_s;S++)for(var C=p.scalefac_band.s[S],O=p.scalefac_band.s[S+1],N=0;N<3;N++)for(var k=C;k<O;k++)v.xr[_++]=x[3*k+N];for(var B=v.sfb_lmax,S=v.sfb_smin;S<lt.SBMAX_s;S++)v.width[B]=v.width[B+1]=v.width[B+2]=p.scalefac_band.s[S+1]-p.scalefac_band.s[S],v.window[B]=0,v.window[B+1]=1,v.window[B+2]=2,B+=3}v.count1bits=0,v.sfb_partition_table=r.nr_of_sfb_block[0][0],v.slen[0]=0,v.slen[1]=0,v.slen[2]=0,v.slen[3]=0,v.max_nonzero_coeff=575,Ti.fill(v.scalefac,0),o(p,v)};function a(p){this.ordinal=p}a.BINSEARCH_NONE=new a(0),a.BINSEARCH_UP=new a(1),a.BINSEARCH_DOWN=new a(2);function l(p,v,S,x,_){var C,O=p.CurrentStep[x],N=!1,k=p.OldValue[x],B=a.BINSEARCH_NONE;for(v.global_gain=k,S-=v.part2_length,Hr(O!=0);;){var te;if(C=s.count_bits(p,_,v,null),O==1||C==S)break;C>S?(B==a.BINSEARCH_DOWN&&(N=!0),N&&(O/=2),B=a.BINSEARCH_UP,te=O):(B==a.BINSEARCH_UP&&(N=!0),N&&(O/=2),B=a.BINSEARCH_DOWN,te=-O),v.global_gain+=te,v.global_gain<0&&(v.global_gain=0,N=!0),v.global_gain>255&&(v.global_gain=255,N=!0)}for(Hr(v.global_gain>=0),Hr(v.global_gain<256);C>S&&v.global_gain<255;)v.global_gain++,C=s.count_bits(p,_,v,null);return p.CurrentStep[x]=k-v.global_gain>=4?4:2,p.OldValue[x]=v.global_gain,v.part2_3_length=C,C}this.trancate_smallspectrums=function(p,v,S,x){var _=us(Yu.SFBMAX);if(!(!(p.substep_shaping&4)&&v.block_type==lt.SHORT_TYPE||p.substep_shaping&128)){r.calc_noise(v,S,_,new Fo,null);for(var O=0;O<576;O++){var C=0;v.l3_enc[O]!=0&&(C=Math.abs(v.xr[O])),x[O]=C}var O=0,N=8;v.block_type==lt.SHORT_TYPE&&(N=6);do{var k,B,te,F,T=v.width[N];if(O+=T,!(_[N]>=1)&&(Ti.sort(x,O-T,T),!BitStream.EQ(x[O-1],0))){k=(1-_[N])*S[N],B=0,F=0;do{var h;for(te=1;F+te<T&&!BitStream.NEQ(x[F+O-T],x[F+O+te-T]);te++);if(h=x[F+O-T]*x[F+O-T]*te,k<h){F!=0&&(B=x[F+O-T-1]);break}k-=h,F+=te}while(F<T);if(!BitStream.EQ(B,0))do Math.abs(v.xr[O-T])<=B&&(v.l3_enc[O-T]=0);while(--T>0)}}while(++N<v.psymax);v.part2_3_length=s.noquant_count_bits(p,v,null)}};function f(p){for(var v=0;v<p.sfbmax;v++)if(p.scalefac[v]+p.subblock_gain[p.window[v]]==0)return!1;return!0}function c(p){return Po.FAST_LOG10(.368+.632*p*p*p)}function d(p,v){for(var S=1e-37,x=0;x<v.psymax;x++)S+=c(p[x]);return Math.max(1e-20,S)}function m(p,v,S,x,_){var C;switch(p){default:case 9:{v.over_count>0?(C=S.over_SSD<=v.over_SSD,S.over_SSD==v.over_SSD&&(C=S.bits<v.bits)):C=S.max_noise<0&&S.max_noise*10+S.bits<=v.max_noise*10+v.bits;break}case 0:C=S.over_count<v.over_count||S.over_count==v.over_count&&S.over_noise<v.over_noise||S.over_count==v.over_count&&BitStream.EQ(S.over_noise,v.over_noise)&&S.tot_noise<v.tot_noise;break;case 8:S.max_noise=d(_,x);case 1:C=S.max_noise<v.max_noise;break;case 2:C=S.tot_noise<v.tot_noise;break;case 3:C=S.tot_noise<v.tot_noise&&S.max_noise<v.max_noise;break;case 4:C=S.max_noise<=0&&v.max_noise>.2||S.max_noise<=0&&v.max_noise<0&&v.max_noise>S.max_noise-.2&&S.tot_noise<v.tot_noise||S.max_noise<=0&&v.max_noise>0&&v.max_noise>S.max_noise-.2&&S.tot_noise<v.tot_noise+v.over_noise||S.max_noise>0&&v.max_noise>-.05&&v.max_noise>S.max_noise-.1&&S.tot_noise+S.over_noise<v.tot_noise+v.over_noise||S.max_noise>0&&v.max_noise>-.1&&v.max_noise>S.max_noise-.15&&S.tot_noise+S.over_noise+S.over_noise<v.tot_noise+v.over_noise+v.over_noise;break;case 5:C=S.over_noise<v.over_noise||BitStream.EQ(S.over_noise,v.over_noise)&&S.tot_noise<v.tot_noise;break;case 6:C=S.over_noise<v.over_noise||BitStream.EQ(S.over_noise,v.over_noise)&&(S.max_noise<v.max_noise||BitStream.EQ(S.max_noise,v.max_noise)&&S.tot_noise<=v.tot_noise);break;case 7:C=S.over_count<v.over_count||S.over_noise<v.over_noise;break}return v.over_count==0&&(C=C&&S.bits<v.bits),C}function b(p,v,S,x,_){var C=p.internal_flags,O;v.scalefac_scale==0?O=1.2968395546510096:O=1.6817928305074292;for(var N=0,k=0;k<v.sfbmax;k++)N<S[k]&&(N=S[k]);var B=C.noise_shaping_amp;switch(B==3&&(_?B=2:B=1),B){case 2:break;case 1:N>1?N=Math.pow(N,.5):N*=.95;break;case 0:default:N>1?N=1:N*=.95;break}for(var te=0,k=0;k<v.sfbmax;k++){var F=v.width[k],T;if(te+=F,!(S[k]<N)){if(C.substep_shaping&2&&(C.pseudohalf[k]=C.pseudohalf[k]==0?1:0,C.pseudohalf[k]==0&&C.noise_shaping_amp==2))return;for(v.scalefac[k]++,T=-F;T<0;T++)x[te+T]*=O,x[te+T]>v.xrpow_max&&(v.xrpow_max=x[te+T]);if(C.noise_shaping_amp==2)return}}}function A(p,v){for(var S=1.2968395546510096,x=0,_=0;_<p.sfbmax;_++){var C=p.width[_],O=p.scalefac[_];if(p.preflag!=0&&(O+=r.pretab[_]),x+=C,O&1){O++;for(var N=-C;N<0;N++)v[x+N]*=S,v[x+N]>p.xrpow_max&&(p.xrpow_max=v[x+N])}p.scalefac[_]=O>>1}p.preflag=0,p.scalefac_scale=1}function E(p,v,S){var x,_=v.scalefac;for(x=0;x<v.sfb_lmax;x++)if(_[x]>=16)return!0;for(var C=0;C<3;C++){var O=0,N=0;for(x=v.sfb_lmax+C;x<v.sfbdivide;x+=3)O<_[x]&&(O=_[x]);for(;x<v.sfbmax;x+=3)N<_[x]&&(N=_[x]);if(!(O<16&&N<8)){if(v.subblock_gain[C]>=7)return!0;v.subblock_gain[C]++;var k=p.scalefac_band.l[v.sfb_lmax];for(x=v.sfb_lmax+C;x<v.sfbmax;x+=3){var B,te=v.width[x],F=_[x];if(Hr(F>=0),F=F-(4>>v.scalefac_scale),F>=0){_[x]=F,k+=te*3;continue}_[x]=0;{var T=210+(F<<v.scalefac_scale+1);B=r.IPOW20(T)}k+=te*(C+1);for(var h=-te;h<0;h++)S[k+h]*=B,S[k+h]>v.xrpow_max&&(v.xrpow_max=S[k+h]);k+=te*(3-C-1)}{var B=r.IPOW20(202);k+=v.width[x]*(C+1);for(var h=-v.width[x];h<0;h++)S[k+h]*=B,S[k+h]>v.xrpow_max&&(v.xrpow_max=S[k+h])}}}return!1}function R(p,v,S,x,_){var C=p.internal_flags;b(p,v,S,x,_);var O=f(v);return O?!1:(C.mode_gr==2?O=s.scale_bitcount(v):O=s.scale_bitcount_lsf(C,v),O?(C.noise_shaping>1&&(Ti.fill(C.pseudohalf,0),v.scalefac_scale==0?(A(v,x),O=!1):v.block_type==lt.SHORT_TYPE&&C.subblock_gain>0&&(O=E(C,v,x)||f(v))),O||(C.mode_gr==2?O=s.scale_bitcount(v):O=s.scale_bitcount_lsf(C,v)),!O):!0)}this.outer_loop=function(p,v,S,x,_,C){var O=p.internal_flags,N=new Xu,k=us(576),B=us(Yu.SFBMAX),te=new Fo,F,T=new sv,h=9999999,H=!1,Q=!1,W=0;if(l(O,v,C,_,x),O.noise_shaping==0)return 100;r.calc_noise(v,S,B,te,T),te.bits=v.part2_3_length,N.assign(v);var K=0;for(In.arraycopy(x,0,k,0,576);!H;){do{var Z=new Fo,ee,z=255;if(O.substep_shaping&2?ee=20:ee=3,O.sfb21_extra&&(B[N.sfbmax]>1||N.block_type==lt.SHORT_TYPE&&(B[N.sfbmax+1]>1||B[N.sfbmax+2]>1))||!R(p,N,B,x,Q))break;N.scalefac_scale!=0&&(z=254);var y=C-N.part2_length;if(y<=0)break;for(;(N.part2_3_length=s.count_bits(O,x,N,T))>y&&N.global_gain<=z;)N.global_gain++;if(N.global_gain>z)break;if(te.over_count==0){for(;(N.part2_3_length=s.count_bits(O,x,N,T))>h&&N.global_gain<=z;)N.global_gain++;if(N.global_gain>z)break}if(r.calc_noise(N,S,B,Z,T),Z.bits=N.part2_3_length,v.block_type!=lt.SHORT_TYPE?F=p.quant_comp:F=p.quant_comp_short,F=m(F,te,Z,N,B)?1:0,F!=0)h=v.part2_3_length,te=Z,v.assign(N),K=0,In.arraycopy(x,0,k,0,576);else if(O.full_outer_loop==0&&(++K>ee&&te.over_count==0||O.noise_shaping_amp==3&&Q&&K>30||O.noise_shaping_amp==3&&Q&&N.global_gain-W>15))break}while(N.global_gain+N.scalefac_scale<255);O.noise_shaping_amp==3?Q?H=!0:(N.assign(v),In.arraycopy(k,0,x,0,576),K=0,W=N.global_gain,Q=!0):H=!0}return Hr(v.global_gain+v.scalefac_scale<=255),p.VBR==Wu.vbr_rh||p.VBR==Wu.vbr_mtrh?In.arraycopy(k,0,x,0,576):O.substep_shaping&1&&trancate_smallspectrums(O,v,S,x),te.over_count},this.iteration_finish_one=function(p,v,S){var x=p.l3_side,_=x.tt[v][S];s.best_scalefac_store(p,v,S,x),p.use_best_huffman==1&&s.best_huffman_divide(p,_),t.ResvAdjust(p,_)},this.VBR_encode_granule=function(p,v,S,x,_,C,O){var N=p.internal_flags,k=new Xu,B=us(576),te=O,F=O+1,T=(O+C)/2,h,H,Q=0,W=N.sfb21_extra;Hr(te<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Ti.fill(k.l3_enc,0);do Hr(T>=C),Hr(T<=O),Hr(C<=O),T>te-42?N.sfb21_extra=!1:N.sfb21_extra=W,H=outer_loop(p,v,S,x,_,T),H<=0?(Q=1,F=v.part2_3_length,k.assign(v),In.arraycopy(x,0,B,0,576),O=F-32,h=O-C,T=(O+C)/2):(C=T+32,h=O-C,T=(O+C)/2,Q!=0&&(Q=2,v.assign(k),In.arraycopy(B,0,x,0,576)));while(h>12);N.sfb21_extra=W,Q==2&&In.arraycopy(k.l3_enc,0,v.l3_enc,0,576),Hr(v.part2_3_length<=te)},this.get_framebits=function(p,v){var S=p.internal_flags;S.bitrate_index=S.VBR_min_bitrate;var x=e.getframebits(p);S.bitrate_index=1,x=e.getframebits(p);for(var _=1;_<=S.VBR_max_bitrate;_++){S.bitrate_index=_;var C=new MeanBits(x);v[_]=t.ResvFrameBegin(p,C),x=C.bits}},this.VBR_old_prepare=function(p,v,S,x,_,C,O,N,k){var B=p.internal_flags,te,F=0,T=1,h=0;B.bitrate_index=B.VBR_max_bitrate;var H=t.ResvFrameBegin(p,new MeanBits(0))/B.mode_gr;get_framebits(p,C);for(var Q=0;Q<B.mode_gr;Q++){var W=r.on_pe(p,v,N[Q],H,Q,0);B.mode_ext==lt.MPG_MD_MS_LR&&(ms_convert(B.l3_side,Q),r.reduce_side(N[Q],S[Q],H,W));for(var K=0;K<B.channels_out;++K){var Z=B.l3_side.tt[Q][K];Z.block_type!=lt.SHORT_TYPE?(F=1.28/(1+Math.exp(3.5-v[Q][K]/300))-.05,te=B.PSY.mask_adjust-F):(F=2.56/(1+Math.exp(3.5-v[Q][K]/300))-.14,te=B.PSY.mask_adjust_short-F),B.masking_lower=Math.pow(10,te*.1),init_outer_loop(B,Z),k[Q][K]=r.calc_xmin(p,x[Q][K],Z,_[Q][K]),k[Q][K]!=0&&(T=0),O[Q][K]=126,h+=N[Q][K]}}for(var Q=0;Q<B.mode_gr;Q++)for(var K=0;K<B.channels_out;K++)h>C[B.VBR_max_bitrate]&&(N[Q][K]*=C[B.VBR_max_bitrate],N[Q][K]/=h),O[Q][K]>N[Q][K]&&(O[Q][K]=N[Q][K]);return T},this.bitpressure_strategy=function(p,v,S,x){for(var _=0;_<p.mode_gr;_++)for(var C=0;C<p.channels_out;C++){for(var O=p.l3_side.tt[_][C],N=v[_][C],k=0,B=0;B<O.psy_lmax;B++)N[k++]*=1+.029*B*B/lt.SBMAX_l/lt.SBMAX_l;if(O.block_type==lt.SHORT_TYPE)for(var B=O.sfb_smin;B<lt.SBMAX_s;B++)N[k++]*=1+.029*B*B/lt.SBMAX_s/lt.SBMAX_s,N[k++]*=1+.029*B*B/lt.SBMAX_s/lt.SBMAX_s,N[k++]*=1+.029*B*B/lt.SBMAX_s/lt.SBMAX_s;x[_][C]=0|Math.max(S[_][C],.9*x[_][C])}},this.VBR_new_prepare=function(p,v,S,x,_,C){var O=p.internal_flags,N=1,k=0,B=0,te;if(p.free_format){O.bitrate_index=0;var F=new MeanBits(k);te=t.ResvFrameBegin(p,F),k=F.bits,_[0]=te}else{O.bitrate_index=O.VBR_max_bitrate;var F=new MeanBits(k);t.ResvFrameBegin(p,F),k=F.bits,get_framebits(p,_),te=_[O.VBR_max_bitrate]}for(var T=0;T<O.mode_gr;T++){r.on_pe(p,v,C[T],k,T,0),O.mode_ext==lt.MPG_MD_MS_LR&&ms_convert(O.l3_side,T);for(var h=0;h<O.channels_out;++h){var H=O.l3_side.tt[T][h];O.masking_lower=Math.pow(10,O.PSY.mask_adjust*.1),init_outer_loop(O,H),r.calc_xmin(p,S[T][h],H,x[T][h])!=0&&(N=0),B+=C[T][h]}}for(var T=0;T<O.mode_gr;T++)for(var h=0;h<O.channels_out;h++)B>te&&(C[T][h]*=te,C[T][h]/=B);return N},this.calc_target_bits=function(p,v,S,x,_,C){var O=p.internal_flags,N=O.l3_side,k,B,te,F,T=0;O.bitrate_index=O.VBR_max_bitrate;var h=new MeanBits(T);for(C[0]=t.ResvFrameBegin(p,h),T=h.bits,O.bitrate_index=1,T=e.getframebits(p)-O.sideinfo_len*8,_[0]=T/(O.mode_gr*O.channels_out),T=p.VBR_mean_bitrate_kbps*p.framesize*1e3,O.substep_shaping&1&&(T*=1.09),T/=p.out_samplerate,T-=O.sideinfo_len*8,T/=O.mode_gr*O.channels_out,k=.93+.07*(11-p.compression_ratio)/(11-5.5),k<.9&&(k=.9),k>1&&(k=1),B=0;B<O.mode_gr;B++){var H=0;for(te=0;te<O.channels_out;te++){if(x[B][te]=int(k*T),v[B][te]>700){var Q=int((v[B][te]-700)/1.4),W=N.tt[B][te];x[B][te]=int(k*T),W.block_type==lt.SHORT_TYPE&&Q<T/2&&(Q=T/2),Q>T*3/2?Q=T*3/2:Q<0&&(Q=0),x[B][te]+=Q}x[B][te]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(x[B][te]=LameInternalFlags.MAX_BITS_PER_CHANNEL),H+=x[B][te]}if(H>LameInternalFlags.MAX_BITS_PER_GRANULE)for(te=0;te<O.channels_out;++te)x[B][te]*=LameInternalFlags.MAX_BITS_PER_GRANULE,x[B][te]/=H}if(O.mode_ext==lt.MPG_MD_MS_LR)for(B=0;B<O.mode_gr;B++)r.reduce_side(x[B],S[B],T*O.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(F=0,B=0;B<O.mode_gr;B++)for(te=0;te<O.channels_out;te++)x[B][te]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(x[B][te]=LameInternalFlags.MAX_BITS_PER_CHANNEL),F+=x[B][te];if(F>C[0])for(B=0;B<O.mode_gr;B++)for(te=0;te<O.channels_out;te++)x[B][te]*=C[0],x[B][te]/=F}}var ov=av,lv=At,sa=lv.assert;function cv(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,r){var i=t.internal_flags,s,n=i.l3_side,o=e.getframebits(t);r.bits=(o-i.sideinfo_len*8)/i.mode_gr;var a=8*256*i.mode_gr-8;t.brate>320?s=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(s=8*1440,t.strict_ISO&&(s=8*int(32e4/(t.out_samplerate/1152)/8+.5))),i.ResvMax=s-o,i.ResvMax>a&&(i.ResvMax=a),(i.ResvMax<0||t.disable_reservoir)&&(i.ResvMax=0);var l=r.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return l>s&&(l=s),sa(i.ResvMax%8==0),sa(i.ResvMax>=0),n.resvDrain_pre=0,i.pinfo!=null&&(i.pinfo.mean_bits=r.bits/2,i.pinfo.resvsize=i.ResvSize),l},this.ResvMaxBits=function(t,r,i,s){var n=t.internal_flags,o,a=n.ResvSize,l=n.ResvMax;s!=0&&(a+=r),n.substep_shaping&1&&(l*=.9),i.bits=r,a*10>l*9?(o=a-l*9/10,i.bits+=o,n.substep_shaping|=128):(o=0,n.substep_shaping&=127,!t.disable_reservoir&&!(n.substep_shaping&1)&&(i.bits-=.1*r));var f=a<n.ResvMax*6/10?a:n.ResvMax*6/10;return f-=o,f<0&&(f=0),f},this.ResvAdjust=function(t,r){t.ResvSize-=r.part2_3_length+r.part2_length},this.ResvFrameEnd=function(t,r){var i,s=t.l3_side;t.ResvSize+=r*t.mode_gr;var n=0;s.resvDrain_post=0,s.resvDrain_pre=0,(i=t.ResvSize%8)!=0&&(n+=i),i=t.ResvSize-n-t.ResvMax,i>0&&(sa(i%8==0),sa(i>=0),n+=i);{var o=Math.min(s.main_data_begin*8,n)/8;s.resvDrain_pre+=8*o,n-=8*o,t.ResvSize-=8*o,s.main_data_begin-=o}s.resvDrain_post+=n,t.ResvSize-=n}}var uv=cv;function fv(){var e="http://www.mp3dev.org/",t=3,r=98,i=4,s=0,n=93;this.getLameVersion=function(){return t+"."+r+"."+i},this.getLameShortVersion=function(){return t+"."+r+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+r+"r"},this.getPsyVersion=function(){return s+"."+n},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var hv=fv,Ar=At,dv=Ar.System,Do=Ar.VbrMode;Ar.Float;var Gu=Ar.ShortBlock;Ar.Util;var _v=Ar.Arrays;Ar.new_array_n;var aa=Ar.new_byte;Ar.new_double;Ar.new_float;Ar.new_float_n;Ar.new_int;Ar.new_int_n;var mv=Ar.assert;Ps.NUMTOCENTRIES=100;Ps.MAXFRAMESIZE=2880;function Ps(){var e,t,r;this.setModules=function(T,h,H){e=T,t=h,r=H};var i=1,s=2,n=4,o=8,a=Ps.NUMTOCENTRIES,l=Ps.MAXFRAMESIZE,f=a+4+4+4+4+4,c=f+9+1+1+8+1+1+3+1+1+2+4+2+2,d=128,m=64,b=32,A=null,E="Xing",R="Info",p=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function v(T,h){if(T.nVbrNumFrames++,T.sum+=h,T.seen++,!(T.seen<T.want)&&(T.pos<T.size&&(T.bag[T.pos]=T.sum,T.pos++,T.seen=0),T.pos==T.size)){for(var H=1;H<T.size;H+=2)T.bag[H/2]=T.bag[H];T.want*=2,T.pos/=2}}function S(T,h){if(!(T.pos<=0))for(var H=1;H<a;++H){var Q=H/a,W,K,Z=0|Math.floor(Q*T.pos);Z>T.pos-1&&(Z=T.pos-1),W=T.bag[Z],K=T.sum;var ee=0|256*W/K;ee>255&&(ee=255),h[H]=255&ee}}this.addVbrFrame=function(T){var h=T.internal_flags,H=Tables.bitrate_table[T.version][h.bitrate_index];mv(h.VBR_seek_table.bag!=null),v(h.VBR_seek_table,H)};function x(T,h){var H=T[h+0]&255;return H<<=8,H|=T[h+1]&255,H<<=8,H|=T[h+2]&255,H<<=8,H|=T[h+3]&255,H}function _(T,h,H){T[h+0]=255&(H>>24&255),T[h+1]=255&(H>>16&255),T[h+2]=255&(H>>8&255),T[h+3]=255&(H&255)}function C(T,h,H){T[h+0]=255&(H>>8&255),T[h+1]=255&(H&255)}function O(T,h){return new String(T,h,E.length(),A).equals(E)||new String(T,h,R.length(),A).equals(R)}function N(T,h,H){return 255&(T<<h|H&~(-1<<h))}function k(T,h){var H=T.internal_flags;h[0]=N(h[0],8,255),h[1]=N(h[1],3,7),h[1]=N(h[1],1,T.out_samplerate<16e3?0:1),h[1]=N(h[1],1,T.version),h[1]=N(h[1],2,4-3),h[1]=N(h[1],1,T.error_protection?0:1),h[2]=N(h[2],4,H.bitrate_index),h[2]=N(h[2],2,H.samplerate_index),h[2]=N(h[2],1,0),h[2]=N(h[2],1,T.extension),h[3]=N(h[3],2,T.mode.ordinal()),h[3]=N(h[3],2,H.mode_ext),h[3]=N(h[3],1,T.copyright),h[3]=N(h[3],1,T.original),h[3]=N(h[3],2,T.emphasis),h[0]=255;var Q=255&(h[1]&241),W;T.version==1?W=d:T.out_samplerate<16e3?W=b:W=m,T.VBR==Do.vbr_off&&(W=T.brate);var K;T.free_format?K=0:K=255&16*e.BitrateIndex(W,T.version,T.out_samplerate),T.version==1?(h[1]=255&(Q|10),Q=255&(h[2]&13),h[2]=255&(K|Q)):(h[1]=255&(Q|2),Q=255&(h[2]&13),h[2]=255&(K|Q))}this.getVbrTag=function(T){var h=new VBRTagData,H=0;h.flags=0;var Q=T[H+1]>>3&1,W=T[H+2]>>2&3,K=T[H+3]>>6&3,Z=T[H+2]>>4&15;if(Z=Tables.bitrate_table[Q][Z],T[H+1]>>4==14?h.samprate=Tables.samplerate_table[2][W]:h.samprate=Tables.samplerate_table[Q][W],Q!=0?K!=3?H+=32+4:H+=17+4:K!=3?H+=17+4:H+=9+4,!O(T,H))return null;H+=4,h.hId=Q;var ee=h.flags=x(T,H);if(H+=4,ee&i&&(h.frames=x(T,H),H+=4),ee&s&&(h.bytes=x(T,H),H+=4),ee&n){if(h.toc!=null)for(var z=0;z<a;z++)h.toc[z]=T[H+z];H+=a}h.vbrScale=-1,ee&o&&(h.vbrScale=x(T,H),H+=4),h.headersize=(Q+1)*72e3*Z/h.samprate,H+=21;var y=T[H+0]<<4;y+=T[H+1]>>4;var M=(T[H+1]&15)<<8;return M+=T[H+2]&255,(y<0||y>3e3)&&(y=-1),(M<0||M>3e3)&&(M=-1),h.encDelay=y,h.encPadding=M,h},this.InitVbrTag=function(T){var h=T.internal_flags,H;T.version==1?H=d:T.out_samplerate<16e3?H=b:H=m,T.VBR==Do.vbr_off&&(H=T.brate);var Q=(T.version+1)*72e3*H/T.out_samplerate,W=h.sideinfo_len+c;if(h.VBR_seek_table.TotalFrameSize=Q,Q<W||Q>l){T.bWriteVbrTag=!1;return}h.VBR_seek_table.nVbrNumFrames=0,h.VBR_seek_table.nBytesWritten=0,h.VBR_seek_table.sum=0,h.VBR_seek_table.seen=0,h.VBR_seek_table.want=1,h.VBR_seek_table.pos=0,h.VBR_seek_table.bag==null&&(h.VBR_seek_table.bag=new int[400],h.VBR_seek_table.size=400);var K=aa(l);k(T,K);for(var Z=h.VBR_seek_table.TotalFrameSize,ee=0;ee<Z;++ee)t.add_dummy_byte(T,K[ee]&255,1)};function B(T,h){var H=h^T;return h=h>>8^p[H&255],h}this.updateMusicCRC=function(T,h,H,Q){for(var W=0;W<Q;++W)T[0]=B(h[H+W],T[0])};function te(T,h,H,Q,W){var K=T.internal_flags,Z=0,ee=T.encoder_delay,z=T.encoder_padding,y=100-10*T.VBR_q-T.quality,M=r.getLameVeryShortVersion(),w,P=0,ae,J=[1,5,3,2,4,0,3],re=0|(T.lowpassfreq/100+.5>255?255:T.lowpassfreq/100+.5),V=0,ue=0,_e=0,Y=T.internal_flags.noise_shaping,L=0,u=0,D=0,U=0,$=0,j=(T.exp_nspsytune&1)!=0,g=(T.exp_nspsytune&2)!=0,I=!1,oe=!1,ie=T.internal_flags.nogap_total,he=T.internal_flags.nogap_current,se=T.ATHtype,ne=0,me;switch(T.VBR){case vbr_abr:me=T.VBR_mean_bitrate_kbps;break;case vbr_off:me=T.brate;break;default:me=T.VBR_min_bitrate_kbps}switch(T.VBR.ordinal()<J.length?w=J[T.VBR.ordinal()]:w=0,ae=16*P+w,K.findReplayGain&&(K.RadioGain>510&&(K.RadioGain=510),K.RadioGain<-510&&(K.RadioGain=-510),ue=8192,ue|=3072,K.RadioGain>=0?ue|=K.RadioGain:(ue|=512,ue|=-K.RadioGain)),K.findPeakSample&&(V=Math.abs(0|K.PeakSample/32767*Math.pow(2,23)+.5)),ie!=-1&&(he>0&&(oe=!0),he<ie-1&&(I=!0)),ne=se+((j?1:0)<<4)+((g?1:0)<<5)+((I?1:0)<<6)+((oe?1:0)<<7),y<0&&(y=0),T.mode){case MONO:L=0;break;case STEREO:L=1;break;case DUAL_CHANNEL:L=2;break;case JOINT_STEREO:T.force_ms?L=4:L=3;break;case NOT_SET:default:L=7;break}T.in_samplerate<=32e3?D=0:T.in_samplerate==48e3?D=2:T.in_samplerate>48e3?D=3:D=1,(T.short_blocks==Gu.short_block_forced||T.short_blocks==Gu.short_block_dispensed||T.lowpassfreq==-1&&T.highpassfreq==-1||T.scale_left<T.scale_right||T.scale_left>T.scale_right||T.disable_reservoir&&T.brate<320||T.noATH||T.ATHonly||se==0||T.in_samplerate<=32e3)&&(u=1),U=Y+(L<<2)+(u<<5)+(D<<6),$=K.nMusicCRC,_(H,Q+Z,y),Z+=4;for(var Re=0;Re<9;Re++)H[Q+Z+Re]=255&M.charAt(Re);Z+=9,H[Q+Z]=255&ae,Z++,H[Q+Z]=255&re,Z++,_(H,Q+Z,V),Z+=4,C(H,Q+Z,ue),Z+=2,C(H,Q+Z,_e),Z+=2,H[Q+Z]=255&ne,Z++,me>=255?H[Q+Z]=255:H[Q+Z]=255&me,Z++,H[Q+Z]=255&ee>>4,H[Q+Z+1]=255&(ee<<4)+(z>>8),H[Q+Z+2]=255&z,Z+=3,H[Q+Z]=255&U,Z++,H[Q+Z++]=0,C(H,Q+Z,T.preset),Z+=2,_(H,Q+Z,h),Z+=4,C(H,Q+Z,$),Z+=2;for(var Ee=0;Ee<Z;Ee++)W=B(H[Q+Ee],W);return C(H,Q+Z,W),Z+=2,Z}function F(T){T.seek(0);var h=aa(10);T.readFully(h);var H;return new String(h,"ISO-8859-1").startsWith("ID3")?H=0:H=((h[6]&127)<<21|(h[7]&127)<<14|(h[8]&127)<<7|h[9]&127)+h.length,H}this.getLameTagFrame=function(T,h){var H=T.internal_flags;if(!T.bWriteVbrTag||H.Class_ID!=Lame.LAME_ID||H.VBR_seek_table.pos<=0)return 0;if(h.length<H.VBR_seek_table.TotalFrameSize)return H.VBR_seek_table.TotalFrameSize;_v.fill(h,0,H.VBR_seek_table.TotalFrameSize,0),k(T,h);var Q=aa(a);if(T.free_format)for(var W=1;W<a;++W)Q[W]=255&255*W/100;else S(H.VBR_seek_table,Q);var K=H.sideinfo_len;T.error_protection&&(K-=2),T.VBR==Do.vbr_off?(h[K++]=255&R.charAt(0),h[K++]=255&R.charAt(1),h[K++]=255&R.charAt(2),h[K++]=255&R.charAt(3)):(h[K++]=255&E.charAt(0),h[K++]=255&E.charAt(1),h[K++]=255&E.charAt(2),h[K++]=255&E.charAt(3)),_(h,K,i+s+n+o),K+=4,_(h,K,H.VBR_seek_table.nVbrNumFrames),K+=4;var Z=H.VBR_seek_table.nBytesWritten+H.VBR_seek_table.TotalFrameSize;_(h,K,0|Z),K+=4,dv.arraycopy(Q,0,h,K,Q.length),K+=Q.length,T.error_protection&&t.CRC_writeheader(H,h);for(var ee=0,W=0;W<K;W++)ee=B(h[W],ee);return K+=te(T,Z,h,K,ee),H.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(T,h){var H=T.internal_flags;if(H.VBR_seek_table.pos<=0||(h.seek(h.length()),h.length()==0))return-1;var Q=F(h);h.seek(Q);var W=aa(l),K=getLameTagFrame(T,W);return K>W.length?-1:(K<1||h.write(W,0,K),0)}}var pv=Ps,Tr=At;Tr.System;Tr.VbrMode;Tr.Float;Tr.ShortBlock;Tr.Util;Tr.Arrays;Tr.new_array_n;var Qu=Tr.new_byte;Tr.new_double;Tr.new_float;Tr.new_float_n;Tr.new_int;Tr.new_int_n;var Ku=Tr.assert,vv=nc(),gv=Q2,bv=x1,yv=T1(),Ev=ov,Sv=C1(),wv=uv,xv=zs,Av=rc();Kt();var Tv=hv,Cv=pv;function Rv(){this.setModules=function(e,t){}}function kv(){this.setModules=function(e,t,r){}}function Iv(){}function Mv(){this.setModules=function(e,t){}}function Ov(e,t,r){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,r=128);var i=new vv,s=new Rv,n=new bv,o=new Av,a=new gv,l=new yv,f=new Ev,c=new Cv,d=new Tv,m=new Mv,b=new wv,A=new Sv,E=new kv,R=new Iv;i.setModules(n,o,a,l,f,c,d,m,R),o.setModules(n,R,d,c),m.setModules(o,d),a.setModules(i),f.setModules(o,b,l,A),l.setModules(A,b,i.enc.psy),b.setModules(o),A.setModules(l),c.setModules(i,o,d),s.setModules(E,R),E.setModules(d,m,a);var p=i.lame_init();p.num_channels=e,p.in_samplerate=t,p.brate=r,p.mode=xv.STEREO,p.quality=3,p.bWriteVbrTag=!1,p.disable_reservoir=!0,p.write_id3tag_automatic=!1;var v=i.lame_init_params(p);Ku(v==0);var S=1152,x=0|1.25*S+7200,_=Qu(x);this.encodeBuffer=function(C,O){e==1&&(O=C),Ku(C.length==O.length),C.length>S&&(S=C.length,x=0|1.25*S+7200,_=Qu(x));var N=i.lame_encode_buffer(p,C,O,C.length,_,0,x);return new Int8Array(_.subarray(0,N))},this.flush=function(){var C=i.lame_encode_flush(p,_,0,x);return new Int8Array(_.subarray(0,C))}}function Yr(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Za(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}Yr.RIFF=Za("RIFF");Yr.WAVE=Za("WAVE");Yr.fmt_=Za("fmt ");Yr.data=Za("data");Yr.readHeader=function(e){var t=new Yr,r=e.getUint32(0,!1);if(Yr.RIFF==r&&(e.getUint32(4,!0),Yr.WAVE==e.getUint32(8,!1)&&Yr.fmt_==e.getUint32(12,!1))){var i=e.getUint32(16,!0),s=16+4;switch(i){case 16:case 18:t.channels=e.getUint16(s+2,!0),t.sampleRate=e.getUint32(s+4,!0);break;default:throw"extended fmt chunk not implemented"}s+=i;for(var n=Yr.data,o=0;n!=r&&(r=e.getUint32(s,!1),o=e.getUint32(s+4,!0),n!=r);)s+=o+8;return t.dataLen=o,t.dataOffset=s+8,t}};Ra.Mp3Encoder=Ov;Ra.WavHeader=Yr;/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zu(Object(r),!0).forEach(function(i){Lv(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function va(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?va=function(t){return typeof t}:va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}function Lv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},xn.apply(this,arguments)}function Nv(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,n;for(n=0;n<i.length;n++)s=i[n],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Pv(e,t){if(e==null)return{};var r=Nv(e,t),i,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var Fv="1.14.0";function Sn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Tn=Sn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qs=Sn(/Edge/i),Ju=Sn(/firefox/i),Ss=Sn(/safari/i)&&!Sn(/chrome/i)&&!Sn(/android/i),R1=Sn(/iP(ad|od|hone)/i),Dv=Sn(/chrome/i)&&Sn(/android/i),k1={capture:!1,passive:!1};function ft(e,t,r){e.addEventListener(t,r,!Tn&&k1)}function ct(e,t,r){e.removeEventListener(t,r,!Tn&&k1)}function ka(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Bv(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ln(e,t,r,i){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&ka(e,t):ka(e,t))||i&&e===r)return e;if(e===r)break}while(e=Bv(e))}return null}var e0=/\s+/g;function Mr(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(e0," ").replace(" "+t+" "," ");e.className=(i+(r?" "+t:"")).replace(e0," ")}}function Ke(e,t,r){var i=e&&e.style;if(i){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=r+(typeof r=="string"?"":"px")}}function $i(e,t){var r="";if(typeof e=="string")r=e;else do{var i=Ke(e,"transform");i&&i!=="none"&&(r=i+" "+r)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(r)}function I1(e,t,r){if(e){var i=e.getElementsByTagName(t),s=0,n=i.length;if(r)for(;s<n;s++)r(i[s],s);return i}return[]}function hn(){var e=document.scrollingElement;return e||document.documentElement}function Bt(e,t,r,i,s){if(!(!e.getBoundingClientRect&&e!==window)){var n,o,a,l,f,c,d;if(e!==window&&e.parentNode&&e!==hn()?(n=e.getBoundingClientRect(),o=n.top,a=n.left,l=n.bottom,f=n.right,c=n.height,d=n.width):(o=0,a=0,l=window.innerHeight,f=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||r)&&e!==window&&(s=s||e.parentNode,!Tn))do if(s&&s.getBoundingClientRect&&(Ke(s,"transform")!=="none"||r&&Ke(s,"position")!=="static")){var m=s.getBoundingClientRect();o-=m.top+parseInt(Ke(s,"border-top-width")),a-=m.left+parseInt(Ke(s,"border-left-width")),l=o+n.height,f=a+n.width;break}while(s=s.parentNode);if(i&&e!==window){var b=$i(s||e),A=b&&b.a,E=b&&b.d;b&&(o/=E,a/=A,d/=A,c/=E,l=o+c,f=a+d)}return{top:o,left:a,bottom:l,right:f,width:d,height:c}}}function t0(e,t,r){for(var i=$n(e,!0),s=Bt(e)[t];i;){var n=Bt(i)[r],o=void 0;if(r==="top"||r==="left"?o=s>=n:o=s<=n,!o)return i;if(i===hn())break;i=$n(i,!1)}return!1}function Wi(e,t,r,i){for(var s=0,n=0,o=e.children;n<o.length;){if(o[n].style.display!=="none"&&o[n]!==Ze.ghost&&(i||o[n]!==Ze.dragged)&&ln(o[n],r.draggable,e,!1)){if(s===t)return o[n];s++}n++}return null}function sc(e,t){for(var r=e.lastElementChild;r&&(r===Ze.ghost||Ke(r,"display")==="none"||t&&!ka(r,t));)r=r.previousElementSibling;return r||null}function zr(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ze.clone&&(!t||ka(e,t))&&r++;return r}function r0(e){var t=0,r=0,i=hn();if(e)do{var s=$i(e),n=s.a,o=s.d;t+=e.scrollLeft*n,r+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,r]}function $v(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[r][i])return Number(r)}return-1}function $n(e,t){if(!e||!e.getBoundingClientRect)return hn();var r=e,i=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var s=Ke(r);if(r.clientWidth<r.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return hn();if(i||t)return r;i=!0}}while(r=r.parentNode);return hn()}function Hv(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Bo(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ws;function M1(e,t){return function(){if(!ws){var r=arguments,i=this;r.length===1?e.call(i,r[0]):e.apply(i,r),ws=setTimeout(function(){ws=void 0},t)}}}function zv(){clearTimeout(ws),ws=void 0}function O1(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function L1(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var Nr="Sortable"+new Date().getTime();function qv(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(Ke(s,"display")==="none"||s===Ze.ghost)){e.push({target:s,rect:Bt(s)});var n=_n({},e[e.length-1].rect);if(s.thisAnimationDuration){var o=$i(s,!0);o&&(n.top-=o.f,n.left-=o.e)}s.fromRect=n}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice($v(e,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var n=!1,o=0;e.forEach(function(a){var l=0,f=a.target,c=f.fromRect,d=Bt(f),m=f.prevFromRect,b=f.prevToRect,A=a.rect,E=$i(f,!0);E&&(d.top-=E.f,d.left-=E.e),f.toRect=d,f.thisAnimationDuration&&Bo(m,d)&&!Bo(c,d)&&(A.top-d.top)/(A.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=Uv(A,m,b,s.options)),Bo(d,c)||(f.prevFromRect=c,f.prevToRect=d,l||(l=s.options.animation),s.animate(f,A,d,l)),l&&(n=!0,o=Math.max(o,l),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},l),f.thisAnimationDuration=l)}),clearTimeout(t),n?t=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),e=[]},animate:function(i,s,n,o){if(o){Ke(i,"transition",""),Ke(i,"transform","");var a=$i(this.el),l=a&&a.a,f=a&&a.d,c=(s.left-n.left)/(l||1),d=(s.top-n.top)/(f||1);i.animatingX=!!c,i.animatingY=!!d,Ke(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Vv(i),Ke(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ke(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Ke(i,"transition",""),Ke(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function Vv(e){return e.offsetWidth}function Uv(e,t,r,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}var Ci=[],$o={initializeByDefault:!0},Vs={mount:function(t){for(var r in $o)$o.hasOwnProperty(r)&&!(r in t)&&(t[r]=$o[r]);Ci.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ci.push(t)},pluginEvent:function(t,r,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var n=t+"Global";Ci.forEach(function(o){r[o.pluginName]&&(r[o.pluginName][n]&&r[o.pluginName][n](_n({sortable:r},i)),r.options[o.pluginName]&&r[o.pluginName][t]&&r[o.pluginName][t](_n({sortable:r},i)))})},initializePlugins:function(t,r,i,s){Ci.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var f=new a(t,r,t.options);f.sortable=t,f.options=t.options,t[l]=f,xn(i,f.defaults)}});for(var n in t.options)if(t.options.hasOwnProperty(n)){var o=this.modifyOption(t,n,t.options[n]);typeof o<"u"&&(t.options[n]=o)}},getEventProperties:function(t,r){var i={};return Ci.forEach(function(s){typeof s.eventProperties=="function"&&xn(i,s.eventProperties.call(r[s.pluginName],t))}),i},modifyOption:function(t,r,i){var s;return Ci.forEach(function(n){t[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[r]=="function"&&(s=n.optionListeners[r].call(t[n.pluginName],i))}),s}};function jv(e){var t=e.sortable,r=e.rootEl,i=e.name,s=e.targetEl,n=e.cloneEl,o=e.toEl,a=e.fromEl,l=e.oldIndex,f=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,m=e.originalEvent,b=e.putSortable,A=e.extraEventProperties;if(t=t||r&&r[Nr],!!t){var E,R=t.options,p="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Tn&&!qs?E=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(i,!0,!0)),E.to=o||r,E.from=a||r,E.item=s||r,E.clone=n,E.oldIndex=l,E.newIndex=f,E.oldDraggableIndex=c,E.newDraggableIndex=d,E.originalEvent=m,E.pullMode=b?b.lastPutMode:void 0;var v=_n(_n({},A),Vs.getEventProperties(i,t));for(var S in v)E[S]=v[S];r&&r.dispatchEvent(E),R[p]&&R[p].call(t,E)}}var Wv=["evt"],or=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,n=Pv(i,Wv);Vs.pluginEvent.bind(Ze)(t,r,_n({dragEl:Fe,parentEl:Tt,ghostEl:it,rootEl:wt,nextEl:oi,lastDownEl:ga,cloneEl:Rt,cloneHidden:Fn,dragStarted:ms,putSortable:Ut,activeSortable:Ze.active,originalEvent:s,oldIndex:Oi,oldDraggableIndex:xs,newIndex:Or,newDraggableIndex:Pn,hideGhostForTarget:D1,unhideGhostForTarget:B1,cloneNowHidden:function(){Fn=!0},cloneNowShown:function(){Fn=!1},dispatchSortableEvent:function(a){Jt({sortable:r,name:a,originalEvent:s})}},n))};function Jt(e){jv(_n({putSortable:Ut,cloneEl:Rt,targetEl:Fe,rootEl:wt,oldIndex:Oi,oldDraggableIndex:xs,newIndex:Or,newDraggableIndex:Pn},e))}var Fe,Tt,it,wt,oi,ga,Rt,Fn,Oi,Or,xs,Pn,oa,Ut,Ii=!1,Ia=!1,Ma=[],si,Wr,Ho,zo,n0,i0,ms,Ri,As,Ts=!1,la=!1,ba,Gt,qo=[],dl=!1,Oa=[],Ja=typeof document<"u",ca=R1,s0=qs||Tn?"cssFloat":"float",Xv=Ja&&!Dv&&!R1&&"draggable"in document.createElement("div"),N1=function(){if(Ja){if(Tn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),P1=function(t,r){var i=Ke(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),n=Wi(t,0,r),o=Wi(t,1,r),a=n&&Ke(n),l=o&&Ke(o),f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Bt(n).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Bt(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return n&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||f>=s&&i[s0]==="none"||o&&i[s0]==="none"&&f+c>s)?"vertical":"horizontal"},Yv=function(t,r,i){var s=i?t.left:t.top,n=i?t.right:t.bottom,o=i?t.width:t.height,a=i?r.left:r.top,l=i?r.right:r.bottom,f=i?r.width:r.height;return s===a||n===l||s+o/2===a+f/2},Gv=function(t,r){var i;return Ma.some(function(s){var n=s[Nr].options.emptyInsertThreshold;if(!(!n||sc(s))){var o=Bt(s),a=t>=o.left-n&&t<=o.right+n,l=r>=o.top-n&&r<=o.bottom+n;if(a&&l)return i=s}}),i},F1=function(t){function r(n,o){return function(a,l,f,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(n==null&&(o||d))return!0;if(n==null||n===!1)return!1;if(o&&n==="clone")return n;if(typeof n=="function")return r(n(a,l,f,c),o)(a,l,f,c);var m=(o?a:l).options.group.name;return n===!0||typeof n=="string"&&n===m||n.join&&n.indexOf(m)>-1}}var i={},s=t.group;(!s||va(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=r(s.pull,!0),i.checkPut=r(s.put),i.revertClone=s.revertClone,t.group=i},D1=function(){!N1&&it&&Ke(it,"display","none")},B1=function(){!N1&&it&&Ke(it,"display","")};Ja&&document.addEventListener("click",function(e){if(Ia)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ia=!1,!1},!0);var ai=function(t){if(Fe){t=t.touches?t.touches[0]:t;var r=Gv(t.clientX,t.clientY);if(r){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=r,i.preventDefault=void 0,i.stopPropagation=void 0,r[Nr]._onDragOver(i)}}},Qv=function(t){Fe&&Fe.parentNode[Nr]._isOutsideThisEl(t.target)};function Ze(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xn({},t),e[Nr]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return P1(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ze.supportPointer!==!1&&"PointerEvent"in window&&!Ss,emptyInsertThreshold:5};Vs.initializePlugins(this,e,r);for(var i in r)!(i in t)&&(t[i]=r[i]);F1(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:Xv,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ft(e,"pointerdown",this._onTapStart):(ft(e,"mousedown",this._onTapStart),ft(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ft(e,"dragover",this),ft(e,"dragenter",this)),Ma.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xn(this,qv())}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ri=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,Fe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,i=this.el,s=this.options,n=s.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=s.filter;if(i3(i),!Fe&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Ss&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ln(l,s.draggable,i,!1),!(l&&l.animated)&&ga!==l)){if(Oi=zr(l),xs=zr(l,s.draggable),typeof c=="function"){if(c.call(this,t,l,this)){Jt({sortable:r,rootEl:f,name:"filter",targetEl:l,toEl:i,fromEl:i}),or("filter",r,{evt:t}),n&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=ln(f,d.trim(),i,!1),d)return Jt({sortable:r,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),or("filter",r,{evt:t}),!0}),c)){n&&t.cancelable&&t.preventDefault();return}s.handle&&!ln(f,s.handle,i,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,r,i){var s=this,n=s.el,o=s.options,a=n.ownerDocument,l;if(i&&!Fe&&i.parentNode===n){var f=Bt(i);if(wt=n,Fe=i,Tt=Fe.parentNode,oi=Fe.nextSibling,ga=i,oa=o.group,Ze.dragged=Fe,si={target:Fe,clientX:(r||t).clientX,clientY:(r||t).clientY},n0=si.clientX-f.left,i0=si.clientY-f.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,Fe.style["will-change"]="all",l=function(){if(or("delayEnded",s,{evt:t}),Ze.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Ju&&s.nativeDraggable&&(Fe.draggable=!0),s._triggerDragStart(t,r),Jt({sortable:s,name:"choose",originalEvent:t}),Mr(Fe,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){I1(Fe,c.trim(),Vo)}),ft(a,"dragover",ai),ft(a,"mousemove",ai),ft(a,"touchmove",ai),ft(a,"mouseup",s._onDrop),ft(a,"touchend",s._onDrop),ft(a,"touchcancel",s._onDrop),Ju&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Fe.draggable=!0),or("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(qs||Tn))){if(Ze.eventCanceled){this._onDrop();return}ft(a,"mouseup",s._disableDelayedDrag),ft(a,"touchend",s._disableDelayedDrag),ft(a,"touchcancel",s._disableDelayedDrag),ft(a,"mousemove",s._delayedDragTouchMoveHandler),ft(a,"touchmove",s._delayedDragTouchMoveHandler),o.supportPointer&&ft(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Fe&&Vo(Fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ct(t,"mouseup",this._disableDelayedDrag),ct(t,"touchend",this._disableDelayedDrag),ct(t,"touchcancel",this._disableDelayedDrag),ct(t,"mousemove",this._delayedDragTouchMoveHandler),ct(t,"touchmove",this._delayedDragTouchMoveHandler),ct(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?ft(document,"pointermove",this._onTouchMove):r?ft(document,"touchmove",this._onTouchMove):ft(document,"mousemove",this._onTouchMove):(ft(Fe,"dragend",this),ft(wt,"dragstart",this._onDragStart));try{document.selection?ya(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(Ii=!1,wt&&Fe){or("dragStarted",this,{evt:r}),this.nativeDraggable&&ft(document,"dragover",Qv);var i=this.options;!t&&Mr(Fe,i.dragClass,!1),Mr(Fe,i.ghostClass,!0),Ze.active=this,t&&this._appendGhost(),Jt({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Wr){this._lastX=Wr.clientX,this._lastY=Wr.clientY,D1();for(var t=document.elementFromPoint(Wr.clientX,Wr.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Wr.clientX,Wr.clientY),t!==r);)r=t;if(Fe.parentNode[Nr]._isOutsideThisEl(t),r)do{if(r[Nr]){var i=void 0;if(i=r[Nr]._onDragOver({clientX:Wr.clientX,clientY:Wr.clientY,target:t,rootEl:r}),i&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);B1()}},_onTouchMove:function(t){if(si){var r=this.options,i=r.fallbackTolerance,s=r.fallbackOffset,n=t.touches?t.touches[0]:t,o=it&&$i(it,!0),a=it&&o&&o.a,l=it&&o&&o.d,f=ca&&Gt&&r0(Gt),c=(n.clientX-si.clientX+s.x)/(a||1)+(f?f[0]-qo[0]:0)/(a||1),d=(n.clientY-si.clientY+s.y)/(l||1)+(f?f[1]-qo[1]:0)/(l||1);if(!Ze.active&&!Ii){if(i&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(it){o?(o.e+=c-(Ho||0),o.f+=d-(zo||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var m="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Ke(it,"webkitTransform",m),Ke(it,"mozTransform",m),Ke(it,"msTransform",m),Ke(it,"transform",m),Ho=c,zo=d,Wr=n}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!it){var t=this.options.fallbackOnBody?document.body:wt,r=Bt(Fe,!0,ca,!0,t),i=this.options;if(ca){for(Gt=t;Ke(Gt,"position")==="static"&&Ke(Gt,"transform")==="none"&&Gt!==document;)Gt=Gt.parentNode;Gt!==document.body&&Gt!==document.documentElement?(Gt===document&&(Gt=hn()),r.top+=Gt.scrollTop,r.left+=Gt.scrollLeft):Gt=hn(),qo=r0(Gt)}it=Fe.cloneNode(!0),Mr(it,i.ghostClass,!1),Mr(it,i.fallbackClass,!0),Mr(it,i.dragClass,!0),Ke(it,"transition",""),Ke(it,"transform",""),Ke(it,"box-sizing","border-box"),Ke(it,"margin",0),Ke(it,"top",r.top),Ke(it,"left",r.left),Ke(it,"width",r.width),Ke(it,"height",r.height),Ke(it,"opacity","0.8"),Ke(it,"position",ca?"absolute":"fixed"),Ke(it,"zIndex","100000"),Ke(it,"pointerEvents","none"),Ze.ghost=it,t.appendChild(it),Ke(it,"transform-origin",n0/parseInt(it.style.width)*100+"% "+i0/parseInt(it.style.height)*100+"%")}},_onDragStart:function(t,r){var i=this,s=t.dataTransfer,n=i.options;if(or("dragStart",this,{evt:t}),Ze.eventCanceled){this._onDrop();return}or("setupClone",this),Ze.eventCanceled||(Rt=L1(Fe),Rt.draggable=!1,Rt.style["will-change"]="",this._hideClone(),Mr(Rt,this.options.chosenClass,!1),Ze.clone=Rt),i.cloneId=ya(function(){or("clone",i),!Ze.eventCanceled&&(i.options.removeCloneOnHide||wt.insertBefore(Rt,Fe),i._hideClone(),Jt({sortable:i,name:"clone"}))}),!r&&Mr(Fe,n.dragClass,!0),r?(Ia=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ct(document,"mouseup",i._onDrop),ct(document,"touchend",i._onDrop),ct(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",n.setData&&n.setData.call(i,s,Fe)),ft(document,"drop",i),Ke(Fe,"transform","translateZ(0)")),Ii=!0,i._dragStartId=ya(i._dragStarted.bind(i,r,t)),ft(document,"selectstart",i),ms=!0,Ss&&Ke(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,i=t.target,s,n,o,a=this.options,l=a.group,f=Ze.active,c=oa===l,d=a.sort,m=Ut||f,b,A=this,E=!1;if(dl)return;function R(K,Z){or(K,A,_n({evt:t,isOwner:c,axis:b?"vertical":"horizontal",revert:o,dragRect:s,targetRect:n,canSort:d,fromSortable:m,target:i,completed:v,onMove:function(z,y){return ua(wt,r,Fe,s,z,Bt(z),t,y)},changed:S},Z))}function p(){R("dragOverAnimationCapture"),A.captureAnimationState(),A!==m&&m.captureAnimationState()}function v(K){return R("dragOverCompleted",{insertion:K}),K&&(c?f._hideClone():f._showClone(A),A!==m&&(Mr(Fe,Ut?Ut.options.ghostClass:f.options.ghostClass,!1),Mr(Fe,a.ghostClass,!0)),Ut!==A&&A!==Ze.active?Ut=A:A===Ze.active&&Ut&&(Ut=null),m===A&&(A._ignoreWhileAnimating=i),A.animateAll(function(){R("dragOverAnimationComplete"),A._ignoreWhileAnimating=null}),A!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===Fe&&!Fe.animated||i===r&&!i.animated)&&(Ri=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(Fe.parentNode[Nr]._isOutsideThisEl(t.target),!K&&ai(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),E=!0}function S(){Or=zr(Fe),Pn=zr(Fe,a.draggable),Jt({sortable:A,name:"change",toEl:r,newIndex:Or,newDraggableIndex:Pn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=ln(i,a.draggable,r,!0),R("dragOver"),Ze.eventCanceled)return E;if(Fe.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||A._ignoreWhileAnimating===i)return v(!1);if(Ia=!1,f&&!a.disabled&&(c?d||(o=Tt!==wt):Ut===this||(this.lastPutMode=oa.checkPull(this,f,Fe,t))&&l.checkPut(this,f,Fe,t))){if(b=this._getDirection(t,i)==="vertical",s=Bt(Fe),R("dragOverValid"),Ze.eventCanceled)return E;if(o)return Tt=wt,p(),this._hideClone(),R("revert"),Ze.eventCanceled||(oi?wt.insertBefore(Fe,oi):wt.appendChild(Fe)),v(!0);var x=sc(r,a.draggable);if(!x||e3(t,b,this)&&!x.animated){if(x===Fe)return v(!1);if(x&&r===t.target&&(i=x),i&&(n=Bt(i)),ua(wt,r,Fe,s,i,n,t,!!i)!==!1)return p(),r.appendChild(Fe),Tt=r,S(),v(!0)}else if(x&&Jv(t,b,this)){var _=Wi(r,0,a,!0);if(_===Fe)return v(!1);if(i=_,n=Bt(i),ua(wt,r,Fe,s,i,n,t,!1)!==!1)return p(),r.insertBefore(Fe,_),Tt=r,S(),v(!0)}else if(i.parentNode===r){n=Bt(i);var C=0,O,N=Fe.parentNode!==r,k=!Yv(Fe.animated&&Fe.toRect||s,i.animated&&i.toRect||n,b),B=b?"top":"left",te=t0(i,"top","top")||t0(Fe,"top","top"),F=te?te.scrollTop:void 0;Ri!==i&&(O=n[B],Ts=!1,la=!k&&a.invertSwap||N),C=t3(t,i,n,b,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,la,Ri===i);var T;if(C!==0){var h=zr(Fe);do h-=C,T=Tt.children[h];while(T&&(Ke(T,"display")==="none"||T===it))}if(C===0||T===i)return v(!1);Ri=i,As=C;var H=i.nextElementSibling,Q=!1;Q=C===1;var W=ua(wt,r,Fe,s,i,n,t,Q);if(W!==!1)return(W===1||W===-1)&&(Q=W===1),dl=!0,setTimeout(Zv,30),p(),Q&&!H?r.appendChild(Fe):i.parentNode.insertBefore(Fe,Q?H:i),te&&O1(te,0,F-te.scrollTop),Tt=Fe.parentNode,O!==void 0&&!la&&(ba=Math.abs(O-Bt(i)[B])),S(),v(!0)}if(r.contains(Fe))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ct(document,"mousemove",this._onTouchMove),ct(document,"touchmove",this._onTouchMove),ct(document,"pointermove",this._onTouchMove),ct(document,"dragover",ai),ct(document,"mousemove",ai),ct(document,"touchmove",ai)},_offUpEvents:function(){var t=this.el.ownerDocument;ct(t,"mouseup",this._onDrop),ct(t,"touchend",this._onDrop),ct(t,"pointerup",this._onDrop),ct(t,"touchcancel",this._onDrop),ct(document,"selectstart",this)},_onDrop:function(t){var r=this.el,i=this.options;if(Or=zr(Fe),Pn=zr(Fe,i.draggable),or("drop",this,{evt:t}),Tt=Fe&&Fe.parentNode,Or=zr(Fe),Pn=zr(Fe,i.draggable),Ze.eventCanceled){this._nulling();return}Ii=!1,la=!1,Ts=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_l(this.cloneId),_l(this._dragStartId),this.nativeDraggable&&(ct(document,"drop",this),ct(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ss&&Ke(document.body,"user-select",""),Ke(Fe,"transform",""),t&&(ms&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),it&&it.parentNode&&it.parentNode.removeChild(it),(wt===Tt||Ut&&Ut.lastPutMode!=="clone")&&Rt&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),Fe&&(this.nativeDraggable&&ct(Fe,"dragend",this),Vo(Fe),Fe.style["will-change"]="",ms&&!Ii&&Mr(Fe,Ut?Ut.options.ghostClass:this.options.ghostClass,!1),Mr(Fe,this.options.chosenClass,!1),Jt({sortable:this,name:"unchoose",toEl:Tt,newIndex:null,newDraggableIndex:null,originalEvent:t}),wt!==Tt?(Or>=0&&(Jt({rootEl:Tt,name:"add",toEl:Tt,fromEl:wt,originalEvent:t}),Jt({sortable:this,name:"remove",toEl:Tt,originalEvent:t}),Jt({rootEl:Tt,name:"sort",toEl:Tt,fromEl:wt,originalEvent:t}),Jt({sortable:this,name:"sort",toEl:Tt,originalEvent:t})),Ut&&Ut.save()):Or!==Oi&&Or>=0&&(Jt({sortable:this,name:"update",toEl:Tt,originalEvent:t}),Jt({sortable:this,name:"sort",toEl:Tt,originalEvent:t})),Ze.active&&((Or==null||Or===-1)&&(Or=Oi,Pn=xs),Jt({sortable:this,name:"end",toEl:Tt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){or("nulling",this),wt=Fe=Tt=it=oi=Rt=ga=Fn=si=Wr=ms=Or=Pn=Oi=xs=Ri=As=Ut=oa=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,Oa.forEach(function(t){t.checked=!0}),Oa.length=Ho=zo=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Fe&&(this._onDragOver(t),Kv(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,i=this.el.children,s=0,n=i.length,o=this.options;s<n;s++)r=i[s],ln(r,o.draggable,this.el,!1)&&t.push(r.getAttribute(o.dataIdAttr)||n3(r));return t},sort:function(t,r){var i={},s=this.el;this.toArray().forEach(function(n,o){var a=s.children[o];ln(a,this.options.draggable,s,!1)&&(i[n]=a)},this),r&&this.captureAnimationState(),t.forEach(function(n){i[n]&&(s.removeChild(i[n]),s.appendChild(i[n]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return ln(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var i=this.options;if(r===void 0)return i[t];var s=Vs.modifyOption(this,t,r);typeof s<"u"?i[t]=s:i[t]=r,t==="group"&&F1(i)},destroy:function(){or("destroy",this);var t=this.el;t[Nr]=null,ct(t,"mousedown",this._onTapStart),ct(t,"touchstart",this._onTapStart),ct(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ct(t,"dragover",this),ct(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ma.splice(Ma.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Fn){if(or("hideClone",this),Ze.eventCanceled)return;Ke(Rt,"display","none"),this.options.removeCloneOnHide&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),Fn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Fn){if(or("showClone",this),Ze.eventCanceled)return;Fe.parentNode==wt&&!this.options.group.revertClone?wt.insertBefore(Rt,Fe):oi?wt.insertBefore(Rt,oi):wt.appendChild(Rt),this.options.group.revertClone&&this.animate(Fe,Rt),Ke(Rt,"display",""),Fn=!1}}};function Kv(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ua(e,t,r,i,s,n,o,a){var l,f=e[Nr],c=f.options.onMove,d;return window.CustomEvent&&!Tn&&!qs?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=r,l.draggedRect=i,l.related=s||t,l.relatedRect=n||Bt(t),l.willInsertAfter=a,l.originalEvent=o,e.dispatchEvent(l),c&&(d=c.call(f,l,o)),d}function Vo(e){e.draggable=!1}function Zv(){dl=!1}function Jv(e,t,r){var i=Bt(Wi(r.el,0,r.options,!0)),s=10;return t?e.clientX<i.left-s||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-s||e.clientY<i.bottom&&e.clientX<i.left}function e3(e,t,r){var i=Bt(sc(r.el,r.options.draggable)),s=10;return t?e.clientX>i.right+s||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+s}function t3(e,t,r,i,s,n,o,a){var l=i?e.clientY:e.clientX,f=i?r.height:r.width,c=i?r.top:r.left,d=i?r.bottom:r.right,m=!1;if(!o){if(a&&ba<f*s){if(!Ts&&(As===1?l>c+f*n/2:l<d-f*n/2)&&(Ts=!0),Ts)m=!0;else if(As===1?l<c+ba:l>d-ba)return-As}else if(l>c+f*(1-s)/2&&l<d-f*(1-s)/2)return r3(t)}return m=m||o,m&&(l<c+f*n/2||l>d-f*n/2)?l>c+f/2?1:-1:0}function r3(e){return zr(Fe)<zr(e)?1:-1}function n3(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function i3(e){Oa.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var i=t[r];i.checked&&Oa.push(i)}}function ya(e){return setTimeout(e,0)}function _l(e){return clearTimeout(e)}Ja&&ft(document,"touchmove",function(e){(Ze.active||Ii)&&e.cancelable&&e.preventDefault()});Ze.utils={on:ft,off:ct,css:Ke,find:I1,is:function(t,r){return!!ln(t,r,t,!1)},extend:Hv,throttle:M1,closest:ln,toggleClass:Mr,clone:L1,index:zr,nextTick:ya,cancelNextTick:_l,detectDirection:P1,getChild:Wi};Ze.get=function(e){return e[Nr]};Ze.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Ze.utils=_n(_n({},Ze.utils),i.utils)),Vs.mount(i)})};Ze.create=function(e,t){return new Ze(e,t)};Ze.version=Fv;var Nt=[],ps,ml,pl=!1,Uo,jo,La,vs;function s3(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var i=r.originalEvent;this.sortable.nativeDraggable?ft(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ft(document,"pointermove",this._handleFallbackAutoScroll):i.touches?ft(document,"touchmove",this._handleFallbackAutoScroll):ft(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var i=r.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?ct(document,"dragover",this._handleAutoScroll):(ct(document,"pointermove",this._handleFallbackAutoScroll),ct(document,"touchmove",this._handleFallbackAutoScroll),ct(document,"mousemove",this._handleFallbackAutoScroll)),a0(),Ea(),zv()},nulling:function(){La=ml=ps=pl=vs=Uo=jo=null,Nt.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,i){var s=this,n=(r.touches?r.touches[0]:r).clientX,o=(r.touches?r.touches[0]:r).clientY,a=document.elementFromPoint(n,o);if(La=r,i||this.options.forceAutoScrollFallback||qs||Tn||Ss){Wo(r,this.options,a,i);var l=$n(a,!0);pl&&(!vs||n!==Uo||o!==jo)&&(vs&&a0(),vs=setInterval(function(){var f=$n(document.elementFromPoint(n,o),!0);f!==l&&(l=f,Ea()),Wo(r,s.options,f,i)},10),Uo=n,jo=o)}else{if(!this.options.bubbleScroll||$n(a,!0)===hn()){Ea();return}Wo(r,this.options,$n(a,!1),!1)}}},xn(e,{pluginName:"scroll",initializeByDefault:!0})}function Ea(){Nt.forEach(function(e){clearInterval(e.pid)}),Nt=[]}function a0(){clearInterval(vs)}var Wo=M1(function(e,t,r,i){if(t.scroll){var s=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=hn(),f=!1,c;ml!==r&&(ml=r,Ea(),ps=t.scroll,c=t.scrollFn,ps===!0&&(ps=$n(r,!0)));var d=0,m=ps;do{var b=m,A=Bt(b),E=A.top,R=A.bottom,p=A.left,v=A.right,S=A.width,x=A.height,_=void 0,C=void 0,O=b.scrollWidth,N=b.scrollHeight,k=Ke(b),B=b.scrollLeft,te=b.scrollTop;b===l?(_=S<O&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),C=x<N&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(_=S<O&&(k.overflowX==="auto"||k.overflowX==="scroll"),C=x<N&&(k.overflowY==="auto"||k.overflowY==="scroll"));var F=_&&(Math.abs(v-s)<=o&&B+S<O)-(Math.abs(p-s)<=o&&!!B),T=C&&(Math.abs(R-n)<=o&&te+x<N)-(Math.abs(E-n)<=o&&!!te);if(!Nt[d])for(var h=0;h<=d;h++)Nt[h]||(Nt[h]={});(Nt[d].vx!=F||Nt[d].vy!=T||Nt[d].el!==b)&&(Nt[d].el=b,Nt[d].vx=F,Nt[d].vy=T,clearInterval(Nt[d].pid),(F!=0||T!=0)&&(f=!0,Nt[d].pid=setInterval((function(){i&&this.layer===0&&Ze.active._onTouchMove(La);var H=Nt[this.layer].vy?Nt[this.layer].vy*a:0,Q=Nt[this.layer].vx?Nt[this.layer].vx*a:0;typeof c=="function"&&c.call(Ze.dragged.parentNode[Nr],Q,H,e,La,Nt[this.layer].el)!=="continue"||O1(Nt[this.layer].el,Q,H)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&m!==l&&(m=$n(m,!1)));pl=f}},30),$1=function(t){var r=t.originalEvent,i=t.putSortable,s=t.dragEl,n=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(r){var f=i||n;a();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,d=document.elementFromPoint(c.clientX,c.clientY);l(),f&&!f.el.contains(d)&&(o("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function ac(){}ac.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=Wi(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(r,s):this.sortable.el.appendChild(r),this.sortable.animateAll(),i&&i.animateAll()},drop:$1};xn(ac,{pluginName:"revertOnSpill"});function oc(){}oc.prototype={onSpill:function(t){var r=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),s.animateAll()},drop:$1};xn(oc,{pluginName:"removeOnSpill"});Ze.mount(new s3);Ze.mount(oc,ac);function a3(){return typeof window<"u"?window.console:global.console}const o3=a3();function l3(e){const t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}const c3=/-(\w)/g,o0=l3(e=>e.replace(c3,(t,r)=>r?r.toUpperCase():""));function Xo(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function l0(e,t,r){const i=r===0?e.children[0]:e.children[r-1].nextSibling;e.insertBefore(t,i)}function u3(e,t){return Object.values(e).indexOf(t)}function f3(e,t,r,i){if(!e)return[];const s=Object.values(e),n=t.length-i;return[...t].map((a,l)=>l>=n?s.length:s.indexOf(a))}function H1(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function h3(e){return t=>{this.realList!==null&&this["onDrag"+e](t),H1.call(this,e,t)}}function d3(e){return["transition-group","TransitionGroup"].includes(e)}function _3(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?d3(t.name):!1}function m3(e,t){return t?{...t.props,...t.attrs}:e}const vl=["Start","Add","Remove","Update","End"],gl=["Choose","Unchoose","Sort","Filter","Clone"],p3=["Move",...vl,...gl].map(e=>"on"+e);let Yo=null;const v3={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},g3=Zi({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...vl.map(e=>e.toLowerCase()),...gl.map(e=>e.toLowerCase())],props:v3,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=m3(this.$attrs,this.componentData);return e?(this.transitionMode=_3(e),Vi(this.getTag(),t,e)):Vi(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&o3.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};vl.forEach(s=>{e["on"+s]=h3.call(this,s)}),gl.forEach(s=>{e["on"+s]=H1.bind(this,s)});const t=Object.keys(this.$attrs).reduce((s,n)=>(s[o0(n)]=this.$attrs[n],s),{}),r=Object.assign({},t,e,{onMove:(s,n)=>this.onDragMove(s,n)});!("draggable"in r)&&(r.draggable=">*");const i=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new Ze(i,r),i.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Vl(this.component):this.tag},updateOptions(e){for(var t in e){const r=o0(t);p3.indexOf(r)===-1&&this._sortable.option(r,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=f3(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=u3(this.getChildrenNodes()||[],e);if(t===-1)return null;const r=this.realList[t];return{index:t,element:r}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const r=i=>i.splice(t,0,i.splice(e,1)[0]);this.alterList(r)},getVmIndex(e){const t=this.visibleIndexes,r=t.length;return e>r-1?r:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const r=this.getComponent();r.children=[],r.kept=void 0},onDragStart(e){this.computeIndexes(),this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Yo=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;Xo(e.item);const r=this.getVmIndex(e.newIndex);this.spliceList(r,0,t),this.computeIndexes();const i={element:t,newIndex:r};this.emitChanges({added:i})},onDragRemove(e){if(l0(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){Xo(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const r={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:r})},onDragUpdate(e){Xo(e.item),l0(e.from,e.item,e.oldIndex);const t=this.context.index,r=this.getVmIndex(e.newIndex);this.updatePosition(t,r);const i={element:this.context.element,oldIndex:t,newIndex:r};this.emitChanges({moved:i})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const r=this.move;if(!r||!this.realList)return!0;const i=this.getRelatedContextFromMoveEvent(e),s=this.context,n=this.computeFutureIndex(i,e);Object.assign(s,{futureIndex:n});const o=Object.assign({},e,{relatedContext:i,draggedContext:s});return r(o,t)},onDragEnd(){this.computeIndexes(),Yo=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const r=this.getTrargetedComponent(e);if(!r)return{component:r};const i=r.realList,s={list:i,component:r};if(e!==t&&i&&r.getUnderlyingVm){const n=r.getUnderlyingVm(t);if(n)return Object.assign(n,s)}return s},computeFutureIndex(e,t){const r=[...t.to.children].filter(o=>o.style.display!=="none");if(r.length===0)return 0;const i=r.indexOf(t.related),s=e.component.getVmIndex(i);return r.indexOf(Yo)!==-1||!t.willInsertAfter?s:s+1}}});const b3={name:"Editeur-Digiflashcards",components:{draggable:g3},data(){return{modale:"",menu:"",admin:!1,id:"",question:"",questions:["motPrefere","filmPrefere","chansonPreferee","prenomMere","prenomPere","nomRue","nomEmployeur","nomAnimal"],reponse:"",nom:"",options:{exercices:!0,quiz:"definition",ecrire:"definition",casse:!1},cartes:[{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}},{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}},{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}}],carteIndex:"",carteType:"",nouveaunom:"",nouvellequestion:"",nouvellereponse:"",codeqr:"",position:0,chargement:"",progression:0,chrono:"",vue:"apprenant",navigationCartes:0,recto:!0,transition:!1,tailleFonte:28,fitty:"",onglet:"cartes",navigationQuiz:0,exercicesQuiz:[],navigationEcrire:0,exercicesEcrire:[],chargementImage:!1,image:"",audio:"",blob:"",transcodage:!1,mediaRecorder:"",flux:[],contexte:"",lecture:!1,lectureQuiz:"",intervalle:"",enregistrement:!1,dureeEnregistrement:"00 : 00",titreAjouterAudio:"",pleinEcran:!1,cartesInversees:!1,copieCartes:[],parametreImport:"ajouter",digidrive:!1,boutonRetour:!1,cartesMemorisees:[],integration:!1,impressionPDF:!1,fitties:""}},watch:{modale:function(e){e!==""&&(this.menu="")},recto:function(){this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1)},cartes:{handler(e){if(this.vue==="editeur"){for(let t=0;t<e.length;t++)if(!e[t].hasOwnProperty("id")){const r="carte-"+new Date().getTime()+Math.random().toString(16).slice(12);e[t].id=r}this.cartes=e}},deep:!0}},created(){this.id=this.$route.params.id;const e=this.$route.query.lang;this.$parent.$parent.langues.includes(e)===!0&&(this.$parent.$parent.langue=e,localStorage.setItem("digiflashcards_lang",e));const t=this.$route.query.vue;t&&t==="apprenant"&&(this.vue="apprenant"),window.location.href.includes("?print-pdf")&&(this.vue="apprenant",this.impressionPDF=!0);const r=this.$route.query.q,i=this.$route.query.r;if(r&&r!==""&&i&&i!==""){const n=new XMLHttpRequest;n.onload=(function(){n.readyState===n.DONE&&n.status===200&&n.responseText==="serie_debloquee"&&(this.admin=!0,this.vue="editeur",this.digidrive=!0),window.history.replaceState({},document.title,window.location.href.split("?")[0])}).bind(this),n.open("POST",this.$parent.$parent.hote+"inc/ouvrir_serie.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("serie="+this.id+"&question="+window.atob(r)+"&reponse="+window.atob(i)+"&type=api")}const s=new XMLHttpRequest;s.onload=(function(){if(s.readyState===s.DONE&&s.status===200){if(s.responseText==="contenu_inexistant"||this.verifierJSON(s.responseText)===!1)return this.$router.push("/"),!1;const n=JSON.parse(s.responseText);if(!n.nom||n.nom==="")return this.$router.push("/"),!1;if(this.admin=n.admin,this.admin&&!t&&!this.impressionPDF&&(this.vue="editeur"),this.nom=n.nom,n.donnees!==""&&this.verifierJSON(n.donnees)===!0){const o=JSON.parse(n.donnees);this.cartes=o.cartes,o.hasOwnProperty("options")&&(this.options=o.options),this.options.hasOwnProperty("quiz")||(this.options.quiz="definition"),this.options.hasOwnProperty("ecrire")||(this.options.ecrire="definition"),this.verifierCartes()}if(this.digidrive=!!n.digidrive,this.vue==="apprenant"){if(this.cartes=this.cartes.filter((function(o){return(o.recto.texte!==""||o.recto.image!==""||o.recto.audio!=="")&&(o.verso.texte!==""||o.verso.image!==""||o.verso.audio!=="")}).bind(this)),this.cartes.length>0){const o=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_0 .texte",{minSize:o,maxSize:100,multiLine:!0}),window.MathJax.typeset()}).bind(this))}if(this.cartes.forEach(function(o){o.recto.texte!==""&&(o.recto.texte=o.recto.texte.replace(/(?:\r\n|\r|\n)/g,"<br>")),o.verso.texte!==""&&(o.verso.texte=o.verso.texte.replace(/(?:\r\n|\r|\n)/g,"<br>"))}),localStorage.getItem("digiflashcards_cartes_memorisees_"+this.id)&&(this.cartesMemorisees=JSON.parse(localStorage.getItem("digiflashcards_cartes_memorisees_"+this.id)),this.cartesMemorisees.length>0)){const o=JSON.parse(JSON.stringify(this.cartes)),a=[];o.forEach((function(l,f){l.hasOwnProperty("id")&&this.cartesMemorisees.includes(l.id)&&(a.push(l),o.splice(f,1))}).bind(this)),o.push(...a),this.cartes=o}localStorage.getItem("digiflashcards_quiz_"+this.id)?this.exercicesQuiz=JSON.parse(localStorage.getItem("digiflashcards_quiz_"+this.id)):this.cartes.length>4&&this.options.exercices===!0&&this.definirExercicesQuiz(),localStorage.getItem("digiflashcards_ecrire_"+this.id)?this.exercicesEcrire=JSON.parse(localStorage.getItem("digiflashcards_ecrire_"+this.id)):this.cartes.length>4&&this.options.exercices===!0&&this.definirExercicesEcrire(),document.querySelector("#app").classList.add("apprenant"),this.impressionPDF===!0&&this.definirTailleFonte()}else this.$nextTick((function(){document.querySelector("#page").addEventListener("dragover",function(o){o.preventDefault(),o.stopPropagation()},!1),document.querySelector("#page").addEventListener("dragcenter",function(o){o.preventDefault(),o.stopPropagation()},!1),document.querySelector("#page").addEventListener("drop",function(o){o.preventDefault(),o.stopPropagation()},!1),document.querySelector("#cartes").addEventListener("dragover",function(o){o.preventDefault(),o.stopPropagation()},!1),document.querySelector("#cartes").addEventListener("dragcenter",function(o){o.preventDefault(),o.stopPropagation()},!1),document.querySelector("#cartes").addEventListener("drop",(function(o){if(o.preventDefault(),o.stopPropagation(),o.dataTransfer.files&&o.dataTransfer.files[0]&&(o.dataTransfer.files[0].type.substring(0,5)==="image"||o.dataTransfer.files[0].type.substring(0,5)==="audio")&&o.target.closest(".conteneur")!==null&&(o.target.closest(".conteneur").classList.contains("recto")||o.target.closest(".conteneur").classList.contains("verso"))){let a;o.target.closest(".conteneur").classList.contains("recto")?a="recto":o.target.closest(".conteneur").classList.contains("verso")&&(a="verso");const l=o.target.closest(".carte").id.substring(5);o.dataTransfer.files[0].type.substring(0,5)==="image"&&l!==null&&a!==null?this.televerserImage(o.dataTransfer.files[0],l,a):o.dataTransfer.files[0].type.substring(0,5)==="audio"&&l!==null&&a!==null&&this.televerserAudio(o.dataTransfer.files[0],l,a)}}).bind(this),!1)}).bind(this));setTimeout((function(){document.title=this.nom+" - Digiflashcards by La Digitale",this.$parent.$parent.chargement=!1}).bind(this),300)}else this.$parent.$parent.chargement=!1,this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),s.open("POST",this.$parent.$parent.hote+"inc/recuperer_serie.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send("id="+this.id)},mounted(){const e=navigator.language.substring(0,2);this.$parent.$parent.langues.includes(this.$route.query.lang)===!1&&this.$parent.$parent.langues.includes(e)===!0&&(this.$parent.$parent.langue=e),localStorage.getItem("digiflashcards_lang")&&(this.$parent.$parent.langue=localStorage.getItem("digiflashcards_lang")),this.$root.$i18n.locale=this.$parent.$parent.langue,document.getElementsByTagName("html")[0].setAttribute("lang",this.$parent.$parent.langue),this.definirTailleFonte();const t=this.definirRacine()+"#/f/"+this.id;new _u("#copier-lien .lien",{text:function(){return t}}).on("success",(function(){this.$parent.$parent.notification=this.$t("lienCopie")}).bind(this));const i='<iframe src="'+t+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>';new _u("#copier-iframe span",{text:function(){return i}}).on("success",(function(){this.$parent.$parent.notification=this.$t("codeCopie")}).bind(this)),Si.fullscreenEnabled?Si.addEventListener("fullscreenchange",(function(){this.$nextTick((function(){Si.fullscreenElement!==null?this.pleinEcran=!0:this.pleinEcran=!1}).bind(this))}).bind(this)):document.querySelector("#page").classList.add("sans-plein-ecran"),document.addEventListener("click",(function(n){const o=document.querySelector("#conteneur-partage"),a=document.querySelector("#menu-partager");o&&a&&n.target!==o&&n.target!==a&&!o.contains(n.target)&&!a.contains(n.target)&&(this.menu="")}).bind(this)),window!==window.parent&&(this.integration=!0,document.querySelector("#app").classList.add("integration")),this.impressionPDF===!0&&(document.getElementsByTagName("html")[0].style.height="auto",document.querySelector("#app").classList.add("pdf")),window.addEventListener("resize",(function(){this.menu==="partager"&&(this.menu=""),this.definirTailleFonte(),this.enregistrement===!0&&this.$nextTick(function(){const n=document.querySelector("#enregistrement").offsetWidth,o=document.querySelector("#visualisation");o.width=n})}).bind(this)),window.addEventListener("keydown",this.gererClavier,!1),document.body.addEventListener("scroll",this.gererScroll,!1)},beforeUnmount(){window.removeEventListener("keydown",this.gererClavier,!1)},methods:{definirRacine(){return window.location.href.split("#")[0]},verifierJSON(e){try{return JSON.parse(e),!0}catch{return!1}},definirOnglet(e){if(this.onglet!==e&&(this.onglet=e),e==="cartes"){const t=this.tailleFonte;this.fitty!==""&&(this.fitty[0]&&this.fitty[0].unsubscribe(),this.fitty[1]&&this.fitty[1].unsubscribe()),this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:t,maxSize:100,multiLine:!0}),window.MathJax.typeset()}).bind(this))}else e==="ecrire"?this.$nextTick((function(){document.querySelector("#champ_"+this.navigationEcrire).focus(),window.MathJax.typeset()}).bind(this)):this.$nextTick((function(){window.MathJax.typeset()}).bind(this))},modifierOptions(e,t){this.options[e]=t;const r=new XMLHttpRequest;r.onload=(function(){r.readyState===r.DONE&&r.status===200?r.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):r.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):r.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee")):this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),r.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),r.setRequestHeader("Content-type","application/json");const i={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};r.send(JSON.stringify(i)),e==="ecrire"&&(localStorage.getItem("digiflashcards_ecrire_"+this.id)&&localStorage.removeItem("digiflashcards_ecrire_"+this.id),this.cartes.length>4&&this.definirExercicesEcrire())},definirTailleFonte(){this.vue==="apprenant"&&!this.impressionPDF?this.$nextTick((function(){document.body.clientWidth<360?this.tailleFonte=18:document.body.clientWidth<400?this.tailleFonte=20:document.body.clientWidth<768?this.tailleFonte=24:this.tailleFonte=28;const e=this.tailleFonte;this.fitty!==""&&(this.fitty[0]&&this.fitty[0].unsubscribe(),this.fitty[1]&&this.fitty[1].unsubscribe()),this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:e,maxSize:100,multiLine:!0})}).bind(this))}).bind(this)):this.vue==="apprenant"&&this.impressionPDF&&this.$nextTick((function(){document.body.clientWidth<360?this.tailleFonte=18:document.body.clientWidth<400?this.tailleFonte=20:document.body.clientWidth<768?this.tailleFonte=24:this.tailleFonte=28;const e=this.tailleFonte;this.fitty!==""&&(this.fitty[0]&&this.fitty[0].unsubscribe(),this.fitty[1]&&this.fitty[1].unsubscribe()),this.fitties!==""&&this.fitties.forEach(function(t){t.unsubscribe()}),this.$nextTick((function(){this.fitties=pn("#cartes .texte",{minSize:e,maxSize:70,multiLine:!0}),this.fitties.forEach(function(t){t.fit()})}).bind(this))}).bind(this))},definirLienMedia(e,t){return this.verifierLien(e)===!1?this.definirRacine()+"fichiers/"+this.id+"/"+t+e:e},modifierLangue(e){this.$root.$i18n.locale=e,this.$parent.$parent.langue=e,document.getElementsByTagName("html")[0].setAttribute("lang",e),this.$parent.$parent.notification=this.$t("langueModifiee"),localStorage.setItem("digiflashcards_lang",e)},afficherMenuPartager(){this.menu="partager",this.$nextTick((function(){const e=document.querySelector("#conteneur-partage").getBoundingClientRect(),t=e.width,r=document.querySelector("#menu-partager").getBoundingClientRect().width;this.position=e.left-(r*90/100-t/2)}).bind(this))},afficherCodeQR(){this.modale="code-qr",this.$nextTick((function(){const e=this.definirRacine()+"#/f/"+this.id;this.codeqr=new QRCode("qr",{text:e,width:360,height:360,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}).bind(this))},supprimerDonneesExercices(){localStorage.getItem("digiflashcards_quiz_"+this.id)&&localStorage.removeItem("digiflashcards_quiz_"+this.id),localStorage.getItem("digiflashcards_ecrire_"+this.id)&&localStorage.removeItem("digiflashcards_ecrire_"+this.id)},afficherCartePrecedente(){this.$parent.$parent.chargementTransparent=!0,this.transition=!0,this.navigationCartes>0?this.navigationCartes--:this.navigationCartes=this.cartes.length-1,this.recto=!0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){kn("#cartes",(function(){this.$parent.$parent.chargementTransparent=!1,this.transition=!1;const e=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:e,maxSize:100,multiLine:!0})}).bind(this))}).bind(this))}).bind(this),200)},afficherCarteSuivante(){this.$parent.$parent.chargementTransparent=!0,this.transition=!0,this.navigationCartes<this.cartes.length-1?this.navigationCartes++:this.navigationCartes=0,this.recto=!0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){kn("#cartes",(function(){this.$parent.$parent.chargementTransparent=!1,this.transition=!1;const e=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:e,maxSize:100,multiLine:!0})}).bind(this))}).bind(this))}).bind(this),200)},ajouterCarte(){this.cartes.push({recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}}),this.$nextTick(function(){document.body.scrollTop=document.body.scrollHeight,document.querySelector("#cartes .carte:last-child textarea").focus()})},enregistrerTexte(e,t,r){this.cartes[t][r].texte=e.target.value,this.chrono!==""&&(clearTimeout(this.chrono),this.chrono=""),this.chrono=setTimeout((function(){const i=new XMLHttpRequest;i.onload=(function(){this.chrono="",i.readyState===i.DONE&&i.status===200?i.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):i.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):i.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee")):this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),i.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),i.setRequestHeader("Content-type","application/json");const s={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};i.send(JSON.stringify(s)),this.supprimerDonneesExercices()}).bind(this),1e3)},televerserImage(e,t,r){const i=e.name.substring(e.name.lastIndexOf(".")+1).toLowerCase();if(["jpg","jpeg","png","gif"].includes(i)===!1)return this.$parent.$parent.message=this.$t("erreurFormat"),!1;if(e.size<1024e3){this.modale="",this.chargement="image_"+r+"_"+t;const s=new FormData;s.append("ancienfichier",this.cartes[t][r].image),s.append("serie",this.id),s.append("blob",e);let n=new XMLHttpRequest;n.onload=(function(){if(n.readyState===n.DONE&&n.status===200)if(this.chargement="",this.progression=0,n.responseText==="erreur")this.$parent.$parent.message=this.$t("erreurTeleversement");else{this.cartes[t][r].image=n.responseText,n=new XMLHttpRequest,n.onload=(function(){n.readyState===n.DONE&&n.status===200?n.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):n.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):n.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee")):this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),n.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),n.setRequestHeader("Content-type","application/json");const o={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};n.send(JSON.stringify(o)),this.supprimerDonneesExercices()}else this.chargement="",this.progression=0,this.$parent.$parent.message=this.$t("erreurTeleversement")}).bind(this),n.upload.onprogress=(function(o){if(o.lengthComputable){const a=o.loaded/o.total*100;this.progression=Math.round(a)}}).bind(this),n.open("POST",this.$parent.$parent.hote+"inc/televerser_image.php",!0),n.send(s)}else this.$parent.$parent.message=this.$t("tailleMax",{taille:1})},afficherImage(e,t,r){this.chargementImage=!0,this.carteIndex=e,this.carteType=t,this.image=r,this.modale="image",this.$nextTick((function(){kn("#modale-image .contenu",(function(){this.chargementImage=!1}).bind(this))}).bind(this))},fermerModaleImage(){this.modale="",this.image="",this.carteIndex="",this.carteType="",this.chargementImage=!1},afficherZoomImage(e,t){e.preventDefault(),e.stopPropagation(),this.$parent.$parent.chargement=!0,this.image=t,this.modale="zoom-image",this.$nextTick((function(){kn("#zoom-image",(function(){this.$parent.$parent.chargement=!1}).bind(this))}).bind(this))},fermerModaleZoomImage(){this.modale="",this.image=""},supprimerImage(e,t){this.fermerModaleImage(),this.$parent.$parent.chargement=!0;const r=JSON.parse(JSON.stringify(this.cartes));let i="";r[e][t].image!==""&&this.verifierLien(r[e][t].image)===!1&&(i=r[e][t].image),r[e][t].image="";const s=new XMLHttpRequest;s.onload=(function(){s.readyState===s.DONE&&s.status===200?(this.$parent.$parent.chargement=!1,s.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):s.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):s.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("actionNonAutorisee"):s.responseText==="serie_modifiee"&&(this.cartes=r)):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),s.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),s.setRequestHeader("Content-type","application/json");const n={serie:this.id,donnees:JSON.stringify({cartes:r,options:this.options}),image:i};s.send(JSON.stringify(n)),this.supprimerDonneesExercices()},televerserAudio(e,t,r){const i=e.name;if(e.name.substring(e.name.lastIndexOf(".")+1).toLowerCase()!=="mp3")return this.$parent.$parent.message=this.$t("erreurFormat"),!1;if(e.size<1024e3){this.chargement="audio_"+r+"_"+t;const n=new FormData;n.append("ancienfichier",this.cartes[t][r].audio),n.append("serie",this.id),n.append("blob",e,i);let o=new XMLHttpRequest;o.onload=(function(){if(o.readyState===o.DONE&&o.status===200)if(this.chargement="",this.progression=0,o.responseText==="erreur")this.$parent.$parent.message=this.$t("erreurTeleversement");else{this.cartes[t][r].audio=o.responseText,o=new XMLHttpRequest,o.onload=(function(){o.readyState===o.DONE&&o.status===200?o.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):o.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):o.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee")):this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),o.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),o.setRequestHeader("Content-type","application/json");const a={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};o.send(JSON.stringify(a)),this.supprimerDonneesExercices()}else this.chargement="",this.progression=0,this.$parent.$parent.message=this.$t("erreurTeleversement")}).bind(this),o.upload.onprogress=(function(a){if(a.lengthComputable){const l=a.loaded/a.total*100;this.progression=Math.round(l)}}).bind(this),o.open("POST",this.$parent.$parent.hote+"inc/televerser_audio.php",!0),o.send(n)}else this.$parent.$parent.message=this.$t("tailleMax",{taille:1})},async ajouterAudio(e,t){let r="";if(this.blob.name){if(this.blob.name.substring(this.blob.name.lastIndexOf(".")+1).toLowerCase()!=="mp3")return this.fermerModaleAjouterAudio(),this.$parent.$parent.message=this.$t("erreurFormat"),!1;r=this.blob.name}else r="enregistrement.mp3";if(this.blob.size<1024e3||r==="enregistrement.mp3"){let i;r==="enregistrement.mp3"?(this.transcodage=!0,i=await this.blobEnMp3()):i=this.blob,this.fermerModaleAjouterAudio(),this.chargement="audio_"+t+"_"+e;const s=new FormData;s.append("ancienfichier",this.cartes[e][t].audio),s.append("serie",this.id),s.append("blob",i,r);let n=new XMLHttpRequest;n.onload=(function(){if(n.readyState===n.DONE&&n.status===200)if(this.chargement="",this.progression=0,n.responseText==="erreur")this.$parent.$parent.message=this.$t("erreurTeleversement");else{this.cartes[e][t].audio=n.responseText,n=new XMLHttpRequest,n.onload=(function(){n.readyState===n.DONE&&n.status===200?n.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):n.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):n.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee")):this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),n.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),n.setRequestHeader("Content-type","application/json");const o={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};n.send(JSON.stringify(o)),this.supprimerDonneesExercices()}else this.chargement="",this.progression=0,this.$parent.$parent.message=this.$t("erreurTeleversement")}).bind(this),n.upload.onprogress=(function(o){if(o.lengthComputable){const a=o.loaded/o.total*100;this.progression=Math.round(a)}}).bind(this),n.open("POST",this.$parent.$parent.hote+"inc/televerser_audio.php",!0),n.send(s)}else this.$parent.$parent.message=this.$t("tailleMax",{taille:1})},blobEnMp3(){return new Promise((function(e){const t=new AudioContext,r=new FileReader;r.onloadend=(function(){const i=r.result;t.decodeAudioData(i,(function(s){e(this.transcoder(s))}).bind(this))}).bind(this),r.readAsArrayBuffer(this.blob)}).bind(this))},selectionnerAudio(e){this.blob=e.target.files[0],this.audio=URL.createObjectURL(e.target.files[0])},enregistrerAudio(){var e;!navigator.mediaDevices||!((e=navigator.mediaDevices)!=null&&e.enumerateDevices)?this.$parent.$parent.message=this.$t("enregistrementNonSupporte"):navigator.mediaDevices.enumerateDevices().then((function(t){var i;let r=!1;for(const s of t)if(s.kind==="audioinput"){r=!0;break}r===!0?(i=navigator.mediaDevices)!=null&&i.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then((function(s){this.titreAjouterAudio=this.$t("enregistrementAudio"),this.mediaRecorder=new MediaRecorder(s),this.mediaRecorder.start(),this.visualiser(s),this.enregistrement=!0;const n=Date.now();this.intervalle=setInterval((function(){const o=Date.now()-n;let a=Math.floor(o/1e3%60),l=Math.floor(o/1e3/60<<0);a<10&&(a="0"+a),l<10&&(l="0"+l),this.dureeEnregistrement=l+" : "+a,this.dureeEnregistrement==="00 : 10"&&this.arreterEnregistrementAudio()}).bind(this),100),this.mediaRecorder.onstop=(function(){this.flux.length>0&&(this.blob=new Blob(this.flux,{type:"audio/wav"}),this.enregistrement=!1,this.audio=URL.createObjectURL(this.blob),this.mediaRecorder="",this.flux=[],this.contexte="",this.titreAjouterAudio=this.$t("ajouterAudio"),this.dureeEnregistrement="00 : 00",this.intervalle!==""&&(clearInterval(this.intervalle),this.intervalle=""))}).bind(this),this.mediaRecorder.ondataavailable=(function(o){this.flux.push(o.data)}).bind(this)}).bind(this)).catch((function(){this.enregistrement=!1,this.mediaRecorder="",this.flux=[],this.contexte="",this.$parent.$parent.message=this.$t("erreurMicro")}).bind(this)):this.$parent.$parent.message=this.$t("enregistrementNonSupporte"):this.$parent.$parent.message=this.$t("aucuneEntreeAudio")}).bind(this))},arreterEnregistrementAudio(){this.mediaRecorder.stop()},visualiser(e){this.contexte||(this.contexte=new AudioContext);const t=this.contexte.createMediaStreamSource(e),r=this.contexte.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,s=new Uint8Array(i);t.connect(r),this.$nextTick(function(){n()});function n(){if(document.querySelector("#visualisation")){const o=document.querySelector("#visualisation"),a=o.getContext("2d"),l=document.querySelector("#enregistrement").offsetWidth,f=o.height;o.width=l,requestAnimationFrame(n),r.getByteTimeDomainData(s),a.fillStyle="#eeeeee",a.fillRect(0,0,l,f),a.lineWidth=2,a.strokeStyle="#000000",a.beginPath();const c=l*1/i;let d=0;for(let m=0;m<i;m++){const A=s[m]/128*f/2;m===0?a.moveTo(d,A):a.lineTo(d,A),d+=c}a.lineTo(o.width,o.height/2),a.stroke()}}},lireAudio(e,t){e.preventDefault(),e.stopPropagation(),this.audio!==""&&this.lecture?(this.audio.pause(),this.lecture=!1):this.audio!==""&&!this.lecture?(this.audio.play(),this.lecture=!0):this.audio===""&&(this.lecture=!0,this.audio=new Audio(t),this.audio.play(),this.audio.onended=(function(){this.lecture=!1,this.audio=""}).bind(this))},afficherAudio(e,t,r){this.carteIndex=e,this.carteType=t,r===""?(this.titreAjouterAudio=this.$t("ajouterAudio"),this.modale="ajouter-audio"):(this.audio=r,this.modale="audio")},fermerModaleAudio(){this.modale="",this.audio="",this.carteIndex="",this.carteType=""},fermerModaleAjouterAudio(){this.modale="",this.audio="",this.blob="",this.enregistrement=!1,this.mediaRecorder="",this.flux=[],this.contexte="",this.titreAjouterAudio=this.$t("ajouterAudio"),this.dureeEnregistrement="00 : 00",this.carteIndex="",this.carteType="",this.intervalle!==""&&(clearInterval(this.intervalle),this.intervalle=""),this.transcodage=!1},supprimerAudio(e,t){this.fermerModaleAudio(),this.$parent.$parent.chargement=!0;const r=JSON.parse(JSON.stringify(this.cartes));let i="";r[e][t].audio!==""&&this.verifierLien(r[e][t].audio)===!1&&(i=r[e][t].audio),r[e][t].audio="";const s=new XMLHttpRequest;s.onload=(function(){s.readyState===s.DONE&&s.status===200?(this.$parent.$parent.chargement=!1,s.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):s.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):s.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("actionNonAutorisee"):s.responseText==="serie_modifiee"&&(this.cartes=r)):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),s.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),s.setRequestHeader("Content-type","application/json");const n={serie:this.id,donnees:JSON.stringify({cartes:r,options:this.options}),audio:i};s.send(JSON.stringify(n)),this.supprimerDonneesExercices()},modifierPositionCarte(){if(this.cartes.length>1){this.$parent.$parent.chargementTransparent=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargementTransparent=!1,e.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):e.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):e.responseText==="non_autorise"&&(this.$parent.$parent.message=this.$t("actionNonAutorisee"))):(this.$parent.$parent.chargementTransparent=!1,this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),e.setRequestHeader("Content-type","application/json");const t={serie:this.id,donnees:JSON.stringify({cartes:this.cartes,options:this.options})};e.send(JSON.stringify(t))}},afficherSupprimerCarte(e){this.cartes.length>2&&(this.carteIndex=e,this.modale="suppression-carte")},fermerModaleSupprimerCarte(){this.modale="",this.carteIndex=""},supprimerCarte(){this.modale="",this.$parent.$parent.chargement=!0;const e=JSON.parse(JSON.stringify(this.cartes)),t=this.carteIndex,r=[];e[t].recto.image!==""&&this.verifierLien(e[t].recto.image)===!1&&(r.push(e[t].recto.image),r.push("vignette_"+e[t].recto.image)),e[t].recto.audio!==""&&this.verifierLien(e[t].recto.audio)===!1&&r.push(e[t].recto.audio),e[t].verso.image!==""&&this.verifierLien(e[t].verso.image)===!1&&(r.push(e[t].verso.image),r.push("vignette_"+e[t].verso.image)),e[t].verso.audio!==""&&this.verifierLien(e[t].verso.audio)===!1&&r.push(e[t].verso.audio),e.splice(this.carteIndex,1);const i=new XMLHttpRequest;i.onload=(function(){i.readyState===i.DONE&&i.status===200?(this.$parent.$parent.chargement=!1,i.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):i.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):i.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("actionNonAutorisee"):i.responseText==="serie_modifiee"&&(this.cartes=e,this.carteIndex="",this.$parent.$parent.notification=this.$t("carteSupprimee"))):(this.$parent.$parent.chargement=!1,this.carteIndex="",this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),i.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),i.setRequestHeader("Content-type","application/json");const s={serie:this.id,donnees:JSON.stringify({cartes:e,options:this.options}),fichiers:JSON.stringify(r)};i.send(JSON.stringify(s)),this.supprimerDonneesExercices()},modifierCartesMemorisees(e){this.$parent.$parent.chargement=!0;let t=!0;if(!this.cartesMemorisees.includes(e))this.cartesMemorisees.push(e);else{const r=this.cartesMemorisees.indexOf(e);this.cartesMemorisees.splice(r,1),t=!1}localStorage.setItem("digiflashcards_cartes_memorisees_"+this.id,JSON.stringify(this.cartesMemorisees)),setTimeout((function(){t===!0?this.$parent.$parent.notification=this.$t("carteMemorisee"):this.$parent.$parent.notification=this.$t("carteNonMemorisee"),this.$parent.$parent.chargement=!1}).bind(this),200)},definirExercicesQuiz(){const e=[];JSON.parse(JSON.stringify(this.cartes)).forEach(function(s){s.recto.hasOwnProperty("texte")&&s.recto.hasOwnProperty("image")&&s.recto.hasOwnProperty("audio")&&s.verso.hasOwnProperty("texte")&&s.verso.hasOwnProperty("image")&&s.verso.hasOwnProperty("audio")&&(s.recto.texte.trim()!==""||s.recto.image.trim()!==""||s.recto.audio.trim()!=="")&&(s.verso.texte.trim()!==""||s.verso.image.trim()!==""||s.verso.audio.trim()!=="")&&e.push(s)});const r=this.melangerEntrees(e),i=[];r.forEach((function(s){let n="",o=[];JSON.parse(JSON.stringify(this.cartes)).forEach(function(c){(c.recto.texte.trim()!==""||c.recto.image.trim()!==""||c.recto.audio.trim()!=="")&&(c.verso.texte.trim()!==""||c.verso.image.trim()!==""||c.verso.audio.trim()!=="")&&o.push(c)}),o=this.melangerEntrees(o),o.forEach(function(c,d){c.recto.texte===s.recto.texte&&c.recto.image===s.recto.image&&c.recto.audio===s.recto.audio?(c.correct=!0,n=d):c.correct=!1,c.reponse=!1,c.repondu=!1});const l=[];for(let c=0;c<=e.length;c++)c!==n&&l.push(c);l.splice(0,3);for(let c=l.length-1;c>=0;c--)o.splice(l[c],1);const f=this.melangerEntrees(o);i.push(f)}).bind(this)),r.length>20?(this.exercicesQuiz=i.slice(0,-(r.length-20)),localStorage.setItem("digiflashcards_quiz_"+this.id,JSON.stringify(i.slice(0,-(r.length-20))))):r.length>4&&(this.exercicesQuiz=i,localStorage.setItem("digiflashcards_quiz_"+this.id,JSON.stringify(i)))},afficherQuestionQuizPrecedente(){this.$parent.$parent.chargementTransparent=!0,this.navigationQuiz>0?this.navigationQuiz--:this.navigationQuiz=this.exercicesQuiz.length-1,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1,this.lectureQuiz=""),setTimeout((function(){kn("#exercices",(function(){this.$parent.$parent.chargementTransparent=!1}).bind(this))}).bind(this),200)},afficherQuestionQuizSuivante(){this.$parent.$parent.chargementTransparent=!0,this.navigationQuiz<this.exercicesQuiz.length-1?this.navigationQuiz++:this.navigationQuiz=0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1,this.lectureQuiz=""),setTimeout((function(){kn("#exercices",(function(){this.$parent.$parent.chargementTransparent=!1}).bind(this))}).bind(this),200)},lireAudioQuiz(e,t,r){e.preventDefault(),e.stopPropagation(),this.audio!==""&&this.lectureQuiz===t&&this.audio.paused?(this.audio.play(),this.lectureQuiz=t):this.audio!==""&&this.lectureQuiz===t&&!this.audio.paused?(this.audio.pause(),this.lectureQuiz=""):(this.lectureQuiz=t,this.audio=new Audio(r),this.audio.play(),this.audio.onended=(function(){this.lectureQuiz="",this.audio=""}).bind(this))},verifierQuiz(){const e=document.querySelector("#reponses_"+this.navigationQuiz+" input[type=radio]:checked");if(e){const t=e.value,r=parseInt(e.getAttribute("data-index"));JSON.parse(t)===!0?new Audio("./static/fx/correct.mp3").play():new Audio("./static/fx/incorrect.mp3").play(),this.exercicesQuiz[this.navigationQuiz][r].reponse=!0,this.exercicesQuiz[this.navigationQuiz].forEach(function(i){i.repondu=!0}),localStorage.setItem("digiflashcards_quiz_"+this.id,JSON.stringify(this.exercicesQuiz)),this.verifierReponsesQuiz()===this.exercicesQuiz.length&&(this.modale="score-quiz",this.definirScoreQuiz()>79&&this.lancerConfettis())}},verifierReponsesQuiz(){let e=0;return this.exercicesQuiz.forEach(function(t){t.forEach(function(r){r.reponse&&e++})}),e},definirScoreQuiz(){let e=0;return this.exercicesQuiz.forEach(function(t){t.forEach(function(r){r.reponse&&r.correct&&e++})}),Math.round(e/this.exercicesQuiz.length*100)},reinitialiserQuiz(){this.$parent.$parent.chargement=!0,localStorage.getItem("digiflashcards_quiz_"+this.id)&&(localStorage.removeItem("digiflashcards_quiz_"+this.id),this.navigationQuiz=0,this.definirExercicesQuiz()),setTimeout((function(){this.$parent.$parent.chargement=!1}).bind(this),200)},definirExercicesEcrire(){const e=[];JSON.parse(JSON.stringify(this.cartes)).forEach((function(i){(i.recto.hasOwnProperty("texte")&&i.recto.hasOwnProperty("image")&&i.recto.hasOwnProperty("audio")&&i.verso.hasOwnProperty("texte")&&i.verso.hasOwnProperty("image")&&i.verso.hasOwnProperty("audio")&&this.options.ecrire==="definition"&&i.verso.texte.trim()!==""&&!i.verso.texte.includes("$$")&&(i.recto.texte.trim()!==""||i.recto.image.trim()!==""||i.recto.audio.trim()!=="")||i.recto.hasOwnProperty("texte")&&i.recto.hasOwnProperty("image")&&i.recto.hasOwnProperty("audio")&&i.verso.hasOwnProperty("texte")&&i.verso.hasOwnProperty("image")&&i.verso.hasOwnProperty("audio")&&this.options.ecrire==="terme"&&i.recto.texte.trim()!==""&&!i.recto.texte.includes("$$")&&(i.verso.texte.trim()!==""||i.verso.image.trim()!==""||i.verso.audio.trim()!==""))&&(i.correct="",i.reponse="",i.valide=!1,e.push(i))}).bind(this));const r=this.melangerEntrees(e);r.length>20?(this.exercicesEcrire=r.slice(0,-(r.length-20)),localStorage.setItem("digiflashcards_ecrire_"+this.id,JSON.stringify(r.slice(0,-(r.length-20))))):r.length>4&&(this.exercicesEcrire=r,localStorage.setItem("digiflashcards_ecrire_"+this.id,JSON.stringify(r)))},afficherQuestionEcrirePrecedente(){this.$parent.$parent.chargementTransparent=!0,this.navigationEcrire>0?this.navigationEcrire--:this.navigationEcrire=this.exercicesEcrire.length-1,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){kn("#exercices",(function(){this.$parent.$parent.chargementTransparent=!1,this.$nextTick((function(){document.querySelector("#champ_"+this.navigationEcrire).focus()}).bind(this))}).bind(this))}).bind(this),200)},afficherQuestionEcrireSuivante(){this.$parent.$parent.chargementTransparent=!0,this.navigationEcrire<this.exercicesEcrire.length-1?this.navigationEcrire++:this.navigationEcrire=0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){kn("#exercices",(function(){this.$parent.$parent.chargementTransparent=!1,this.$nextTick((function(){document.querySelector("#champ_"+this.navigationEcrire).focus()}).bind(this))}).bind(this))}).bind(this),200)},verifierEcrire(){const e=document.querySelector("#champ_"+this.navigationEcrire).value;let t=e.trim().replace(/\s+/g," ");const r=JSON.parse(JSON.stringify(this.exercicesEcrire));let i,s;t!==""&&(this.options.casse===!1?(t=t.toLowerCase(),i=Js(r[this.navigationEcrire].recto.texte.replace(/\s+/g," ").replace(/\r?\n|\r/g,"").toLowerCase()),s=Js(r[this.navigationEcrire].verso.texte.replace(/\s+/g," ").replace(/\r?\n|\r/g,"").toLowerCase())):(i=Js(r[this.navigationEcrire].recto.texte.replace(/\s+/g," ").replace(/\r?\n|\r/g,"")),s=Js(r[this.navigationEcrire].verso.texte.replace(/\s+/g," ").replace(/\r?\n|\r/g,""))),this.options.ecrire==="definition"&&t===s||this.options.ecrire==="terme"&&t===i?(this.exercicesEcrire[this.navigationEcrire].correct=!0,new Audio("./static/fx/correct.mp3").play()):(this.exercicesEcrire[this.navigationEcrire].correct=!1,new Audio("./static/fx/incorrect.mp3").play()),this.exercicesEcrire[this.navigationEcrire].reponse=e,localStorage.setItem("digiflashcards_ecrire_"+this.id,JSON.stringify(this.exercicesEcrire)),this.verifierReponsesEcrire()===this.exercicesEcrire.length&&(this.modale="score-ecrire",this.definirScoreEcrire()>79&&this.lancerConfettis()))},verifierReponsesEcrire(){let e=0;return this.exercicesEcrire.forEach(function(t){t.reponse!==""&&e++}),e},definirScoreEcrire(){let e=0;return this.exercicesEcrire.forEach(function(t){t.correct&&e++}),Math.round(e/this.exercicesEcrire.length*100)},reinitialiserEcrire(){this.$parent.$parent.chargement=!0,localStorage.getItem("digiflashcards_ecrire_"+this.id)&&(localStorage.removeItem("digiflashcards_ecrire_"+this.id),this.navigationEcrire=0,this.definirExercicesEcrire()),setTimeout((function(){this.$parent.$parent.chargement=!1}).bind(this),200)},ouvrirModaleSerie(){this.modale="serie"},fermerModaleSerie(){this.modale="",this.question="",this.reponse="",this.nouveaunom="",this.nouvellequestion="",this.nouvellereponse=""},ouvrirModaleNomSerie(){this.nouveaunom=this.nom,this.modale="modifier-nom",this.$nextTick(function(){document.querySelector(".modale input").focus()})},fermerModaleNomSerie(){this.modale="",this.nouveaunom=""},modifierNomSerie(){if(this.nouveaunom!==""&&this.nom!==this.nouveaunom){this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargement=!1,e.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):e.responseText==="erreur"?(this.$parent.$parent.message=this.$t("erreurServeur"),this.fermerModaleNomSerie()):e.responseText==="non_autorise"?(this.$parent.$parent.message=this.$t("actionNonAutorisee"),this.fermerModaleNomSerie()):e.responseText==="nom_modifie"&&(this.nom=this.nouveaunom,this.$parent.$parent.notification=this.$t("nomModifie"),document.title=this.nom+" - Digiflashcards by La Digitale",this.fermerModaleNomSerie())):(this.$parent.$parent.chargement=!1,this.fermerModaleNomSerie(),this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/modifier_nom_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("serie="+this.id+"&nouveaunom="+this.nouveaunom)}else this.nouveaunom===""&&(this.$parent.$parent.message=this.$t("remplirChampNouveauNom"))},ouvrirModaleAccesSerie(){this.modale="modifier-acces"},fermerModaleAccesSerie(){this.modale="",this.question="",this.reponse="",this.nouvellequestion="",this.nouvellereponse=""},modifierAccesSerie(){if(this.question!==""&&this.reponse!==""&&this.nouvellequestion!==""&&this.nouvellereponse!==""){this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargement=!1,this.fermerModaleAccesSerie(),e.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):e.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):e.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("informationsIncorrectes"):e.responseText==="acces_modifie"&&(this.$parent.$parent.notification=this.$t("accesModifie"))):(this.$parent.$parent.chargement=!1,this.fermerModaleAccesSerie(),this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/modifier_acces_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("serie="+this.id+"&question="+this.question+"&reponse="+this.reponse+"&nouvellequestion="+this.nouvellequestion+"&nouvellereponse="+this.nouvellereponse)}else this.question===""?this.$parent.$parent.message=this.$t("selectionnerQuestionSecreteActuelle"):this.reponse===""?this.$parent.$parent.message=this.$t("indiquerReponseSecreteActuelle"):this.nouvellequestion===""?this.$parent.$parent.message=this.$t("selectionnerNouvelleQuestionSecrete"):this.nouvellereponse===""&&(this.$parent.$parent.message=this.$t("indiquerNouvelleReponseSecrete"))},ouvrirModaleConnexion(){this.modale="connexion"},fermerModaleConnexion(){this.modale="",this.question="",this.reponse=""},debloquerSerie(){if(this.question!==""&&this.reponse!==""){this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),e.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):e.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):e.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("informationsIncorrectes"):e.responseText==="serie_debloquee"&&(this.admin=!0,this.vue="editeur",this.$parent.$parent.notification=this.$t("serieDebloquee"),this.pleinEcran&&(Si.exitFullscreen(),this.pleinEcran=!1),this.cartesInversees===!0&&(this.cartesInversees=!1,this.cartes=this.copieCartes,this.copieCartes=[]),this.verifierCartes(),document.querySelector("#app").classList.remove("apprenant"))):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/ouvrir_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("serie="+this.id+"&question="+this.question+"&reponse="+this.reponse+"&type=utilisateur")}else this.question===""?this.$parent.$parent.message=this.$t("selectionnerQuestionSecrete"):this.reponse===""&&(this.$parent.$parent.message=this.$t("remplirReponseSecrete"))},exporterSerie(){this.modale="",this.$parent.$parent.chargement=!0;const e={cartes:this.cartes};let t=Xp(this.nom.toLowerCase());t=t.replace(/ /gi,"-"),t=t.replace(/[^0-9a-z_-]/gi,""),t.length>100&&(t=t.substring(0,100));const r=new yu,i=[];this.cartes.forEach((function(n){n.recto.image!==""&&this.verifierLien(n.recto.image)===!1&&i.push(n.recto.image),n.recto.audio!==""&&this.verifierLien(n.recto.audio)===!1&&i.push(n.recto.audio),n.verso.image!==""&&this.verifierLien(n.verso.image)===!1&&i.push(n.verso.image),n.verso.audio!==""&&this.verifierLien(n.verso.audio)===!1&&i.push(n.verso.audio)}).bind(this));const s=[];for(const n of i){const o=new Promise((function(a){const l=new XMLHttpRequest;l.onload=function(){l.readyState===l.DONE&&l.status===200?a({nom:n,binaire:this.response}):a({nom:"",binaire:""})},l.onerror=function(){a({nom:"",binaire:""})},l.open("GET",this.definirRacine()+"fichiers/"+this.id+"/"+n,!0),l.responseType="arraybuffer",l.send()}).bind(this));s.push(o)}Promise.all(s).then((function(n){n.forEach(function(a){a.nom!==""&&a.binaire!==""&&r.folder("fichiers").file(a.nom,a.binaire,{binary:!0})}),r.file("donnees.json",JSON.stringify(e));const o=[];this.cartes.forEach(function(a){o.push({recto_texte:a.recto.texte,recto_image:a.recto.image,recto_audio:a.recto.audio,verso_texte:a.verso.texte,verso_image:a.verso.image,verso_audio:a.verso.audio})}),r.file("donnees.csv",Su.unparse(o,{header:!0,transformHeader:!0,skipEmptyLines:!0,quoteChar:'"',escapeChar:'"',delimiter:","})),r.generateAsync({type:"blob"}).then((function(a){this.$parent.$parent.chargement=!1,Ep.saveAs(a,t+"_"+new Date().getTime()+".zip"),this.$parent.$parent.notification=this.$t("serieExportee")}).bind(this))}).bind(this))},importerSerie(e){const t=e.target.files[0];if(t===null||t.length===0)return document.querySelector("#importer").value="",!1;{this.modale="",this.$parent.$parent.chargement=!0;const r=[];new yu().loadAsync(t).then((function(s){s.files["donnees.json"]&&s.files["donnees.json"]!==""&&s.files["donnees.json"].async("string").then((function(n){n=JSON.parse(n);let o=0;const a=[];n.cartes.forEach((function(l){l.recto.image!==""&&this.verifierLien(l.recto.image)===!1&&a.push(l.recto.image),l.recto.audio!==""&&this.verifierLien(l.recto.audio)===!1&&a.push(l.recto.audio),l.verso.image!==""&&this.verifierLien(l.verso.image)===!1&&a.push(l.verso.image),l.verso.audio!==""&&this.verifierLien(l.verso.audio)===!1&&a.push(l.verso.audio)}).bind(this)),a.length===0&&this.parametreImport==="remplacer"&&new Promise((function(l){const f=new XMLHttpRequest;f.onload=(function(){l("dossier_vide")}).bind(this),f.onerror=function(){l("erreur_televersement")},f.open("POST",this.$parent.$parent.hote+"inc/vider_dossier_serie.php",!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send("serie="+this.id)}).bind(this));for(const l of a){const f=new Promise((function(c){s.files["fichiers/"+l]?s.files["fichiers/"+l].async("blob").then((function(d){o++;const m=new FormData;m.append("index",o),m.append("parametre",this.parametreImport),m.append("fichier",l),m.append("serie",this.id),m.append("blob",d);const b=new XMLHttpRequest;b.onload=(function(){b.readyState===b.DONE&&b.status===200?c("fichier_televerse"):c("erreur_televersement")}).bind(this),b.onerror=function(){c("erreur_televersement")},b.open("POST",this.$parent.$parent.hote+"inc/televerser_fichier_import.php",!0),b.send(m)}).bind(this)):c("erreur_televersement")}).bind(this));r.push(f)}Promise.all(r).then((function(){let l,f=JSON.parse(JSON.stringify(this.cartes));this.parametreImport==="ajouter"?(n.cartes.forEach(function(d){f.push(d)}),f=f.filter(function(d){return(d.recto.texte!==""||d.recto.image!==""||d.recto.audio!=="")&&(d.verso.texte!==""||d.verso.image!==""||d.verso.audio!=="")}),f=f.filter((d,m)=>{const b=JSON.stringify(d);return m===f.findIndex(A=>JSON.stringify(A)===b)}),l={serie:this.id,donnees:JSON.stringify({cartes:f,options:this.options})}):l={serie:this.id,donnees:JSON.stringify({cartes:n.cartes,options:this.options})};const c=new XMLHttpRequest;c.onload=(function(){c.readyState===c.DONE&&c.status===200?(this.$parent.$parent.chargement=!1,c.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",this.$router.push("/")):c.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):c.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("actionNonAutorisee"):c.responseText==="serie_modifiee"&&(this.vue="editeur",this.parametreImport==="ajouter"?this.cartes=f:this.cartes=n.cartes,this.cartesInversees=!1,this.copieCartes=[],this.verifierCartes(),this.$parent.$parent.notification=this.$t("serieImportee"),document.querySelector("#app").classList.remove("apprenant"))):(this.$parent.$parent.chargement=!1,this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),c.open("POST",this.$parent.$parent.hote+"inc/modifier_serie.php",!0),c.setRequestHeader("Content-type","application/json"),c.send(JSON.stringify(l)),this.supprimerDonneesExercices()}).bind(this))}).bind(this))}).bind(this))}},verifierCartes(){this.cartes.length===0?this.cartes=[{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}},{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}},{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}}]:this.cartes.length===1?this.cartes.push({recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}},{recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}}):this.cartes.length===2&&this.cartes.push({recto:{texte:"",image:"",audio:""},verso:{texte:"",image:"",audio:""}})},terminerSession(){this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){if(e.readyState===e.DONE&&e.status===200){if(this.$parent.$parent.chargement=!1,e.responseText==="session_terminee"){if(this.fermerModaleSerie(),this.admin=!1,this.vue="apprenant",this.cartes.length>0){const t=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_0 .texte",{minSize:t,maxSize:100,multiLine:!0}),window.MathJax.typeset()}).bind(this))}this.$parent.$parent.notification=this.$t("sessionTerminee"),document.querySelector("#app").classList.add("apprenant")}}else this.$parent.$parent.chargement=!1,this.fermerModaleSerie(),this.$parent.$parent.message=this.$t("erreurServeur")}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/terminer_session_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("serie="+this.id)},afficherSupprimerSerie(){this.modale="suppression-serie"},supprimerSerie(){this.modale="",this.$parent.$parent.chargement=!0;const e=new XMLHttpRequest;e.onload=(function(){e.readyState===e.DONE&&e.status===200?(this.$parent.$parent.chargement=!1,e.responseText==="erreur"?this.$parent.$parent.message=this.$t("erreurServeur"):e.responseText==="non_autorise"?this.$parent.$parent.message=this.$t("actionNonAutorisee"):(e.responseText==="serie_supprimee"||e.responseText==="contenu_inexistant")&&(document.title="Digiflashcards by La Digitale",this.$router.push("/"))):(this.$parent.$parent.chargement=!1,this.fermerModaleConnexion(),this.$parent.$parent.message=this.$t("erreurServeur"))}).bind(this),e.open("POST",this.$parent.$parent.hote+"inc/supprimer_serie.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("serie="+this.id)},importerCSV(e){const t=e.target.files[0];if(t===null||t.length===0)return document.querySelector("#televerser_csv").value="",!1;{this.modale="";const r=this;let i;this.$parent.$parent.chargement=!0,Su.parse(t,{header:!0,transformHeader:!0,skipEmptyLines:!0,complete:function(s){const n=s.data;r.parametreImport==="remplacer"?i=[]:i=JSON.parse(JSON.stringify(r.cartes)),n.forEach(function(l){(l.recto_texte!==""||l.recto_image!==""||l.recto_audio!=="")&&(l.verso_texte!==""||l.verso_image!==""||l.verso_audio!=="")&&i.push({recto:{texte:l.recto_texte,image:l.recto_image,audio:l.recto_audio},verso:{texte:l.verso_texte,image:l.verso_image,audio:l.verso_audio}})}),i=i.filter(function(l){return(l.recto.texte!==""||l.recto.image!==""||l.recto.audio!=="")&&(l.verso.texte!==""||l.verso.image!==""||l.verso.audio!=="")});let o=new XMLHttpRequest;o.onload=function(){o.readyState===o.DONE&&o.status===200?(r.$parent.$parent.chargement=!1,o.responseText==="contenu_inexistant"?(document.title="Digiflashcards by La Digitale",r.$router.push("/")):o.responseText==="erreur"?r.$parent.$parent.message=r.$t("erreurServeur"):o.responseText==="non_autorise"?r.$parent.$parent.message=r.$t("actionNonAutorisee"):o.responseText==="serie_modifiee"&&(r.cartes=i,r.cartesInversees=!1,r.copieCartes=[],r.$parent.$parent.notification=r.$t("cartesImportees"),r.parametreImport==="remplacer"&&(o=new XMLHttpRequest,o.open("POST",r.$parent.$parent.hote+"inc/vider_dossier_serie.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("serie="+r.id)))):(r.$parent.$parent.chargement=!1,r.$parent.$parent.message=r.$t("erreurServeur"))},o.open("POST",r.$parent.$parent.hote+"inc/modifier_serie.php",!0),o.setRequestHeader("Content-type","application/json");const a={serie:r.id,donnees:JSON.stringify({cartes:i,options:this.options})};o.send(JSON.stringify(a)),r.supprimerDonneesExercices()}})}},gererClavier(e){this.vue==="apprenant"&&this.modale===""&&this.onglet==="cartes"&&e.key==="ArrowLeft"?this.afficherCartePrecedente():this.vue==="apprenant"&&this.modale===""&&this.onglet==="cartes"&&e.key==="ArrowRight"?this.afficherCarteSuivante():this.vue==="apprenant"&&this.modale===""&&this.onglet==="cartes"&&e.key==="Enter"?this.recto=!this.recto:this.vue==="apprenant"&&this.modale===""&&this.onglet==="quiz"&&e.key==="ArrowLeft"?this.afficherQuestionQuizPrecedente():this.vue==="apprenant"&&this.modale===""&&this.onglet==="quiz"&&e.key==="ArrowRight"?this.afficherQuestionQuizSuivante():this.vue==="apprenant"&&this.modale===""&&this.onglet==="ecrire"&&e.key==="ArrowLeft"?this.afficherQuestionEcrirePrecedente():this.vue==="apprenant"&&this.modale===""&&this.onglet==="ecrire"&&e.key==="ArrowRight"?this.afficherQuestionEcrireSuivante():this.vue==="apprenant"&&this.modale===""&&this.onglet==="cartes"&&e.key==="Tab"?(e.preventDefault(),this.definirOnglet("quiz")):this.vue==="apprenant"&&this.modale===""&&this.onglet==="quiz"&&e.key==="Tab"?(e.preventDefault(),this.definirOnglet("ecrire")):this.vue==="apprenant"&&this.modale===""&&this.onglet==="ecrire"&&e.key==="Tab"&&(e.preventDefault(),this.definirOnglet("cartes"))},gererScroll(){const e=document.body.scrollTop;this.vue==="editeur"&&e>100?this.boutonRetour=!0:this.boutonRetour=!1},retournerHaut(){document.body.scrollTop=0},gererPleinEcran(){this.pleinEcran?(Si.exitFullscreen(),this.pleinEcran=!1):(Si.requestFullscreen(document.querySelector("#app")),this.pleinEcran=!0)},melangerCartes(){this.$parent.$parent.chargement=!0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){const e=JSON.parse(JSON.stringify(this.cartes));for(let r=e.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),s=e[r];e[r]=e[i],e[i]=s}this.recto=!0,this.cartes=e;const t=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:t,maxSize:100,multiLine:!0}),window.MathJax.typeset()}).bind(this)),this.$parent.$parent.notification=this.$t("cartesMelangees"),this.$parent.$parent.chargement=!1}).bind(this),200)},melangerEntrees(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e},inverserCartes(){this.$parent.$parent.chargement=!0,this.audio!==""&&(this.audio.pause(),this.audio="",this.lecture=!1),setTimeout((function(){const e=JSON.parse(JSON.stringify(this.cartes));this.cartesInversees===!1?(this.cartesInversees=!0,this.copieCartes=JSON.parse(JSON.stringify(this.cartes))):(this.cartesInversees=!1,this.copieCartes=[]);for(let r=0;r<e.length;r++){const i=e[r].recto,s=e[r].verso;e[r].recto=s,e[r].verso=i}this.recto=!0,this.cartes=e;const t=this.tailleFonte;this.$nextTick((function(){this.fitty=pn("#carte_"+this.navigationCartes+" .texte",{minSize:t,maxSize:100,multiLine:!0}),window.MathJax.typeset()}).bind(this)),this.$parent.$parent.notification=this.$t("cartesInversees"),this.$parent.$parent.chargement=!1}).bind(this),200)},lancerConfettis(){confetti({angle:300,spread:55,particleCount:150,origin:{x:0,y:-.2},zIndex:10010}),confetti({angle:240,spread:55,particleCount:150,origin:{x:1,y:-.2},zIndex:10010}),confetti({angle:270,spread:70,particleCount:150,origin:{x:.5,y:-.2},zIndex:10010})},verifierLien(e){let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},transcoder(e){const t=e.numberOfChannels,r=e.length*t*2+44,i=new ArrayBuffer(r),s=new DataView(i),n=[];let o,a,l=0,f=0;for(v(1179011410),v(r-8),v(1163280727),v(544501094),v(16),p(1),p(t),v(e.sampleRate),v(e.sampleRate*2*t),p(t*2),p(16),v(1635017060),v(r-f-4),o=0;o<e.numberOfChannels;o++)n.push(e.getChannelData(o));for(;f<r;){for(o=0;o<t;o++)a=Math.max(-1,Math.min(1,n[o][l])),a=(.5+a<0?a*32768:a*32767)|0,s.setInt16(f,a,!0),f+=2;l++}const c=Ra.WavHeader.readHeader(new DataView(i)),d=new Int16Array(i,c.dataOffset,c.dataLen/2),m=[],b=[];for(let x=0;x<d.length;x+=2)m.push(d[x]),b.push(d[x+1]);const A=new Int16Array(m),E=new Int16Array(b);let R;return c.channels===2?R=S(c.channels,c.sampleRate,A,E):c.channels===1&&(R=S(c.channels,c.sampleRate,d)),R;function p(x){s.setUint16(f,x,!0),f+=2}function v(x){s.setUint32(f,x,!0),f+=4}function S(x,_,C,O=null){const N=[],k=new Ra.Mp3Encoder(x,_,96);let B=C.length;const te=1152;for(let T=0;B>=te;T+=te){let h;if(O){const H=C.subarray(T,T+te),Q=O.subarray(T,T+te);h=k.encodeBuffer(H,Q)}else{const H=C.subarray(T,T+te);h=k.encodeBuffer(H)}h.length>0&&N.push(new Int8Array(h)),B-=te}const F=k.flush();return F.length>0&&N.push(new Int8Array(F)),new Blob(N,{type:"audio/mpeg"})}}}},De=e=>(wf("data-v-e70692df"),e=e(),xf(),e),y3={id:"serie"},E3={key:0,id:"header"},S3={id:"conteneur-header"},w3=["href","title"],x3=De(()=>q("span",{id:"logo"},null,-1)),A3=[x3],T3={id:"titre"},C3=De(()=>q("i",{class:"material-icons"},"share_alt",-1)),R3=[C3],k3=De(()=>q("i",{class:"material-icons"},"settings",-1)),I3=[k3],M3=De(()=>q("i",{class:"material-icons"},"lock_open",-1)),O3=[M3],L3={key:1,id:"onglets"},N3=["title"],P3=De(()=>q("i",{class:"material-icons"},"style",-1)),F3=[P3],D3=["title"],B3=De(()=>q("i",{class:"material-icons"},"help_center",-1)),$3=[B3],H3=["title"],z3=De(()=>q("i",{class:"material-icons"},"edit",-1)),q3=[z3],V3={id:"conteneur"},U3={key:0,id:"actions"},j3={id:"importer-csv"},W3=De(()=>q("i",{class:"material-icons"},"upload_file",-1)),X3={href:"./static/digiflashcards_template.csv",target:"_blank"},Y3=["href"],G3=De(()=>q("i",{class:"material-icons"},"preview",-1)),Q3={key:1,id:"options"},K3={class:"option"},Z3=["innerHTML"],J3={class:"bouton-radio"},eg=["checked"],tg=De(()=>q("span",{class:"coche"},null,-1)),rg={class:"bouton-radio"},ng=["checked"],ig=De(()=>q("span",{class:"coche"},null,-1)),sg={key:0,class:"option"},ag=["innerHTML"],og={class:"bouton-radio"},lg=["checked"],cg=De(()=>q("span",{class:"coche"},null,-1)),ug={class:"bouton-radio"},fg=["checked"],hg=De(()=>q("span",{class:"coche"},null,-1)),dg={key:1,class:"option"},_g=["innerHTML"],mg={class:"bouton-radio"},pg=["checked"],vg=De(()=>q("span",{class:"coche"},null,-1)),gg={class:"bouton-radio"},bg=["checked"],yg=De(()=>q("span",{class:"coche"},null,-1)),Eg={key:2,class:"option"},Sg=["innerHTML"],wg={class:"bouton-radio"},xg=["checked"],Ag=De(()=>q("span",{class:"coche"},null,-1)),Tg={class:"bouton-radio"},Cg=["checked"],Rg=De(()=>q("span",{class:"coche"},null,-1)),kg=["id"],Ig={class:"actions statique"},Mg={class:"gauche"},Og={class:"droite"},Lg=De(()=>q("span",null,[q("i",{class:"material-icons"},"drag_handle")],-1)),Ng=["onClick","title"],Pg=De(()=>q("i",{class:"material-icons"},"delete",-1)),Fg=[Pg],Dg={class:"conteneur recto"},Bg={class:"label"},$g={class:"texte"},Hg=["value","onInput"],zg={key:0,class:"conteneur-chargement"},qg=De(()=>q("span",{class:"chargement"},null,-1)),Vg={key:0,class:"progression"},Ug=["for","title"],jg=De(()=>q("i",{class:"material-icons"},"add_photo_alternate",-1)),Wg=[jg],Xg=["id","onChange"],Yg=["onClick","title"],Gg={key:3,class:"conteneur-chargement"},Qg=De(()=>q("span",{class:"chargement"},null,-1)),Kg={key:0,class:"progression"},Zg=["onClick","title"],Jg=De(()=>q("i",{class:"material-icons"},"audiotrack",-1)),e4=[Jg],t4=["onClick","title"],r4=De(()=>q("i",{class:"material-icons"},"graphic_eq",-1)),n4=[r4],i4={class:"conteneur verso"},s4={class:"label"},a4={class:"texte"},o4=["value","onInput"],l4={key:0,class:"conteneur-chargement"},c4=De(()=>q("span",{class:"chargement"},null,-1)),u4={key:0,class:"progression"},f4=["for","title"],h4=De(()=>q("i",{class:"material-icons"},"add_photo_alternate",-1)),d4=[h4],_4=["id","onChange"],m4=["onClick","title"],p4={key:3,class:"conteneur-chargement audio"},v4=De(()=>q("span",{class:"chargement"},null,-1)),g4={key:0,class:"progression"},b4=["onClick","title"],y4=De(()=>q("i",{class:"material-icons"},"audiotrack",-1)),E4=[y4],S4=["onClick","title"],w4=De(()=>q("i",{class:"material-icons"},"graphic_eq",-1)),x4=[w4],A4={key:3,id:"cartes",class:"apprenant"},T4=["id"],C4={class:"recto"},R4={key:0,class:"image"},k4=["src","onClick"],I4={key:1,class:"image"},M4=["src"],O4=["onClick"],L4={key:1,class:"conteneur-texte"},N4=["innerHTML"],P4={class:"verso"},F4={key:0,class:"image"},D4=["src","onClick"],B4={key:1,class:"image"},$4=["src"],H4=["onClick"],z4={key:1,class:"conteneur-texte"},q4=["innerHTML"],V4={key:0,class:"navigation"},U4=["title"],j4=De(()=>q("i",{class:"material-icons"},"arrow_back",-1)),W4=[j4],X4={class:"actions"},Y4={class:"total"},G4=["title"],Q4=De(()=>q("i",{class:"material-icons"},"check_circle",-1)),K4=[Q4],Z4=["title"],J4=De(()=>q("i",{class:"material-icons"},"check_circle",-1)),eb=[J4],tb=["title"],rb=De(()=>q("i",{class:"material-icons"},"shuffle",-1)),nb=[rb],ib=["title"],sb=De(()=>q("i",{class:"material-icons"},"flip",-1)),ab=[sb],ob=["title"],lb=De(()=>q("i",{class:"material-icons"},"fullscreen",-1)),cb=[lb],ub=["title"],fb=De(()=>q("i",{class:"material-icons"},"close_fullscreen",-1)),hb=[fb],db=["title"],_b=De(()=>q("i",{class:"material-icons"},"arrow_forward",-1)),mb=[_b],pb={key:4,id:"exercices"},vb=["src","onClick"],gb=["onClick"],bb=["innerHTML"],yb=["src","onClick"],Eb=["onClick"],Sb=["innerHTML"],wb=["id"],xb=["checked","disabled","value","name","data-index"],Ab=De(()=>q("span",{class:"radio"},null,-1)),Tb=["src","onClick"],Cb=["onClick"],Rb=["innerHTML"],kb=["checked","disabled","value","name","data-index"],Ib=De(()=>q("span",{class:"radio"},null,-1)),Mb=["src","onClick"],Ob=["onClick"],Lb=["innerHTML"],Nb={key:0,class:"valider"},Pb={class:"navigation"},Fb=["title"],Db=De(()=>q("i",{class:"material-icons"},"arrow_back",-1)),Bb=[Db],$b={class:"actions"},Hb={class:"total"},zb=["title"],qb=De(()=>q("i",{class:"material-icons"},"autorenew",-1)),Vb=[qb],Ub=["title"],jb=De(()=>q("i",{class:"material-icons"},"emoji_events",-1)),Wb=[jb],Xb=["title"],Yb=De(()=>q("i",{class:"material-icons"},"fullscreen",-1)),Gb=[Yb],Qb=["title"],Kb=De(()=>q("i",{class:"material-icons"},"close_fullscreen",-1)),Zb=[Kb],Jb=["title"],e5=De(()=>q("i",{class:"material-icons"},"arrow_forward",-1)),t5=[e5],r5={key:5,id:"exercices"},n5={class:"question"},i5=["src","onClick"],s5=["onClick"],a5=["innerHTML"],o5=["src","onClick"],l5=["onClick"],c5=["innerHTML"],u5={class:"champ"},f5=["id","placeholder","disabled","value"],h5={key:0,class:"valider"},d5={class:"navigation"},_5=["title"],m5=De(()=>q("i",{class:"material-icons"},"arrow_back",-1)),p5=[m5],v5={class:"actions"},g5={class:"total"},b5=["title"],y5=De(()=>q("i",{class:"material-icons"},"autorenew",-1)),E5=[y5],S5=["title"],w5=De(()=>q("i",{class:"material-icons"},"emoji_events",-1)),x5=[w5],A5=["title"],T5=De(()=>q("i",{class:"material-icons"},"fullscreen",-1)),C5=[T5],R5=["title"],k5=De(()=>q("i",{class:"material-icons"},"close_fullscreen",-1)),I5=[k5],M5=["title"],O5=De(()=>q("i",{class:"material-icons"},"arrow_forward",-1)),L5=[O5],N5={key:6,id:"ajouter-carte"},P5={key:7,id:"credits"},F5=["innerHTML"],D5=De(()=>q("a",{href:"https://ladigitale.dev",target:"_blank",rel:"noreferrer"},"La Digitale",-1)),B5={key:2,id:"retour-haut"},$5=["href","title"],H5=De(()=>q("i",{class:"material-icons"},"preview",-1)),z5=[H5],q5=["title"],V5=De(()=>q("i",{class:"material-icons"},"arrow_circle_up",-1)),U5=[V5],j5={id:"conteneur-partager"},W5={id:"copier-lien",class:"copier"},X5=["value"],Y5=["title"],G5=De(()=>q("i",{class:"material-icons"},"content_copy",-1)),Q5=[G5],K5=["title"],Z5=De(()=>q("i",{class:"material-icons"},"qr_code",-1)),J5=[Z5],e8={id:"copier-iframe",class:"copier"},t8=["value"],r8=["title"],n8=De(()=>q("i",{class:"material-icons"},"content_copy",-1)),i8=[n8],s8={key:0,class:"conteneur-modale"},a8={class:"modale"},o8={class:"titre"},l8=De(()=>q("i",{class:"material-icons"},"close",-1)),c8=[l8],u8={class:"conteneur"},f8={class:"contenu"},h8={class:"langue"},d8=["value"],_8=De(()=>q("option",{value:"",selected:""},"-",-1)),m8=["value"],p8=["value"],v8={class:"actions"},g8={key:1,class:"conteneur-modale"},b8={class:"modale"},y8={class:"titre"},E8=De(()=>q("i",{class:"material-icons"},"close",-1)),S8=[E8],w8={class:"conteneur"},x8={class:"contenu"},A8={class:"parametre-import"},T8={class:"bouton-radio"},C8=["checked"],R8={class:"bouton-radio"},k8=["checked"],I8={for:"televerser_csv",class:"bouton large"},M8={key:2,class:"conteneur-modale"},O8={key:0,class:"modale"},L8={class:"titre"},N8=De(()=>q("i",{class:"material-icons"},"close",-1)),P8=[N8],F8={class:"conteneur"},D8={class:"contenu"},B8={class:"langue"},$8={key:1,class:"modale"},H8={class:"titre"},z8=De(()=>q("i",{class:"material-icons"},"close",-1)),q8=[z8],V8={class:"conteneur"},U8={class:"contenu"},j8=["value"],W8={class:"actions"},X8={key:2,class:"modale"},Y8={class:"titre"},G8=De(()=>q("i",{class:"material-icons"},"close",-1)),Q8=[G8],K8={class:"conteneur"},Z8={class:"contenu"},J8=["value"],e6=De(()=>q("option",{value:"",selected:""},"-",-1)),t6=["value"],r6=["value"],n6=["value"],i6=["value"],s6=["value"],a6={class:"actions"},o6={key:3,class:"modale"},l6={class:"titre"},c6=De(()=>q("i",{class:"material-icons"},"close",-1)),u6=[c6],f6={class:"conteneur"},h6={class:"contenu"},d6={class:"parametre-import"},_6={class:"bouton-radio"},m6=["checked"],p6={class:"bouton-radio"},v6=["checked"],g6={for:"importer",class:"bouton large"},b6={key:4,class:"modale confirmation"},y6={class:"conteneur"},E6={class:"contenu"},S6=["innerHTML"],w6={class:"actions"},x6={key:3,class:"conteneur-modale"},A6={class:"modale confirmation"},T6={class:"conteneur"},C6={class:"contenu"},R6=["innerHTML"],k6={class:"actions"},I6={key:4,class:"conteneur-modale"},M6={id:"modale-image",class:"modale"},O6=De(()=>q("span",{class:"titre"},null,-1)),L6=De(()=>q("i",{class:"material-icons"},"close",-1)),N6=[L6],P6={class:"conteneur"},F6={class:"contenu"},D6={class:"conteneur-chargement"},B6=De(()=>q("div",{class:"chargement"},null,-1)),$6=[B6],H6=["src"],z6={class:"actions"},q6=["for"],V6=["id"],U6=["src"],j6={key:6,class:"conteneur-modale"},W6={key:0},X6={class:"titre"},Y6=De(()=>q("i",{class:"material-icons"},"close",-1)),G6=[Y6],Q6={class:"conteneur"},K6={key:0,class:"contenu"},Z6=De(()=>q("i",{class:"material-icons"},"fiber_manual_record",-1)),J6={class:"separateur"},ey=["for"],ty=["id"],ry={key:1,id:"enregistrement"},ny=De(()=>q("canvas",{id:"visualisation",width:"360",height:"60"},null,-1)),iy={class:"enregistrement"},sy=De(()=>q("i",{class:"material-icons"},"stop",-1)),ay=[sy],oy={class:"duree"},ly={controls:""},cy=["src"],uy={class:"actions"},fy={key:1,class:"contenu"},hy=De(()=>q("div",{class:"conteneur-chargement"},[q("div",{class:"chargement"})],-1)),dy={class:"patienter"},_y={key:7,class:"conteneur-modale"},my={id:"modale-audio",class:"modale"},py=De(()=>q("span",{class:"titre"},null,-1)),vy=De(()=>q("i",{class:"material-icons"},"close",-1)),gy=[vy],by={class:"conteneur"},yy={class:"contenu"},Ey={controls:""},Sy=["src"],wy={class:"actions"},xy={class:"conteneur"},Ay=De(()=>q("span",{class:"icone"},[q("i",{class:"material-icons"},"emoji_events")],-1)),Ty={class:"score"},Cy={class:"conteneur"},Ry=De(()=>q("span",{class:"icone"},[q("i",{class:"material-icons"},"emoji_events")],-1)),ky={class:"score"},Iy={key:10,class:"conteneur-modale"},My={id:"codeqr",class:"modale"},Oy={class:"titre"},Ly=De(()=>q("i",{class:"material-icons"},"close",-1)),Ny=[Ly],Py=De(()=>q("div",{class:"conteneur"},[q("div",{class:"contenu"},[q("div",{id:"qr"})])],-1));function Fy(e,t,r,i,s,n){const o=Vl("draggable");return Ae(),Te("div",{id:"page",class:Je({"plein-ecran":s.pleinEcran})},[q("div",y3,[!s.integration&&!s.impressionPDF?(Ae(),Te("header",E3,[q("div",S3,[q("a",{id:"conteneur-logo",href:n.definirRacine(),title:e.$t("accueil")},A3,8,w3),q("span",T3,Le(s.nom),1),q("span",{id:"conteneur-partage",onClick:t[0]||(t[0]=(...a)=>n.afficherMenuPartager&&n.afficherMenuPartager(...a))},R3),s.admin?(Ae(),Te("span",{key:0,id:"conteneur-parametres",onClick:t[1]||(t[1]=(...a)=>n.ouvrirModaleSerie&&n.ouvrirModaleSerie(...a))},I3)):(Ae(),Te("span",{key:1,id:"conteneur-parametres",onClick:t[2]||(t[2]=(...a)=>n.ouvrirModaleConnexion&&n.ouvrirModaleConnexion(...a))},O3))])])):Ve("",!0),s.vue==="apprenant"&&s.cartes.length>4&&s.options.exercices&&(s.exercicesQuiz.length>4||s.exercicesEcrire.length>4)&&!s.impressionPDF?(Ae(),Te("div",L3,[q("span",{class:Je(["onglet",{selectionne:s.onglet==="cartes"}]),title:e.$t("afficherCartes"),onClick:t[3]||(t[3]=a=>n.definirOnglet("cartes"))},F3,10,N3),s.exercicesQuiz.length>4?(Ae(),Te("span",{key:0,class:Je(["onglet",{selectionne:s.onglet==="quiz"}]),title:e.$t("afficherQuiz"),onClick:t[4]||(t[4]=a=>n.definirOnglet("quiz"))},$3,10,D3)):Ve("",!0),s.exercicesEcrire.length>4?(Ae(),Te("span",{key:1,class:Je(["onglet",{selectionne:s.onglet==="ecrire"}]),title:e.$t("afficherEcrire"),onClick:t[5]||(t[5]=a=>n.definirOnglet("ecrire"))},q3,10,H3)):Ve("",!0)])):Ve("",!0),q("div",V3,[s.vue==="editeur"?(Ae(),Te("div",U3,[q("div",j3,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[6]||(t[6]=a=>s.modale="importerCSV")},[W3,q("span",null,Le(e.$t("importerCSV")),1)]),q("a",X3,Le(e.$t("telechargerModele")),1)]),q("a",{href:n.definirRacine()+"#/f/"+s.id+"?vue=apprenant",target:"_blank"},[G3,q("span",null,Le(e.$t("apercuApprenant")),1)],8,Y3)])):Ve("",!0),s.vue==="editeur"&&s.cartes.length>4?(Ae(),Te("div",Q3,[q("div",K3,[q("h3",{innerHTML:e.$t("optionExercices")},null,8,Z3),q("label",J3,[Dt(Le(e.$t("oui"))+" ",1),q("input",{type:"radio",name:"exercices",checked:s.options.exercices===!0,onChange:t[7]||(t[7]=a=>n.modifierOptions("exercices",!0))},null,40,eg),tg]),q("label",rg,[Dt(Le(e.$t("non"))+" ",1),q("input",{type:"radio",name:"exercices",checked:s.options.exercices===!1,onChange:t[8]||(t[8]=a=>n.modifierOptions("exercices",!1))},null,40,ng),ig])]),s.options.exercices===!0?(Ae(),Te("div",sg,[q("h3",{innerHTML:e.$t("reponsesQuiz")},null,8,ag),q("label",og,[Dt(Le(e.$t("terme"))+" ",1),q("input",{type:"radio",name:"quiz",checked:s.options.quiz==="terme",onChange:t[9]||(t[9]=a=>n.modifierOptions("quiz","terme"))},null,40,lg),cg]),q("label",ug,[Dt(Le(e.$t("definition"))+" ",1),q("input",{type:"radio",name:"quiz",checked:s.options.quiz==="definition",onChange:t[10]||(t[10]=a=>n.modifierOptions("quiz","definition"))},null,40,fg),hg])])):Ve("",!0),s.options.exercices===!0?(Ae(),Te("div",dg,[q("h3",{innerHTML:e.$t("reponseEcrire")},null,8,_g),q("label",mg,[Dt(Le(e.$t("terme"))+" ",1),q("input",{type:"radio",name:"ecrire",checked:s.options.ecrire==="terme",onChange:t[11]||(t[11]=a=>n.modifierOptions("ecrire","terme"))},null,40,pg),vg]),q("label",gg,[Dt(Le(e.$t("definition"))+" ",1),q("input",{type:"radio",name:"ecrire",checked:s.options.ecrire==="definition",onChange:t[12]||(t[12]=a=>n.modifierOptions("ecrire","definition"))},null,40,bg),yg])])):Ve("",!0),s.options.exercices===!0?(Ae(),Te("div",Eg,[q("h3",{innerHTML:e.$t("optionCasse")},null,8,Sg),q("label",wg,[Dt(Le(e.$t("oui"))+" ",1),q("input",{type:"radio",name:"casse",checked:s.options.casse===!0,onChange:t[13]||(t[13]=a=>n.modifierOptions("casse",!0))},null,40,xg),Ag]),q("label",Tg,[Dt(Le(e.$t("non"))+" ",1),q("input",{type:"radio",name:"casse",checked:s.options.casse===!1,onChange:t[14]||(t[14]=a=>n.modifierOptions("casse",!1))},null,40,Cg),Rg])])):Ve("",!0)])):Ve("",!0),s.cartes.length>0&&s.vue==="editeur"?(Ae(),qf(o,{key:2,id:"cartes",class:"admin",modelValue:s.cartes,"onUpdate:modelValue":t[15]||(t[15]=a=>s.cartes=a),animation:250,sort:!0,"swap-threshold":.5,"force-fallback":!0,"fallback-tolerance":10,handle:".statique",filter:".supprimer",preventOnFilter:!0,draggable:".carte",onEnd:n.modifierPositionCarte},{default:Af(()=>[(Ae(!0),Te(mt,null,on(s.cartes,(a,l)=>(Ae(),Te("article",{id:"carte"+l,class:"carte",key:"carte_"+l},[q("div",Ig,[q("div",Mg,Le(l+1),1),q("div",Og,[Lg,q("span",{class:Je(["supprimer",{desactive:s.cartes.length<3}]),role:"button",tabindex:"0",onClick:f=>n.afficherSupprimerCarte(l),title:e.$t("supprimer")},Fg,10,Ng)])]),q("div",Dg,[q("span",Bg,Le(e.$t("terme")),1),q("span",$g,[q("textarea",{class:Je({"avec-image":a.recto.image!==""}),value:a.recto.texte,onInput:f=>n.enregistrerTexte(f,l,"recto")},null,42,Hg)]),s.chargement==="image_recto_"+l?(Ae(),Te("span",zg,[qg,s.progression>0?(Ae(),Te("span",Vg,Le(s.progression)+" %",1)):Ve("",!0)])):s.chargement!=="image_recto_"+l&&a.recto.image===""?(Ae(),Te(mt,{key:1},[q("label",{class:"image",role:"button",tabindex:"0",for:"televerser_image_recto_"+l,title:e.$t("ajouterImage")},Wg,8,Ug),q("input",{id:"televerser_image_recto_"+l,type:"file",accept:".jpg, .jpeg, .png, .gif",onChange:f=>n.televerserImage(f.target.files[0],l,"recto"),style:{display:"none"}},null,40,Xg)],64)):s.chargement!=="image_recto_"+l&&a.recto.image!==""?(Ae(),Te("span",{key:2,class:"image",onClick:f=>n.afficherImage(l,"recto",n.definirLienMedia(a.recto.image,"")),title:e.$t("afficherImage"),style:hi({"background-image":"url("+n.definirLienMedia(a.recto.image,"vignette_")+")"})},null,12,Yg)):Ve("",!0),s.chargement==="audio_recto_"+l?(Ae(),Te("span",Gg,[Qg,s.progression>0?(Ae(),Te("span",Kg,Le(s.progression)+" %",1)):Ve("",!0)])):s.chargement!=="audio_recto_"+l&&a.recto.audio===""?(Ae(),Te("span",{key:4,class:"audio",role:"button",tabindex:"0",onClick:f=>n.afficherAudio(l,"recto",""),title:e.$t("ajouterAudio")},e4,8,Zg)):s.chargement!=="audio_recto_"+l&&a.recto.audio!==""?(Ae(),Te("span",{key:5,class:"audio televerse",role:"button",tabindex:"0",onClick:f=>n.afficherAudio(l,"recto",n.definirLienMedia(a.recto.audio,"")),title:e.$t("afficherAudio")},n4,8,t4)):Ve("",!0)]),q("div",i4,[q("span",s4,Le(e.$t("definition")),1),q("span",a4,[q("textarea",{class:Je({"avec-image":a.verso.image!==""}),value:a.verso.texte,onInput:f=>n.enregistrerTexte(f,l,"verso")},null,42,o4)]),s.chargement==="image_verso_"+l?(Ae(),Te("span",l4,[c4,s.progression>0?(Ae(),Te("span",u4,Le(s.progression)+" %",1)):Ve("",!0)])):s.chargement!=="image_verso_"+l&&a.verso.image===""?(Ae(),Te(mt,{key:1},[q("label",{class:"image",role:"button",tabindex:"0",for:"televerser_image_verso_"+l,title:e.$t("ajouterImage")},d4,8,f4),q("input",{id:"televerser_image_verso_"+l,type:"file",accept:".jpg, .jpeg, .png, .gif",onChange:f=>n.televerserImage(f.target.files[0],l,"verso"),style:{display:"none"}},null,40,_4)],64)):s.chargement!=="image_verso_"+l&&a.verso.image!==""?(Ae(),Te("span",{key:2,class:"image",onClick:f=>n.afficherImage(l,"verso",n.definirLienMedia(a.verso.image,"")),title:e.$t("afficherImage"),style:hi({"background-image":"url("+n.definirLienMedia(a.verso.image,"vignette_")+")"})},null,12,m4)):Ve("",!0),s.chargement==="audio_verso_"+l?(Ae(),Te("span",p4,[v4,s.progression>0?(Ae(),Te("span",g4,Le(s.progression)+" %",1)):Ve("",!0)])):s.chargement!=="audio_verso_"+l&&a.verso.audio===""?(Ae(),Te("span",{key:4,class:"audio",role:"button",tabindex:"0",onClick:f=>n.afficherAudio(l,"verso",""),title:e.$t("ajouterAudio")},E4,8,b4)):s.chargement!=="audio_verso_"+l&&a.verso.audio!==""?(Ae(),Te("span",{key:5,class:"audio televerse",role:"button",tabindex:"0",onClick:f=>n.afficherAudio(l,"verso",n.definirLienMedia(a.verso.audio,"")),title:e.$t("afficherAudio")},x4,8,S4)):Ve("",!0)])],8,kg))),128))]),_:1},8,["modelValue","onEnd"])):s.cartes.length>0&&s.vue==="apprenant"&&s.onglet==="cartes"?(Ae(),Te("div",A4,[(Ae(!0),Te(mt,null,on(s.cartes,(a,l)=>Gn((Ae(),Te("article",{id:"carte_"+l,class:Je(["carte",{flip:s.recto===!1}]),onClick:t[16]||(t[16]=f=>s.recto=!s.recto),key:"carte_"+l},[Gn(q("div",C4,[a.recto.image!==""||a.recto.audio!==""?(Ae(),Te("div",{key:0,class:Je(["conteneur-media",{"avec-texte":a.recto.texte!==""}])},[a.recto.image!==""?(Ae(),Te("div",{key:0,class:Je(["conteneur-image",{"avec-audio":a.recto.audio!==""}])},[a.recto.texte!==""?(Ae(),Te("span",R4,[q("img",{src:n.definirLienMedia(a.recto.image,""),onClick:f=>n.afficherZoomImage(f,n.definirLienMedia(a.recto.image,""))},null,8,k4)])):(Ae(),Te("span",I4,[q("img",{src:n.definirLienMedia(a.recto.image,"")},null,8,M4)]))],2)):Ve("",!0),a.recto.audio!==""?(Ae(),Te("div",{key:1,class:Je(["conteneur-audio",{"avec-image":a.recto.image!==""}])},[q("span",{class:Je(["audio",{lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:f=>n.lireAudio(f,n.definirLienMedia(a.recto.audio,""))},"volume_up",8,O4)],2)],2)):Ve("",!0)],2)):Ve("",!0),a.recto.texte!==""?(Ae(),Te("div",L4,[q("span",{class:"texte",innerHTML:a.recto.texte},null,8,N4)])):Ve("",!0)],512),[[Zn,!s.transition]]),Gn(q("div",P4,[a.verso.image!==""||a.verso.audio!==""?(Ae(),Te("div",{key:0,class:Je(["conteneur-media",{"avec-texte":a.verso.texte!==""}])},[a.verso.image!==""?(Ae(),Te("div",{key:0,class:Je(["conteneur-image",{"avec-audio":a.verso.audio!==""}])},[a.verso.texte!==""?(Ae(),Te("span",F4,[q("img",{src:n.definirLienMedia(a.verso.image,""),onClick:f=>n.afficherZoomImage(f,n.definirLienMedia(a.verso.image,""))},null,8,D4)])):(Ae(),Te("span",B4,[q("img",{src:n.definirLienMedia(a.verso.image,"")},null,8,$4)]))],2)):Ve("",!0),a.verso.audio!==""?(Ae(),Te("div",{key:1,class:Je(["conteneur-audio",{"avec-image":a.verso.image!==""}])},[q("span",{class:Je(["audio",{lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:f=>n.lireAudio(f,n.definirLienMedia(a.verso.audio,""))},"volume_up",8,H4)],2)],2)):Ve("",!0)],2)):Ve("",!0),a.verso.texte!==""?(Ae(),Te("div",z4,[q("span",{class:"texte",innerHTML:a.verso.texte},null,8,q4)])):Ve("",!0)],512),[[Zn,!s.transition]])],10,T4)),[[Zn,s.navigationCartes===l]])),128)),s.impressionPDF?Ve("",!0):(Ae(),Te("div",V4,[q("span",{class:"precedent",title:e.$t("afficherCartePrecedente"),onClick:t[17]||(t[17]=(...a)=>n.afficherCartePrecedente&&n.afficherCartePrecedente(...a))},W4,8,U4),q("span",X4,[q("span",Y4,Le(s.navigationCartes+1)+" / "+Le(s.cartes.length),1),s.cartes[s.navigationCartes].hasOwnProperty("id")&&!s.cartesMemorisees.includes(s.cartes[s.navigationCartes].id)?(Ae(),Te("span",{key:0,class:"memorise",title:e.$t("marquerMemorisee"),onClick:t[18]||(t[18]=a=>n.modifierCartesMemorisees(s.cartes[s.navigationCartes].id))},K4,8,G4)):s.cartes[s.navigationCartes].hasOwnProperty("id")&&s.cartesMemorisees.includes(s.cartes[s.navigationCartes].id)?(Ae(),Te("span",{key:1,class:"memorise actif",title:e.$t("supprimerMemorisee"),onClick:t[19]||(t[19]=a=>n.modifierCartesMemorisees(s.cartes[s.navigationCartes].id))},eb,8,Z4)):Ve("",!0),q("span",{class:"aleatoire",title:e.$t("melangerCartes"),onClick:t[20]||(t[20]=(...a)=>n.melangerCartes&&n.melangerCartes(...a))},nb,8,tb),q("span",{class:"aleatoire",title:e.$t("inverserCartes"),onClick:t[21]||(t[21]=(...a)=>n.inverserCartes&&n.inverserCartes(...a))},ab,8,ib),s.pleinEcran?(Ae(),Te("span",{key:3,class:"ecran",title:e.$t("sortirPleinEcran"),onClick:t[23]||(t[23]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},hb,8,ub)):(Ae(),Te("span",{key:2,class:"ecran",title:e.$t("mettrePleinEcran"),onClick:t[22]||(t[22]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},cb,8,ob))]),q("span",{class:"suivant",title:e.$t("afficherCarteSuivante"),onClick:t[24]||(t[24]=(...a)=>n.afficherCarteSuivante&&n.afficherCarteSuivante(...a))},mb,8,db)]))])):s.exercicesQuiz.length>0&&s.vue==="apprenant"&&s.onglet==="quiz"?(Ae(),Te("div",pb,[(Ae(!0),Te(mt,null,on(s.exercicesQuiz,(a,l)=>Gn((Ae(),Te("article",{class:"exercice",key:"exercice_quiz_"+l},[(Ae(!0),Te(mt,null,on(a,(f,c)=>(Ae(),Te(mt,null,[s.options.quiz==="definition"&&f.correct===!0?(Ae(),Te("div",{class:"question",key:"question_quiz_definition_"+l+"_"+c},[f.recto.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":f.recto.texte!=="","avec-audio":f.recto.audio!==""}])},[q("img",{src:n.definirLienMedia(f.recto.image,""),onClick:d=>n.afficherZoomImage(d,n.definirLienMedia(f.recto.image,""))},null,8,vb)],2)):Ve("",!0),f.recto.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":f.recto.texte!=="","avec-image":f.recto.image!=="",lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:d=>n.lireAudio(d,n.definirLienMedia(f.recto.audio,""))},"volume_up",8,gb)],2)):Ve("",!0),f.recto.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:f.recto.texte},null,8,bb)):Ve("",!0)])):s.options.quiz==="terme"&&f.correct===!0?(Ae(),Te("div",{class:"question",key:"question_quiz_terme_"+l+"_"+c},[f.verso.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":f.verso.texte!=="","avec-audio":f.verso.audio!==""}])},[q("img",{src:n.definirLienMedia(f.verso.image,""),onClick:d=>n.afficherZoomImage(d,n.definirLienMedia(f.verso.image,""))},null,8,yb)],2)):Ve("",!0),f.verso.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":f.verso.texte!=="","avec-image":f.verso.image!=="",lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:d=>n.lireAudio(d,n.definirLienMedia(f.verso.audio,""))},"volume_up",8,Eb)],2)):Ve("",!0),f.verso.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:f.verso.texte},null,8,Sb)):Ve("",!0)])):Ve("",!0)],64))),256)),q("div",{id:"reponses_"+l,class:"reponses"},[(Ae(!0),Te(mt,null,on(a,(f,c)=>(Ae(),Te("div",{class:"reponse",key:"reponse_quiz_"+l+"_"+c},[s.options.quiz==="definition"?(Ae(),Te("label",{key:0,class:Je(["conteneur-coche",{correct:f.reponse&&f.correct,incorrect:f.reponse&&!f.correct}])},[q("input",{type:"radio",checked:f.reponse,disabled:f.repondu,value:f.correct,name:"reponse_quiz_"+l,"data-index":c},null,8,xb),Ab,f.verso.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":f.verso.texte!==""}])},[q("img",{src:n.definirLienMedia(f.verso.image,""),onClick:d=>n.afficherZoomImage(d,n.definirLienMedia(f.verso.image,""))},null,8,Tb)],2)):Ve("",!0),f.verso.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":f.verso.texte!=="","avec-image":f.verso.image!=="",lecture:s.lectureQuiz===c}])},[q("i",{class:"material-icons",onClick:d=>n.lireAudioQuiz(d,c,n.definirLienMedia(f.verso.audio,""))},"volume_up",8,Cb)],2)):Ve("",!0),f.verso.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:f.verso.texte},null,8,Rb)):Ve("",!0)],2)):(Ae(),Te("label",{key:1,class:Je(["conteneur-coche",{correct:f.reponse&&f.correct,incorrect:f.reponse&&!f.correct}])},[q("input",{type:"radio",checked:f.reponse,disabled:f.repondu,value:f.correct,name:"reponse_quiz_"+l,"data-index":c},null,8,kb),Ib,f.recto.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":f.recto.texte!==""}])},[q("img",{src:n.definirLienMedia(f.recto.image,""),onClick:d=>n.afficherZoomImage(d,n.definirLienMedia(f.recto.image,""))},null,8,Mb)],2)):Ve("",!0),f.recto.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":f.recto.texte!=="","avec-image":f.recto.image!=="",lecture:s.lectureQuiz===c}])},[q("i",{class:"material-icons",onClick:d=>n.lireAudioQuiz(d,c,n.definirLienMedia(f.recto.audio,""))},"volume_up",8,Ob)],2)):Ve("",!0),f.recto.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:f.recto.texte},null,8,Lb)):Ve("",!0)],2))]))),128))],8,wb),s.exercicesQuiz[l][0].repondu?Ve("",!0):(Ae(),Te("div",Nb,[q("span",{role:"button",tabindex:"0",onClick:t[25]||(t[25]=(...f)=>n.verifierQuiz&&n.verifierQuiz(...f))},Le(e.$t("valider")),1)]))])),[[Zn,s.navigationQuiz===l]])),128)),q("div",Pb,[q("span",{class:"precedent",title:e.$t("afficherQuestionPrecedente"),onClick:t[26]||(t[26]=(...a)=>n.afficherQuestionQuizPrecedente&&n.afficherQuestionQuizPrecedente(...a))},Bb,8,Fb),q("span",$b,[q("span",Hb,Le(s.navigationQuiz+1)+" / "+Le(s.exercicesQuiz.length),1),q("span",{class:"reinitialiser",title:e.$t("reinitialiser"),onClick:t[27]||(t[27]=(...a)=>n.reinitialiserQuiz&&n.reinitialiserQuiz(...a))},Vb,8,zb),n.verifierReponsesQuiz()===s.exercicesQuiz.length?(Ae(),Te("span",{key:0,class:"score",title:e.$t("afficherScore"),onClick:t[28]||(t[28]=a=>s.modale="score-quiz")},Wb,8,Ub)):Ve("",!0),s.pleinEcran?(Ae(),Te("span",{key:2,class:"ecran",title:e.$t("sortirPleinEcran"),onClick:t[30]||(t[30]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},Zb,8,Qb)):(Ae(),Te("span",{key:1,class:"ecran",title:e.$t("mettrePleinEcran"),onClick:t[29]||(t[29]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},Gb,8,Xb))]),q("span",{class:"suivant",title:e.$t("afficherQuestionSuivante"),onClick:t[31]||(t[31]=(...a)=>n.afficherQuestionQuizSuivante&&n.afficherQuestionQuizSuivante(...a))},t5,8,Jb)])])):s.exercicesEcrire.length>0&&s.vue==="apprenant"&&s.onglet==="ecrire"?(Ae(),Te("div",r5,[(Ae(!0),Te(mt,null,on(s.exercicesEcrire,(a,l)=>Gn((Ae(),Te("article",{class:"exercice",key:"exercice_ecrire_"+l},[q("div",n5,[s.options.ecrire==="definition"&&(a.recto.image!==""||a.recto.audio!==""||a.recto.texte!=="")&&a.verso.texte!==""?(Ae(),Te(mt,{key:0},[a.recto.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":a.recto.texte!=="","avec-audio":a.recto.audio!==""}])},[q("img",{src:n.definirLienMedia(a.recto.image,""),onClick:f=>n.afficherZoomImage(f,n.definirLienMedia(a.recto.image,""))},null,8,i5)],2)):Ve("",!0),a.recto.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":a.recto.texte!=="","avec-image":a.recto.image!=="",lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:f=>n.lireAudio(f,n.definirLienMedia(a.recto.audio,""))},"volume_up",8,s5)],2)):Ve("",!0),a.recto.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:a.recto.texte},null,8,a5)):Ve("",!0)],64)):s.options.ecrire==="terme"&&(a.verso.image!==""||a.verso.audio!==""||a.verso.texte!=="")&&a.recto.texte!==""?(Ae(),Te(mt,{key:1},[a.verso.image!==""?(Ae(),Te("span",{key:0,class:Je(["image",{"avec-texte":a.verso.texte!=="","avec-audio":a.verso.audio!==""}])},[q("img",{src:n.definirLienMedia(a.verso.image,""),onClick:f=>n.afficherZoomImage(f,n.definirLienMedia(a.verso.image,""))},null,8,o5)],2)):Ve("",!0),a.verso.audio!==""?(Ae(),Te("span",{key:1,class:Je(["audio",{"avec-texte":a.verso.texte!=="","avec-image":a.verso.image!=="",lecture:s.lecture}])},[q("i",{class:"material-icons",onClick:f=>n.lireAudio(f,n.definirLienMedia(a.verso.audio,""))},"volume_up",8,l5)],2)):Ve("",!0),a.verso.texte!==""?(Ae(),Te("span",{key:2,class:"texte",innerHTML:a.verso.texte},null,8,c5)):Ve("",!0)],64)):Ve("",!0)]),q("div",u5,[q("input",{id:"champ_"+l,type:"text",class:Je({correct:a.correct===!0,incorrect:a.correct===!1}),placeholder:e.$t("ecrivezTerme"),disabled:a.reponse!=="",value:a.reponse,onKeydown:t[32]||(t[32]=_s((...f)=>n.verifierEcrire&&n.verifierEcrire(...f),["enter"]))},null,42,f5)]),a.reponse===""?(Ae(),Te("div",h5,[q("span",{role:"button",tabindex:"0",onClick:t[33]||(t[33]=(...f)=>n.verifierEcrire&&n.verifierEcrire(...f))},Le(e.$t("valider")),1)])):Ve("",!0)])),[[Zn,s.navigationEcrire===l]])),128)),q("div",d5,[q("span",{class:"precedent",title:e.$t("afficherQuestionPrecedente"),onClick:t[34]||(t[34]=(...a)=>n.afficherQuestionEcrirePrecedente&&n.afficherQuestionEcrirePrecedente(...a))},p5,8,_5),q("span",v5,[q("span",g5,Le(s.navigationEcrire+1)+" / "+Le(s.exercicesEcrire.length),1),q("span",{class:"reinitialiser",title:e.$t("reinitialiser"),onClick:t[35]||(t[35]=(...a)=>n.reinitialiserEcrire&&n.reinitialiserEcrire(...a))},E5,8,b5),n.verifierReponsesEcrire()===s.exercicesEcrire.length?(Ae(),Te("span",{key:0,class:"score",title:e.$t("afficherScore"),onClick:t[36]||(t[36]=a=>s.modale="score-ecrire")},x5,8,S5)):Ve("",!0),s.pleinEcran?(Ae(),Te("span",{key:2,class:"ecran",title:e.$t("sortirPleinEcran"),onClick:t[38]||(t[38]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},I5,8,R5)):(Ae(),Te("span",{key:1,class:"ecran",title:e.$t("mettrePleinEcran"),onClick:t[37]||(t[37]=(...a)=>n.gererPleinEcran&&n.gererPleinEcran(...a))},C5,8,A5))]),q("span",{class:"suivant",title:e.$t("afficherQuestionSuivante"),onClick:t[39]||(t[39]=(...a)=>n.afficherQuestionEcrireSuivante&&n.afficherQuestionEcrireSuivante(...a))},L5,8,M5)])])):Ve("",!0),s.vue==="editeur"?(Ae(),Te("div",N5,[q("span",{role:"button",tabindex:"0",onClick:t[40]||(t[40]=(...a)=>n.ajouterCarte&&n.ajouterCarte(...a))},Le(e.$t("ajouterCarte")),1)])):Ve("",!0),!s.integration&&!s.impressionPDF?(Ae(),Te("div",P5,[q("p",null,[q("a",{href:"https://ladigitale.dev/digiflashcards/",target:"_blank",rel:"noreferrer",innerHTML:e.$t("credits")},null,8,F5)]),q("p",null,[Dt(Le(new Date().getFullYear())+" - ",1),D5])])):Ve("",!0)]),s.vue==="editeur"&&s.boutonRetour?(Ae(),Te("div",B5,[q("a",{href:n.definirRacine()+"#/f/"+s.id+"?vue=apprenant",target:"_blank",title:e.$t("apercuApprenant")},z5,8,$5),q("span",{role:"button",tabindex:"0",title:e.$t("retourHaut"),onClick:t[41]||(t[41]=(...a)=>n.retournerHaut&&n.retournerHaut(...a))},U5,8,q5)])):Ve("",!0),Gn(q("div",{id:"menu-partager",style:hi({left:s.position+"px"})},[q("div",j5,[q("label",null,Le(e.$t("lienEtCodeQR")),1),q("div",W5,[q("input",{type:"text",disabled:"",value:n.definirRacine()+"#/f/"+s.id},null,8,X5),q("span",{class:"icone lien",role:"button",tabindex:"0",title:e.$t("copierLien")},Q5,8,Y5),q("span",{class:"icone codeqr",role:"button",tabindex:"0",title:e.$t("afficherCodeQR"),onClick:t[42]||(t[42]=(...a)=>n.afficherCodeQR&&n.afficherCodeQR(...a))},J5,8,K5)]),q("label",null,Le(e.$t("codeIntegration")),1),q("div",e8,[q("input",{type:"text",disabled:"",value:'<iframe src="'+n.definirRacine()+"#/f/"+s.id+'" allowfullscreen frameborder="0" width="100%" height="500"></iframe>'},null,8,t8),q("span",{class:"icone",role:"button",tabindex:"0",title:e.$t("copierCode")},i8,8,r8)])])],4),[[Zn,s.menu==="partager"]])]),s.modale==="connexion"?(Ae(),Te("div",s8,[q("div",a8,[q("header",null,[q("span",o8,Le(e.$t("debloquerSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[43]||(t[43]=(...a)=>n.fermerModaleConnexion&&n.fermerModaleConnexion(...a))},c8)]),q("div",u8,[q("div",f8,[q("div",h8,[q("span",{class:Je({selectionne:e.$parent.$parent.langue==="fr"}),onClick:t[44]||(t[44]=a=>n.modifierLangue("fr"))},"FR",2),q("span",{class:Je({selectionne:e.$parent.$parent.langue==="it"}),onClick:t[45]||(t[45]=a=>n.modifierLangue("it"))},"IT",2),q("span",{class:Je({selectionne:e.$parent.$parent.langue==="en"}),onClick:t[46]||(t[46]=a=>n.modifierLangue("en"))},"EN",2)]),q("label",null,Le(e.$t("questionSecrete")),1),q("select",{value:s.question,onChange:t[47]||(t[47]=a=>s.question=a.target.value)},[_8,(Ae(!0),Te(mt,null,on(s.questions,(a,l)=>(Ae(),Te("option",{value:a,key:"option_"+l},Le(e.$t(a)),9,m8))),128))],40,d8),q("label",null,Le(e.$t("reponseSecrete")),1),q("input",{type:"password",value:s.reponse,onInput:t[48]||(t[48]=a=>s.reponse=a.target.value),onKeydown:t[49]||(t[49]=_s((...a)=>n.debloquerSerie&&n.debloquerSerie(...a),["enter"]))},null,40,p8),q("div",v8,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[50]||(t[50]=(...a)=>n.debloquerSerie&&n.debloquerSerie(...a))},Le(e.$t("valider")),1)])])])])])):Ve("",!0),s.modale==="importerCSV"?(Ae(),Te("div",g8,[q("div",b8,[q("header",null,[q("span",y8,Le(e.$t("importerCSV")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[51]||(t[51]=a=>s.modale="")},S8)]),q("div",w8,[q("div",x8,[q("div",A8,[q("label",null,Le(e.$t("parametreImport")),1),q("label",T8,[Dt(Le(e.$t("ajouterContenuImporte"))+" ",1),q("input",{type:"radio",name:"import",checked:s.parametreImport==="ajouter",onChange:t[52]||(t[52]=a=>s.parametreImport="ajouter")},null,40,C8)]),q("label",R8,[Dt(Le(e.$t("remplacerContenuImporte"))+" ",1),q("input",{type:"radio",name:"import",checked:s.parametreImport==="remplacer",onChange:t[53]||(t[53]=a=>s.parametreImport="remplacer")},null,40,k8)])]),q("input",{type:"file",id:"televerser_csv",name:"televerser_csv",style:{display:"none"},accept:".csv",onChange:t[54]||(t[54]=(...a)=>n.importerCSV&&n.importerCSV(...a))},null,32),q("label",I8,Le(e.$t("selectionnerFichierCSV")),1)])])])])):s.modale==="serie"||s.modale==="modifier-nom"||s.modale==="modifier-acces"||s.modale==="importer"||s.modale==="suppression-serie"?(Ae(),Te("div",M8,[s.modale==="serie"?(Ae(),Te("div",O8,[q("header",null,[q("span",L8,Le(e.$t("parametresSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[55]||(t[55]=(...a)=>n.fermerModaleSerie&&n.fermerModaleSerie(...a))},P8)]),q("div",F8,[q("div",D8,[q("div",B8,[q("span",{class:Je({selectionne:e.$parent.$parent.langue==="fr"}),onClick:t[56]||(t[56]=a=>n.modifierLangue("fr"))},"FR",2),q("span",{class:Je({selectionne:e.$parent.$parent.langue==="it"}),onClick:t[57]||(t[57]=a=>n.modifierLangue("it"))},"IT",2),q("span",{class:Je({selectionne:e.$parent.$parent.langue==="en"}),onClick:t[58]||(t[58]=a=>n.modifierLangue("en"))},"EN",2)]),s.digidrive?Ve("",!0):(Ae(),Te("span",{key:0,class:"bouton large",role:"button",tabindex:"0",onClick:t[59]||(t[59]=(...a)=>n.ouvrirModaleNomSerie&&n.ouvrirModaleNomSerie(...a))},Le(e.$t("modifierNomSerie")),1)),s.digidrive?Ve("",!0):(Ae(),Te("span",{key:1,class:"bouton large",role:"button",tabindex:"0",onClick:t[60]||(t[60]=(...a)=>n.ouvrirModaleAccesSerie&&n.ouvrirModaleAccesSerie(...a))},Le(e.$t("modifierAccesSerie")),1)),q("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[61]||(t[61]=(...a)=>n.exporterSerie&&n.exporterSerie(...a))},Le(e.$t("exporterSerie")),1),q("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[62]||(t[62]=a=>s.modale="importer")},Le(e.$t("importerSerie")),1),s.digidrive?Ve("",!0):(Ae(),Te("span",{key:2,class:"bouton large rouge",role:"button",tabindex:"0",onClick:t[63]||(t[63]=(...a)=>n.afficherSupprimerSerie&&n.afficherSupprimerSerie(...a))},Le(e.$t("supprimerSerie")),1)),q("span",{class:"bouton large",role:"button",tabindex:"0",onClick:t[64]||(t[64]=(...a)=>n.terminerSession&&n.terminerSession(...a))},Le(e.$t("terminerSession")),1)])])])):s.modale==="modifier-nom"?(Ae(),Te("div",$8,[q("header",null,[q("span",H8,Le(e.$t("modifierNomSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[65]||(t[65]=(...a)=>n.fermerModaleNomSerie&&n.fermerModaleNomSerie(...a))},q8)]),q("div",V8,[q("div",U8,[q("label",null,Le(e.$t("nouveauNom")),1),q("input",{type:"text",value:s.nouveaunom,onInput:t[66]||(t[66]=a=>s.nouveaunom=a.target.value),onKeydown:t[67]||(t[67]=_s((...a)=>n.modifierNomSerie&&n.modifierNomSerie(...a),["enter"]))},null,40,j8),q("div",W8,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[68]||(t[68]=(...a)=>n.modifierNomSerie&&n.modifierNomSerie(...a))},Le(e.$t("modifier")),1)])])])])):s.modale==="modifier-acces"?(Ae(),Te("div",X8,[q("header",null,[q("span",Y8,Le(e.$t("modifierAccesSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[69]||(t[69]=(...a)=>n.fermerModaleAccesSerie&&n.fermerModaleAccesSerie(...a))},Q8)]),q("div",K8,[q("div",Z8,[q("label",null,Le(e.$t("questionSecreteActuelle")),1),q("select",{value:s.question,onChange:t[70]||(t[70]=a=>s.question=a.target.value)},[e6,(Ae(!0),Te(mt,null,on(s.questions,(a,l)=>(Ae(),Te("option",{value:a,key:"option_"+l},Le(e.$t(a)),9,t6))),128))],40,J8),q("label",null,Le(e.$t("reponseSecreteActuelle")),1),q("input",{type:"text",value:s.reponse,onInput:t[71]||(t[71]=a=>s.reponse=a.target.value)},null,40,r6),q("label",null,Le(e.$t("nouvelleQuestionSecrete")),1),q("select",{value:s.nouvellequestion,onChange:t[72]||(t[72]=a=>s.nouvellequestion=a.target.value)},[(Ae(!0),Te(mt,null,on(s.questions,(a,l)=>(Ae(),Te("option",{value:a,key:"option_"+l},Le(e.$t(a)),9,i6))),128))],40,n6),q("label",null,Le(e.$t("nouvelleReponseSecrete")),1),q("input",{type:"text",value:s.nouvellereponse,onInput:t[73]||(t[73]=a=>s.nouvellereponse=a.target.value),onKeydown:t[74]||(t[74]=_s((...a)=>n.modifierAccesSerie&&n.modifierAccesSerie(...a),["enter"]))},null,40,s6),q("div",a6,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[75]||(t[75]=(...a)=>n.modifierAccesSerie&&n.modifierAccesSerie(...a))},Le(e.$t("modifier")),1)])])])])):s.modale==="importer"?(Ae(),Te("div",o6,[q("header",null,[q("span",l6,Le(e.$t("importerSerie")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[76]||(t[76]=a=>s.modale="")},u6)]),q("div",f6,[q("div",h6,[q("div",d6,[q("label",null,Le(e.$t("parametreImport")),1),q("label",_6,[Dt(Le(e.$t("ajouterContenuImporte"))+" ",1),q("input",{type:"radio",name:"import",checked:s.parametreImport==="ajouter",onChange:t[77]||(t[77]=a=>s.parametreImport="ajouter")},null,40,m6)]),q("label",p6,[Dt(Le(e.$t("remplacerContenuImporte"))+" ",1),q("input",{type:"radio",name:"import",checked:s.parametreImport==="remplacer",onChange:t[78]||(t[78]=a=>s.parametreImport="remplacer")},null,40,v6)])]),q("input",{type:"file",id:"importer",name:"importer",style:{display:"none"},accept:".zip",onChange:t[79]||(t[79]=(...a)=>n.importerSerie&&n.importerSerie(...a))},null,32),q("label",g6,Le(e.$t("selectionnerFichier")),1)])])])):s.modale==="suppression-serie"?(Ae(),Te("div",b6,[q("div",y6,[q("div",E6,[q("p",{innerHTML:e.$t("confirmationSupprimerSerie")},null,8,S6),q("div",w6,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[80]||(t[80]=a=>s.modale="")},Le(e.$t("non")),1),q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[81]||(t[81]=(...a)=>n.supprimerSerie&&n.supprimerSerie(...a))},Le(e.$t("oui")),1)])])])])):Ve("",!0)])):s.modale==="suppression-carte"?(Ae(),Te("div",x6,[q("div",A6,[q("div",T6,[q("div",C6,[q("p",{innerHTML:e.$t("confirmationSupprimerCarte")},null,8,R6),q("div",k6,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[82]||(t[82]=a=>s.modale="")},Le(e.$t("non")),1),q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[83]||(t[83]=(...a)=>n.supprimerCarte&&n.supprimerCarte(...a))},Le(e.$t("oui")),1)])])])])])):s.modale==="image"?(Ae(),Te("div",I6,[q("div",M6,[q("header",null,[O6,q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[84]||(t[84]=(...a)=>n.fermerModaleImage&&n.fermerModaleImage(...a))},N6)]),q("div",P6,[q("div",F6,[Gn(q("div",D6,$6,512),[[Zn,s.chargementImage]]),q("img",{src:s.image},null,8,H6),q("div",z6,[q("label",{for:"televerser_image_"+s.carteIndex,class:"bouton",role:"button",tabindex:"0"},Le(e.$t("modifier")),9,q6),q("input",{id:"televerser_image_"+s.carteIndex,type:"file",onChange:t[85]||(t[85]=a=>n.televerserImage(a.target.files[0],s.carteIndex,s.carteType)),style:{display:"none"},accept:".jpg, .jpeg, .png, .gif"},null,40,V6),q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[86]||(t[86]=a=>n.supprimerImage(s.carteIndex,s.carteType))},Le(e.$t("supprimer")),1)])])])])])):s.modale==="zoom-image"?(Ae(),Te("div",{key:5,id:"zoom-image",class:"conteneur-modale",onClick:t[87]||(t[87]=(...a)=>n.fermerModaleZoomImage&&n.fermerModaleZoomImage(...a))},[q("img",{src:s.image},null,8,U6)])):s.modale==="ajouter-audio"?(Ae(),Te("div",j6,[q("div",{id:"modale-ajouter-audio",class:Je(["modale",{transcodage:s.transcodage}])},[s.transcodage?Ve("",!0):(Ae(),Te("header",W6,[q("span",X6,Le(s.titreAjouterAudio),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[88]||(t[88]=(...a)=>n.fermerModaleAjouterAudio&&n.fermerModaleAjouterAudio(...a))},G6)])),q("div",Q6,[s.transcodage?(Ae(),Te("div",fy,[hy,q("span",dy,Le(e.$t("transcodage")),1)])):(Ae(),Te("div",K6,[s.audio===""&&!s.enregistrement?(Ae(),Te(mt,{key:0},[q("span",{id:"enregistrer",class:"bouton",role:"button",tabindex:"0",onClick:t[89]||(t[89]=(...a)=>n.enregistrerAudio&&n.enregistrerAudio(...a))},[Z6,q("span",null,Le(e.$t("enregistrerAudio")),1)]),q("div",J6,[q("span",null,Le(e.$t("ou")),1)]),q("label",{for:"televerser_audio_"+s.carteIndex,class:"bouton",role:"button",tabindex:"0"},Le(e.$t("selectionnerFichierMP3")),9,ey),q("input",{id:"televerser_audio_"+s.carteIndex,type:"file",onChange:t[90]||(t[90]=(...a)=>n.selectionnerAudio&&n.selectionnerAudio(...a)),style:{display:"none"},accept:".mp3"},null,40,ty)],64)):s.audio===""&&s.enregistrement?(Ae(),Te("div",ry,[ny,q("div",iy,[q("span",{class:"bouton stopper",role:"button",tabindex:"0",onClick:t[91]||(t[91]=(...a)=>n.arreterEnregistrementAudio&&n.arreterEnregistrementAudio(...a))},ay),q("span",oy,Le(s.dureeEnregistrement),1)])])):(Ae(),Te(mt,{key:2},[q("audio",ly,[q("source",{src:s.audio},null,8,cy)]),q("div",uy,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[92]||(t[92]=a=>s.audio="")},Le(e.$t("annuler")),1),q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[93]||(t[93]=a=>n.ajouterAudio(s.carteIndex,s.carteType))},Le(e.$t("valider")),1)])],64))]))])],2)])):s.modale==="audio"?(Ae(),Te("div",_y,[q("div",my,[q("header",null,[py,q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[94]||(t[94]=(...a)=>n.fermerModaleAudio&&n.fermerModaleAudio(...a))},gy)]),q("div",by,[q("div",yy,[q("audio",Ey,[q("source",{src:s.audio},null,8,Sy)]),q("div",wy,[q("span",{class:"bouton",role:"button",tabindex:"0",onClick:t[95]||(t[95]=a=>n.supprimerAudio(s.carteIndex,s.carteType))},Le(e.$t("supprimer")),1)])])])])])):s.modale==="score-quiz"?(Ae(),Te("div",{key:8,class:"conteneur-modale score",onClick:t[96]||(t[96]=a=>s.modale="")},[q("div",xy,[Ay,q("span",Ty,Le(n.definirScoreQuiz())+" %",1)])])):s.modale==="score-ecrire"?(Ae(),Te("div",{key:9,class:"conteneur-modale score",onClick:t[97]||(t[97]=a=>s.modale="")},[q("div",Cy,[Ry,q("span",ky,Le(n.definirScoreEcrire())+" %",1)])])):s.modale==="code-qr"?(Ae(),Te("div",Iy,[q("div",My,[q("header",null,[q("span",Oy,Le(e.$t("codeQR")),1),q("span",{class:"fermer",role:"button",tabindex:"0",onClick:t[98]||(t[98]=a=>s.modale="")},Ny)]),Py])])):Ve("",!0)],2)}const Dy=Gl(b3,[["render",Fy],["__scopeId","data-v-e70692df"]]),By=[{path:"/",name:"Accueil",component:bp},{path:"/f/:id",name:"Editeur",component:Dy}],$y=Hm({history:rm(),routes:By});/*!
  * shared v9.6.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const bl=typeof window<"u",jn=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Hy=(e,t,r)=>zy({l:e,k:t,s:r}),zy=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),$t=e=>typeof e=="number"&&isFinite(e),qy=e=>q1(e)==="[object Date]",Un=e=>q1(e)==="[object RegExp]",eo=e=>et(e)&&Object.keys(e).length===0,Wt=Object.assign;let c0;const bn=()=>c0||(c0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function u0(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Vy=Object.prototype.hasOwnProperty;function Fs(e,t){return Vy.call(e,t)}const yt=Array.isArray,kt=e=>typeof e=="function",He=e=>typeof e=="string",at=e=>typeof e=="boolean",_t=e=>e!==null&&typeof e=="object",z1=Object.prototype.toString,q1=e=>z1.call(e),et=e=>{if(!_t(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Uy=e=>e==null?"":yt(e)||et(e)&&e.toString===z1?JSON.stringify(e,null,2):String(e);function jy(e,t=""){return e.reduce((r,i,s)=>s===0?r+i:r+t+i,"")}function lc(e){let t=e;return()=>++t}function Wy(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}/*!
  * message-compiler v9.6.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function Xy(e,t,r){return{line:e,column:t,offset:r}}function yl(e,t,r){const i={start:e,end:t};return r!=null&&(i.source=r),i}const Yy=/\{([0-9a-zA-Z]+)\}/g;function Gy(e,...t){return t.length===1&&Qy(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Yy,(r,i)=>t.hasOwnProperty(i)?t[i]:"")}const V1=Object.assign,f0=e=>typeof e=="string",Qy=e=>e!==null&&typeof e=="object";function U1(e,t=""){return e.reduce((r,i,s)=>s===0?r+i:r+t+i,"")}const Ye={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Ky={[Ye.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ye.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ye.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ye.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ye.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ye.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ye.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ye.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ye.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ye.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ye.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ye.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ye.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ye.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ye.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ye.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function es(e,t,r={}){const{domain:i,messages:s,args:n}=r,o=Gy((s||Ky)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=i,a}function Zy(e){throw e}const vn=" ",Jy="\r",er="\n",eE=String.fromCharCode(8232),tE=String.fromCharCode(8233);function rE(e){const t=e;let r=0,i=1,s=1,n=0;const o=O=>t[O]===Jy&&t[O+1]===er,a=O=>t[O]===er,l=O=>t[O]===tE,f=O=>t[O]===eE,c=O=>o(O)||a(O)||l(O)||f(O),d=()=>r,m=()=>i,b=()=>s,A=()=>n,E=O=>o(O)||l(O)||f(O)?er:t[O],R=()=>E(r),p=()=>E(r+n);function v(){return n=0,c(r)&&(i++,s=0),o(r)&&r++,r++,s++,t[r]}function S(){return o(r+n)&&n++,n++,t[r+n]}function x(){r=0,i=1,s=1,n=0}function _(O=0){n=O}function C(){const O=r+n;for(;O!==r;)v();n=0}return{index:d,line:m,column:b,peekOffset:A,charAt:E,currentChar:R,currentPeek:p,next:v,peek:S,reset:x,resetPeek:_,skipToPeek:C}}const Mn=void 0,nE=".",h0="'",iE="tokenizer";function sE(e,t={}){const r=t.location!==!1,i=rE(e),s=()=>i.index(),n=()=>Xy(i.line(),i.column(),i.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},f=()=>l,{onError:c}=t;function d(L,u,D,...U){const $=f();if(u.column+=D,u.offset+=D,c){const j=r?yl($.startLoc,u):null,g=es(L,j,{domain:iE,args:U});c(g)}}function m(L,u,D){L.endLoc=n(),L.currentType=u;const U={type:u};return r&&(U.loc=yl(L.startLoc,L.endLoc)),D!=null&&(U.value=D),U}const b=L=>m(L,14);function A(L,u){return L.currentChar()===u?(L.next(),u):(d(Ye.EXPECTED_TOKEN,n(),0,u),"")}function E(L){let u="";for(;L.currentPeek()===vn||L.currentPeek()===er;)u+=L.currentPeek(),L.peek();return u}function R(L){const u=E(L);return L.skipToPeek(),u}function p(L){if(L===Mn)return!1;const u=L.charCodeAt(0);return u>=97&&u<=122||u>=65&&u<=90||u===95}function v(L){if(L===Mn)return!1;const u=L.charCodeAt(0);return u>=48&&u<=57}function S(L,u){const{currentType:D}=u;if(D!==2)return!1;E(L);const U=p(L.currentPeek());return L.resetPeek(),U}function x(L,u){const{currentType:D}=u;if(D!==2)return!1;E(L);const U=L.currentPeek()==="-"?L.peek():L.currentPeek(),$=v(U);return L.resetPeek(),$}function _(L,u){const{currentType:D}=u;if(D!==2)return!1;E(L);const U=L.currentPeek()===h0;return L.resetPeek(),U}function C(L,u){const{currentType:D}=u;if(D!==8)return!1;E(L);const U=L.currentPeek()===".";return L.resetPeek(),U}function O(L,u){const{currentType:D}=u;if(D!==9)return!1;E(L);const U=p(L.currentPeek());return L.resetPeek(),U}function N(L,u){const{currentType:D}=u;if(!(D===8||D===12))return!1;E(L);const U=L.currentPeek()===":";return L.resetPeek(),U}function k(L,u){const{currentType:D}=u;if(D!==10)return!1;const U=()=>{const j=L.currentPeek();return j==="{"?p(L.peek()):j==="@"||j==="%"||j==="|"||j===":"||j==="."||j===vn||!j?!1:j===er?(L.peek(),U()):p(j)},$=U();return L.resetPeek(),$}function B(L){E(L);const u=L.currentPeek()==="|";return L.resetPeek(),u}function te(L){const u=E(L),D=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:D,hasSpace:u.length>0}}function F(L,u=!0){const D=($=!1,j="",g=!1)=>{const I=L.currentPeek();return I==="{"?j==="%"?!1:$:I==="@"||!I?j==="%"?!0:$:I==="%"?(L.peek(),D($,"%",!0)):I==="|"?j==="%"||g?!0:!(j===vn||j===er):I===vn?(L.peek(),D(!0,vn,g)):I===er?(L.peek(),D(!0,er,g)):!0},U=D();return u&&L.resetPeek(),U}function T(L,u){const D=L.currentChar();return D===Mn?Mn:u(D)?(L.next(),D):null}function h(L){return T(L,D=>{const U=D.charCodeAt(0);return U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===95||U===36})}function H(L){return T(L,D=>{const U=D.charCodeAt(0);return U>=48&&U<=57})}function Q(L){return T(L,D=>{const U=D.charCodeAt(0);return U>=48&&U<=57||U>=65&&U<=70||U>=97&&U<=102})}function W(L){let u="",D="";for(;u=H(L);)D+=u;return D}function K(L){R(L);const u=L.currentChar();return u!=="%"&&d(Ye.EXPECTED_TOKEN,n(),0,u),L.next(),"%"}function Z(L){let u="";for(;;){const D=L.currentChar();if(D==="{"||D==="}"||D==="@"||D==="|"||!D)break;if(D==="%")if(F(L))u+=D,L.next();else break;else if(D===vn||D===er)if(F(L))u+=D,L.next();else{if(B(L))break;u+=D,L.next()}else u+=D,L.next()}return u}function ee(L){R(L);let u="",D="";for(;u=h(L);)D+=u;return L.currentChar()===Mn&&d(Ye.UNTERMINATED_CLOSING_BRACE,n(),0),D}function z(L){R(L);let u="";return L.currentChar()==="-"?(L.next(),u+="-".concat(W(L))):u+=W(L),L.currentChar()===Mn&&d(Ye.UNTERMINATED_CLOSING_BRACE,n(),0),u}function y(L){R(L),A(L,"'");let u="",D="";const U=j=>j!==h0&&j!==er;for(;u=T(L,U);)u==="\\"?D+=M(L):D+=u;const $=L.currentChar();return $===er||$===Mn?(d(Ye.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),$===er&&(L.next(),A(L,"'")),D):(A(L,"'"),D)}function M(L){const u=L.currentChar();switch(u){case"\\":case"'":return L.next(),"\\".concat(u);case"u":return w(L,u,4);case"U":return w(L,u,6);default:return d(Ye.UNKNOWN_ESCAPE_SEQUENCE,n(),0,u),""}}function w(L,u,D){A(L,u);let U="";for(let $=0;$<D;$++){const j=Q(L);if(!j){d(Ye.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,"\\".concat(u).concat(U).concat(L.currentChar()));break}U+=j}return"\\".concat(u).concat(U)}function P(L){R(L);let u="",D="";const U=$=>$!=="{"&&$!=="}"&&$!==vn&&$!==er;for(;u=T(L,U);)D+=u;return D}function ae(L){let u="",D="";for(;u=h(L);)D+=u;return D}function J(L){const u=(D=!1,U)=>{const $=L.currentChar();return $==="{"||$==="%"||$==="@"||$==="|"||$==="("||$===")"||!$||$===vn?U:$===er||$===nE?(U+=$,L.next(),u(D,U)):(U+=$,L.next(),u(!0,U))};return u(!1,"")}function re(L){R(L);const u=A(L,"|");return R(L),u}function V(L,u){let D=null;switch(L.currentChar()){case"{":return u.braceNest>=1&&d(Ye.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),D=m(u,2,"{"),R(L),u.braceNest++,D;case"}":return u.braceNest>0&&u.currentType===2&&d(Ye.EMPTY_PLACEHOLDER,n(),0),L.next(),D=m(u,3,"}"),u.braceNest--,u.braceNest>0&&R(L),u.inLinked&&u.braceNest===0&&(u.inLinked=!1),D;case"@":return u.braceNest>0&&d(Ye.UNTERMINATED_CLOSING_BRACE,n(),0),D=ue(L,u)||b(u),u.braceNest=0,D;default:let $=!0,j=!0,g=!0;if(B(L))return u.braceNest>0&&d(Ye.UNTERMINATED_CLOSING_BRACE,n(),0),D=m(u,1,re(L)),u.braceNest=0,u.inLinked=!1,D;if(u.braceNest>0&&(u.currentType===5||u.currentType===6||u.currentType===7))return d(Ye.UNTERMINATED_CLOSING_BRACE,n(),0),u.braceNest=0,_e(L,u);if($=S(L,u))return D=m(u,5,ee(L)),R(L),D;if(j=x(L,u))return D=m(u,6,z(L)),R(L),D;if(g=_(L,u))return D=m(u,7,y(L)),R(L),D;if(!$&&!j&&!g)return D=m(u,13,P(L)),d(Ye.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,D.value),R(L),D;break}return D}function ue(L,u){const{currentType:D}=u;let U=null;const $=L.currentChar();switch((D===8||D===9||D===12||D===10)&&($===er||$===vn)&&d(Ye.INVALID_LINKED_FORMAT,n(),0),$){case"@":return L.next(),U=m(u,8,"@"),u.inLinked=!0,U;case".":return R(L),L.next(),m(u,9,".");case":":return R(L),L.next(),m(u,10,":");default:return B(L)?(U=m(u,1,re(L)),u.braceNest=0,u.inLinked=!1,U):C(L,u)||N(L,u)?(R(L),ue(L,u)):O(L,u)?(R(L),m(u,12,ae(L))):k(L,u)?(R(L),$==="{"?V(L,u)||U:m(u,11,J(L))):(D===8&&d(Ye.INVALID_LINKED_FORMAT,n(),0),u.braceNest=0,u.inLinked=!1,_e(L,u))}}function _e(L,u){let D={type:14};if(u.braceNest>0)return V(L,u)||b(u);if(u.inLinked)return ue(L,u)||b(u);switch(L.currentChar()){case"{":return V(L,u)||b(u);case"}":return d(Ye.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),m(u,3,"}");case"@":return ue(L,u)||b(u);default:if(B(L))return D=m(u,1,re(L)),u.braceNest=0,u.inLinked=!1,D;const{isModulo:$,hasSpace:j}=te(L);if($)return j?m(u,0,Z(L)):m(u,4,K(L));if(F(L))return m(u,0,Z(L));break}return D}function Y(){const{currentType:L,offset:u,startLoc:D,endLoc:U}=l;return l.lastType=L,l.lastOffset=u,l.lastStartLoc=D,l.lastEndLoc=U,l.offset=s(),l.startLoc=n(),i.currentChar()===Mn?m(l,14):_e(i,l)}return{nextToken:Y,currentOffset:s,currentPosition:n,context:f}}const aE="parser",oE=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function lE(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function cE(e={}){const t=e.location!==!1,{onError:r}=e;function i(p,v,S,x,..._){const C=p.currentPosition();if(C.offset+=x,C.column+=x,r){const O=t?yl(S,C):null,N=es(v,O,{domain:aE,args:_});r(N)}}function s(p,v,S){const x={type:p};return t&&(x.start=v,x.end=v,x.loc={start:S,end:S}),x}function n(p,v,S,x){x&&(p.type=x),t&&(p.end=v,p.loc&&(p.loc.end=S))}function o(p,v){const S=p.context(),x=s(3,S.offset,S.startLoc);return x.value=v,n(x,p.currentOffset(),p.currentPosition()),x}function a(p,v){const S=p.context(),{lastOffset:x,lastStartLoc:_}=S,C=s(5,x,_);return C.index=parseInt(v,10),p.nextToken(),n(C,p.currentOffset(),p.currentPosition()),C}function l(p,v){const S=p.context(),{lastOffset:x,lastStartLoc:_}=S,C=s(4,x,_);return C.key=v,p.nextToken(),n(C,p.currentOffset(),p.currentPosition()),C}function f(p,v){const S=p.context(),{lastOffset:x,lastStartLoc:_}=S,C=s(9,x,_);return C.value=v.replace(oE,lE),p.nextToken(),n(C,p.currentOffset(),p.currentPosition()),C}function c(p){const v=p.nextToken(),S=p.context(),{lastOffset:x,lastStartLoc:_}=S,C=s(8,x,_);return v.type!==12?(i(p,Ye.UNEXPECTED_EMPTY_LINKED_MODIFIER,S.lastStartLoc,0),C.value="",n(C,x,_),{nextConsumeToken:v,node:C}):(v.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,an(v)),C.value=v.value||"",n(C,p.currentOffset(),p.currentPosition()),{node:C})}function d(p,v){const S=p.context(),x=s(7,S.offset,S.startLoc);return x.value=v,n(x,p.currentOffset(),p.currentPosition()),x}function m(p){const v=p.context(),S=s(6,v.offset,v.startLoc);let x=p.nextToken();if(x.type===9){const _=c(p);S.modifier=_.node,x=_.nextConsumeToken||p.nextToken()}switch(x.type!==10&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(x)),x=p.nextToken(),x.type===2&&(x=p.nextToken()),x.type){case 11:x.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(x)),S.key=d(p,x.value||"");break;case 5:x.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(x)),S.key=l(p,x.value||"");break;case 6:x.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(x)),S.key=a(p,x.value||"");break;case 7:x.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(x)),S.key=f(p,x.value||"");break;default:i(p,Ye.UNEXPECTED_EMPTY_LINKED_KEY,v.lastStartLoc,0);const _=p.context(),C=s(7,_.offset,_.startLoc);return C.value="",n(C,_.offset,_.startLoc),S.key=C,n(S,_.offset,_.startLoc),{nextConsumeToken:x,node:S}}return n(S,p.currentOffset(),p.currentPosition()),{node:S}}function b(p){const v=p.context(),S=v.currentType===1?p.currentOffset():v.offset,x=v.currentType===1?v.endLoc:v.startLoc,_=s(2,S,x);_.items=[];let C=null;do{const k=C||p.nextToken();switch(C=null,k.type){case 0:k.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(k)),_.items.push(o(p,k.value||""));break;case 6:k.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(k)),_.items.push(a(p,k.value||""));break;case 5:k.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(k)),_.items.push(l(p,k.value||""));break;case 7:k.value==null&&i(p,Ye.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,an(k)),_.items.push(f(p,k.value||""));break;case 8:const B=m(p);_.items.push(B.node),C=B.nextConsumeToken||null;break}}while(v.currentType!==14&&v.currentType!==1);const O=v.currentType===1?v.lastOffset:p.currentOffset(),N=v.currentType===1?v.lastEndLoc:p.currentPosition();return n(_,O,N),_}function A(p,v,S,x){const _=p.context();let C=x.items.length===0;const O=s(1,v,S);O.cases=[],O.cases.push(x);do{const N=b(p);C||(C=N.items.length===0),O.cases.push(N)}while(_.currentType!==14);return C&&i(p,Ye.MUST_HAVE_MESSAGES_IN_PLURAL,S,0),n(O,p.currentOffset(),p.currentPosition()),O}function E(p){const v=p.context(),{offset:S,startLoc:x}=v,_=b(p);return v.currentType===14?_:A(p,S,x,_)}function R(p){const v=sE(p,V1({},e)),S=v.context(),x=s(0,S.offset,S.startLoc);return t&&x.loc&&(x.loc.source=p),x.body=E(v),e.onCacheKey&&(x.cacheKey=e.onCacheKey(p)),S.currentType!==14&&i(v,Ye.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,p[S.offset]||""),n(x,v.currentOffset(),v.currentPosition()),x}return{parse:R}}function an(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function uE(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:n=>(r.helpers.add(n),n)}}function d0(e,t){for(let r=0;r<e.length;r++)cc(e[r],t)}function cc(e,t){switch(e.type){case 1:d0(e.cases,t),t.helper("plural");break;case 2:d0(e.items,t);break;case 6:cc(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function fE(e,t={}){const r=uE(e);r.helper("normalize"),e.body&&cc(e.body,r);const i=r.context();e.helpers=Array.from(i.helpers)}function hE(e){const t=e.body;return t.type===2?_0(t):t.cases.forEach(r=>_0(r)),e}function _0(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const i=e.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=U1(t);for(let r=0;r<e.items.length;r++){const i=e.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const dE="minifier";function Mi(e){switch(e.t=e.type,e.type){case 0:const t=e;Mi(t.body),t.b=t.body,delete t.body;break;case 1:const r=e,i=r.cases;for(let c=0;c<i.length;c++)Mi(i[c]);r.c=i,delete r.cases;break;case 2:const s=e,n=s.items;for(let c=0;c<n.length;c++)Mi(n[c]);s.i=n,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=e;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=e;Mi(a.key),a.k=a.key,delete a.key,a.modifier&&(Mi(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const l=e;l.i=l.index,delete l.index;break;case 4:const f=e;f.k=f.key,delete f.key;break;default:throw es(Ye.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:dE,args:[e.type]})}delete e.type}const _E="parser";function mE(e,t){const{sourceMap:r,filename:i,breakLineCode:s,needIndent:n}=t,o=t.location!==!1,a={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function f(R,p){a.code+=R}function c(R,p=!0){const v=p?s:"";f(n?v+"  ".repeat(R):v)}function d(R=!0){const p=++a.indentLevel;R&&c(p)}function m(R=!0){const p=--a.indentLevel;R&&c(p)}function b(){c(a.indentLevel)}return{context:l,push:f,indent:d,deindent:m,newline:b,helper:R=>"_".concat(R),needIndent:()=>a.needIndent}}function pE(e,t){const{helper:r}=e;e.push("".concat(r("linked"),"(")),Xi(e,t.key),t.modifier?(e.push(", "),Xi(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function vE(e,t){const{helper:r,needIndent:i}=e;e.push("".concat(r("normalize"),"([")),e.indent(i());const s=t.items.length;for(let n=0;n<s&&(Xi(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(i()),e.push("])")}function gE(e,t){const{helper:r,needIndent:i}=e;if(t.cases.length>1){e.push("".concat(r("plural"),"([")),e.indent(i());const s=t.cases.length;for(let n=0;n<s&&(Xi(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(i()),e.push("])")}}function bE(e,t){t.body?Xi(e,t.body):e.push("null")}function Xi(e,t){const{helper:r}=e;switch(t.type){case 0:bE(e,t);break;case 1:gE(e,t);break;case 2:vE(e,t);break;case 6:pE(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push("".concat(r("interpolate"),"(").concat(r("list"),"(").concat(t.index,"))"),t);break;case 4:e.push("".concat(r("interpolate"),"(").concat(r("named"),"(").concat(JSON.stringify(t.key),"))"),t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw es(Ye.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:_E,args:[t.type]})}}const yE=(e,t={})=>{const r=f0(t.mode)?t.mode:"normal",i=f0(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,n=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":"\n",o=t.needIndent?t.needIndent:r!=="arrow",a=e.helpers||[],l=mE(e,{mode:r,filename:i,sourceMap:s,breakLineCode:n,needIndent:o});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push("const { ".concat(U1(a.map(d=>"".concat(d,": _").concat(d)),", ")," } = ctx")),l.newline()),l.push("return "),Xi(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:f,map:c}=l.context();return{ast:e,code:f,map:c?c.toJSON():void 0}};function EE(e,t={}){const r=V1({},t),i=!!r.jit,s=!!r.minify,n=r.optimize==null?!0:r.optimize,a=cE(r).parse(e);return i?(n&&hE(a),s&&Mi(a),{ast:a,code:""}):(fE(a,r),yE(a,r))}/*!
  * core-base v9.6.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function SE(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(bn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(bn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Wn=[];Wn[0]={w:[0],i:[3,0],"[":[4],o:[7]};Wn[1]={w:[1],".":[2],"[":[4],o:[7]};Wn[2]={w:[2],i:[3,0],0:[3,0]};Wn[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Wn[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Wn[5]={"'":[4,0],o:8,l:[5,0]};Wn[6]={'"':[4,0],o:8,l:[6,0]};const wE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xE(e){return wE.test(e)}function AE(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function TE(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function CE(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:xE(t)?AE(t):"*"+t}function RE(e){const t=[];let r=-1,i=0,s=0,n,o,a,l,f,c,d;const m=[];m[0]=()=>{o===void 0?o=a:o+=a},m[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},m[2]=()=>{m[0](),s++},m[3]=()=>{if(s>0)s--,i=4,m[0]();else{if(s=0,o===void 0||(o=CE(o),o===!1))return!1;m[1]()}};function b(){const A=e[r+1];if(i===5&&A==="'"||i===6&&A==='"')return r++,a="\\"+A,m[0](),!0}for(;i!==null;)if(r++,n=e[r],!(n==="\\"&&b())){if(l=TE(n),d=Wn[i],f=d[l]||d.l||8,f===8||(i=f[0],f[1]!==void 0&&(c=m[f[1]],c&&(a=n,c()===!1))))return;if(i===7)return t}}const m0=new Map;function kE(e,t){return _t(e)?e[t]:null}function IE(e,t){if(!_t(e))return null;let r=m0.get(t);if(r||(r=RE(t),r&&m0.set(t,r)),!r)return null;const i=r.length;let s=e,n=0;for(;n<i;){const o=s[r[n]];if(o===void 0)return null;s=o,n++}return s}const ME=e=>e,OE=e=>"",LE="text",NE=e=>e.length===0?"":jy(e),PE=Uy;function p0(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function FE(e){const t=$t(e.pluralIndex)?e.pluralIndex:-1;return e.named&&($t(e.named.count)||$t(e.named.n))?$t(e.named.count)?e.named.count:$t(e.named.n)?e.named.n:t:t}function DE(e,t){t.count||(t.count=e),t.n||(t.n=e)}function BE(e={}){const t=e.locale,r=FE(e),i=_t(e.pluralRules)&&He(t)&&kt(e.pluralRules[t])?e.pluralRules[t]:p0,s=_t(e.pluralRules)&&He(t)&&kt(e.pluralRules[t])?p0:void 0,n=p=>p[i(r,p.length,s)],o=e.list||[],a=p=>o[p],l=e.named||{};$t(e.pluralIndex)&&DE(r,l);const f=p=>l[p];function c(p){const v=kt(e.messages)?e.messages(p):_t(e.messages)?e.messages[p]:!1;return v||(e.parent?e.parent.message(p):OE)}const d=p=>e.modifiers?e.modifiers[p]:ME,m=et(e.processor)&&kt(e.processor.normalize)?e.processor.normalize:NE,b=et(e.processor)&&kt(e.processor.interpolate)?e.processor.interpolate:PE,A=et(e.processor)&&He(e.processor.type)?e.processor.type:LE,R={list:a,named:f,plural:n,linked:(p,...v)=>{const[S,x]=v;let _="text",C="";v.length===1?_t(S)?(C=S.modifier||C,_=S.type||_):He(S)&&(C=S||C):v.length===2&&(He(S)&&(C=S||C),He(x)&&(_=x||_));const O=c(p)(R),N=_==="vnode"&&yt(O)&&C?O[0]:O;return C?d(C)(N,_):N},message:c,type:A,interpolate:b,normalize:m,values:Wt({},o,l)};return R}let Ds=null;function $E(e){Ds=e}function HE(e,t,r){Ds&&Ds.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const zE=qE("function:translate");function qE(e){return t=>Ds&&Ds.emit(e,t)}const VE={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function uc(e,t){return t.locale!=null?v0(t.locale):v0(e.locale)}let Go;function v0(e){return He(e)?e:Go!=null&&e.resolvedOnce?Go:Go=e()}function UE(e,t,r){return[...new Set([r,...yt(t)?t:_t(t)?Object.keys(t):He(t)?[t]:[r]])]}function j1(e,t,r){const i=He(r)?r:Yi,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(i);if(!n){n=[];let o=[r];for(;yt(o);)o=g0(n,o,t);const a=yt(t)||!et(t)?t:t.default?t.default:null;o=He(a)?[a]:a,yt(o)&&g0(n,o,!1),s.__localeChainCache.set(i,n)}return n}function g0(e,t,r){let i=!0;for(let s=0;s<t.length&&at(i);s++){const n=t[s];He(n)&&(i=jE(e,t[s],r))}return i}function jE(e,t,r){let i;const s=t.split("-");do{const n=s.join("-");i=WE(e,n,r),s.splice(-1,1)}while(s.length&&i===!0);return i}function WE(e,t,r){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(yt(r)||et(r))&&r[s]&&(i=r[s])}return i}const XE="9.6.1",to=-1,Yi="en-US",b0="",y0=e=>"".concat(e.charAt(0).toLocaleUpperCase()).concat(e.substr(1));function YE(){return{upper:(e,t)=>t==="text"&&He(e)?e.toUpperCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&He(e)?e.toLowerCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&He(e)?y0(e):t==="vnode"&&_t(e)&&"__v_isVNode"in e?y0(e.children):e}}let W1;function E0(e){W1=e}let X1;function GE(e){X1=e}let Y1;function QE(e){Y1=e}let G1=null;const S0=e=>{G1=e},KE=()=>G1;let Q1=null;const w0=e=>{Q1=e},ZE=()=>Q1;let x0=0;function JE(e={}){const t=kt(e.onWarn)?e.onWarn:Wy,r=He(e.version)?e.version:XE,i=He(e.locale)||kt(e.locale)?e.locale:Yi,s=kt(i)?Yi:i,n=yt(e.fallbackLocale)||et(e.fallbackLocale)||He(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=et(e.messages)?e.messages:{[s]:{}},a=et(e.datetimeFormats)?e.datetimeFormats:{[s]:{}},l=et(e.numberFormats)?e.numberFormats:{[s]:{}},f=Wt({},e.modifiers||{},YE()),c=e.pluralRules||{},d=kt(e.missing)?e.missing:null,m=at(e.missingWarn)||Un(e.missingWarn)?e.missingWarn:!0,b=at(e.fallbackWarn)||Un(e.fallbackWarn)?e.fallbackWarn:!0,A=!!e.fallbackFormat,E=!!e.unresolving,R=kt(e.postTranslation)?e.postTranslation:null,p=et(e.processor)?e.processor:null,v=at(e.warnHtmlMessage)?e.warnHtmlMessage:!0,S=!!e.escapeParameter,x=kt(e.messageCompiler)?e.messageCompiler:W1,_=kt(e.messageResolver)?e.messageResolver:X1||kE,C=kt(e.localeFallbacker)?e.localeFallbacker:Y1||UE,O=_t(e.fallbackContext)?e.fallbackContext:void 0,N=e,k=_t(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,B=_t(N.__numberFormatters)?N.__numberFormatters:new Map,te=_t(N.__meta)?N.__meta:{};x0++;const F={version:r,cid:x0,locale:i,fallbackLocale:n,messages:o,modifiers:f,pluralRules:c,missing:d,missingWarn:m,fallbackWarn:b,fallbackFormat:A,unresolving:E,postTranslation:R,processor:p,warnHtmlMessage:v,escapeParameter:S,messageCompiler:x,messageResolver:_,localeFallbacker:C,fallbackContext:O,onWarn:t,__meta:te};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=k,F.__numberFormatters=B,__INTLIFY_PROD_DEVTOOLS__&&HE(F,r,te),F}function fc(e,t,r,i,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,r,t,s);return He(a)?a:t}else return t}function fs(e,t,r){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function Qo(e){return r=>eS(r,e)}function eS(e,t){const r=t.b||t.body;if((r.t||r.type)===1){const i=r,s=i.c||i.cases;return e.plural(s.reduce((n,o)=>[...n,A0(e,o)],[]))}else return A0(e,r)}function A0(e,t){const r=t.s||t.static;if(r)return e.type==="text"?r:e.normalize([r]);{const i=(t.i||t.items).reduce((s,n)=>[...s,El(e,n)],[]);return e.normalize(i)}}function El(e,t){const r=t.t||t.type;switch(r){case 3:const i=t;return i.v||i.value;case 9:const s=t;return s.v||s.value;case 4:const n=t;return e.interpolate(e.named(n.k||n.key));case 5:const o=t;return e.interpolate(e.list(o.i!=null?o.i:o.index));case 6:const a=t,l=a.m||a.modifier;return e.linked(El(e,a.k||a.key),l?El(e,l):void 0,e.type);case 7:const f=t;return f.v||f.value;case 8:const c=t;return c.v||c.value;default:throw new Error("unhandled node type on format message part: ".concat(r))}}const K1=Ye.__EXTEND_POINT__,fa=lc(K1),Hn={INVALID_ARGUMENT:K1,INVALID_DATE_ARGUMENT:fa(),INVALID_ISO_DATE_ARGUMENT:fa(),NOT_SUPPORT_NON_STRING_MESSAGE:fa(),__EXTEND_POINT__:fa()};function fi(e){return es(e,null,void 0)}const Z1=e=>e;let Li=Object.create(null);const Gi=e=>_t(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function J1(e,t={}){let r=!1;const i=t.onError||Zy;return t.onError=s=>{r=!0,i(s)},{...EE(e,t),detectError:r}}const tS=(e,t)=>{if(!He(e))throw fi(Hn.NOT_SUPPORT_NON_STRING_MESSAGE);{at(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||Z1)(e),s=Li[i];if(s)return s;const{code:n,detectError:o}=J1(e,t),a=new Function("return ".concat(n))();return o?a:Li[i]=a}};function rS(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&He(e)){at(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||Z1)(e),s=Li[i];if(s)return s;const{ast:n,detectError:o}=J1(e,{...t,location:!1,jit:!0}),a=Qo(n);return o?a:Li[i]=a}else{const r=e.cacheKey;if(r){const i=Li[r];return i||(Li[r]=Qo(e))}else return Qo(e)}}const T0=()=>"",qr=e=>kt(e);function C0(e,...t){const{fallbackFormat:r,postTranslation:i,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,f]=Sl(...t),c=at(f.missingWarn)?f.missingWarn:e.missingWarn,d=at(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,m=at(f.escapeParameter)?f.escapeParameter:e.escapeParameter,b=!!f.resolvedMessage,A=He(f.default)||at(f.default)?at(f.default)?n?l:()=>l:f.default:r?n?l:()=>l:"",E=r||A!=="",R=uc(e,f);m&&nS(f);let[p,v,S]=b?[l,R,a[R]||{}]:eh(e,l,R,o,d,c),x=p,_=l;if(!b&&!(He(x)||Gi(x)||qr(x))&&E&&(x=A,_=x),!b&&(!(He(x)||Gi(x)||qr(x))||!He(v)))return s?to:l;let C=!1;const O=()=>{C=!0},N=qr(x)?x:th(e,l,v,x,_,O);if(C)return x;const k=aS(e,v,S,f),B=BE(k),te=iS(e,N,B),F=i?i(te,l):te;if(__INTLIFY_PROD_DEVTOOLS__){const T={timestamp:Date.now(),key:He(l)?l:qr(x)?x.key:"",locale:v||(qr(x)?x.locale:""),format:He(x)?x:qr(x)?x.source:"",message:F};T.meta=Wt({},e.__meta,KE()||{}),zE(T)}return F}function nS(e){yt(e.list)?e.list=e.list.map(t=>He(t)?u0(t):t):_t(e.named)&&Object.keys(e.named).forEach(t=>{He(e.named[t])&&(e.named[t]=u0(e.named[t]))})}function eh(e,t,r,i,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:f}=e,c=f(e,i,r);let d={},m,b=null;const A="translate";for(let E=0;E<c.length&&(m=c[E],d=o[m]||{},(b=l(d,t))===null&&(b=d[t]),!(He(b)||Gi(b)||qr(b)));E++){const R=fc(e,t,m,n,A);R!==t&&(b=R)}return[b,m,d]}function th(e,t,r,i,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(qr(i)){const f=i;return f.locale=f.locale||r,f.key=f.key||t,f}if(o==null){const f=()=>i;return f.locale=r,f.key=t,f}const l=o(i,sS(e,r,s,i,a,n));return l.locale=r,l.key=t,l.source=i,l}function iS(e,t,r){return t(r)}function Sl(...e){const[t,r,i]=e,s={};if(!He(t)&&!$t(t)&&!qr(t)&&!Gi(t))throw fi(Hn.INVALID_ARGUMENT);const n=$t(t)?String(t):(qr(t),t);return $t(r)?s.plural=r:He(r)?s.default=r:et(r)&&!eo(r)?s.named=r:yt(r)&&(s.list=r),$t(i)?s.plural=i:He(i)?s.default=i:et(i)&&Wt(s,i),[n,s]}function sS(e,t,r,i,s,n){return{locale:t,key:r,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Hy(t,r,o)}}function aS(e,t,r,i){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:f,fallbackContext:c}=e,m={locale:t,modifiers:s,pluralRules:n,messages:b=>{let A=o(r,b);if(A==null&&c){const[,,E]=eh(c,b,t,a,l,f);A=o(E,b)}if(He(A)||Gi(A)){let E=!1;const p=th(e,b,t,A,b,()=>{E=!0});return E?T0:p}else return qr(A)?A:T0}};return e.processor&&(m.processor=e.processor),i.list&&(m.list=i.list),i.named&&(m.named=i.named),$t(i.plural)&&(m.pluralIndex=i.plural),m}function R0(e,...t){const{datetimeFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,f,c,d]=wl(...t),m=at(c.missingWarn)?c.missingWarn:e.missingWarn;at(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const b=!!c.part,A=uc(e,c),E=o(e,s,A);if(!He(l)||l==="")return new Intl.DateTimeFormat(A,d).format(f);let R={},p,v=null;const S="datetime format";for(let C=0;C<E.length&&(p=E[C],R=r[p]||{},v=R[l],!et(v));C++)fc(e,l,p,m,S);if(!et(v)||!He(p))return i?to:l;let x="".concat(p,"__").concat(l);eo(d)||(x="".concat(x,"__").concat(JSON.stringify(d)));let _=a.get(x);return _||(_=new Intl.DateTimeFormat(p,Wt({},v,d)),a.set(x,_)),b?_.formatToParts(f):_.format(f)}const rh=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function wl(...e){const[t,r,i,s]=e,n={};let o={},a;if(He(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw fi(Hn.INVALID_ISO_DATE_ARGUMENT);const f=l[3]?l[3].trim().startsWith("T")?"".concat(l[1].trim()).concat(l[3].trim()):"".concat(l[1].trim(),"T").concat(l[3].trim()):l[1].trim();a=new Date(f);try{a.toISOString()}catch{throw fi(Hn.INVALID_ISO_DATE_ARGUMENT)}}else if(qy(t)){if(isNaN(t.getTime()))throw fi(Hn.INVALID_DATE_ARGUMENT);a=t}else if($t(t))a=t;else throw fi(Hn.INVALID_ARGUMENT);return He(r)?n.key=r:et(r)&&Object.keys(r).forEach(l=>{rh.includes(l)?o[l]=r[l]:n[l]=r[l]}),He(i)?n.locale=i:et(i)&&(o=i),et(s)&&(o=s),[n.key||"",a,n,o]}function k0(e,t,r){const i=e;for(const s in r){const n="".concat(t,"__").concat(s);i.__datetimeFormatters.has(n)&&i.__datetimeFormatters.delete(n)}}function I0(e,...t){const{numberFormats:r,unresolving:i,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,f,c,d]=xl(...t),m=at(c.missingWarn)?c.missingWarn:e.missingWarn;at(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const b=!!c.part,A=uc(e,c),E=o(e,s,A);if(!He(l)||l==="")return new Intl.NumberFormat(A,d).format(f);let R={},p,v=null;const S="number format";for(let C=0;C<E.length&&(p=E[C],R=r[p]||{},v=R[l],!et(v));C++)fc(e,l,p,m,S);if(!et(v)||!He(p))return i?to:l;let x="".concat(p,"__").concat(l);eo(d)||(x="".concat(x,"__").concat(JSON.stringify(d)));let _=a.get(x);return _||(_=new Intl.NumberFormat(p,Wt({},v,d)),a.set(x,_)),b?_.formatToParts(f):_.format(f)}const nh=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function xl(...e){const[t,r,i,s]=e,n={};let o={};if(!$t(t))throw fi(Hn.INVALID_ARGUMENT);const a=t;return He(r)?n.key=r:et(r)&&Object.keys(r).forEach(l=>{nh.includes(l)?o[l]=r[l]:n[l]=r[l]}),He(i)?n.locale=i:et(i)&&(o=i),et(s)&&(o=s),[n.key||"",a,n,o]}function M0(e,t,r){const i=e;for(const s in r){const n="".concat(t,"__").concat(s);i.__numberFormatters.has(n)&&i.__numberFormatters.delete(n)}}SE();/*!
  * vue-i18n v9.6.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const oS="9.6.1";function lS(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(bn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(bn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(bn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(bn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bn().__INTLIFY_PROD_DEVTOOLS__=!1)}const ih=VE.__EXTEND_POINT__,On=lc(ih);On(),On(),On(),On(),On(),On(),On(),On();const sh=Hn.__EXTEND_POINT__,lr=lc(sh),Pt={UNEXPECTED_RETURN_TYPE:sh,INVALID_ARGUMENT:lr(),MUST_BE_CALL_SETUP_TOP:lr(),NOT_INSTALLED:lr(),NOT_AVAILABLE_IN_LEGACY_MODE:lr(),REQUIRED_VALUE:lr(),INVALID_VALUE:lr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:lr(),NOT_INSTALLED_WITH_PROVIDE:lr(),UNEXPECTED_ERROR:lr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:lr(),BRIDGE_SUPPORT_VUE_2_ONLY:lr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:lr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:lr(),__EXTEND_POINT__:lr()};function Ht(e,...t){return es(e,null,void 0)}const Al=jn("__translateVNode"),Tl=jn("__datetimeParts"),Cl=jn("__numberParts"),ah=jn("__setPluralRules"),oh=jn("__injectWithOption"),Rl=jn("__dispose");function Bs(e){if(!_t(e))return e;for(const t in e)if(Fs(e,t))if(!t.includes("."))_t(e[t])&&Bs(e[t]);else{const r=t.split("."),i=r.length-1;let s=e,n=!1;for(let o=0;o<i;o++){if(r[o]in s||(s[r[o]]={}),!_t(s[r[o]])){n=!0;break}s=s[r[o]]}n||(s[r[i]]=e[t],delete e[t]),_t(s[r[i]])&&Bs(s[r[i]])}return e}function ro(e,t){const{messages:r,__i18n:i,messageResolver:s,flatJson:n}=t,o=et(r)?r:yt(i)?{}:{[e]:{}};if(yt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:f}=a;l?(o[l]=o[l]||{},Cs(f,o[l])):Cs(f,o)}else He(a)&&Cs(JSON.parse(a),o)}),s==null&&n)for(const a in o)Fs(o,a)&&Bs(o[a]);return o}const ha=e=>!_t(e)||yt(e);function Cs(e,t){if(ha(e)||ha(t))throw Ht(Pt.INVALID_VALUE);for(const r in e)Fs(e,r)&&(ha(e[r])||ha(t[r])?t[r]=e[r]:Cs(e[r],t[r]))}function lh(e){return e.type}function ch(e,t,r){let i=_t(t.messages)?t.messages:{};"__i18nGlobal"in r&&(i=ro(e.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,i[n])});{if(_t(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(_t(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function O0(e){return tr($s,null,e,0)}const L0="__INTLIFY_META__",N0=()=>[],cS=()=>!1;let P0=0;function F0(e){return(t,r,i,s)=>e(r,i,Os()||void 0,s)}const uS=()=>{const e=Os();let t=null;return e&&(t=lh(e)[L0])?{[L0]:t}:null};function hc(e={},t){const{__root:r,__injectWithOption:i}=e,s=r===void 0,n=e.flatJson;let o=at(e.inheritLocale)?e.inheritLocale:!0;const a=Qr(r&&o?r.locale.value:He(e.locale)?e.locale:Yi),l=Qr(r&&o?r.fallbackLocale.value:He(e.fallbackLocale)||yt(e.fallbackLocale)||et(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),f=Qr(ro(a.value,e)),c=Qr(et(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),d=Qr(et(e.numberFormats)?e.numberFormats:{[a.value]:{}});let m=r?r.missingWarn:at(e.missingWarn)||Un(e.missingWarn)?e.missingWarn:!0,b=r?r.fallbackWarn:at(e.fallbackWarn)||Un(e.fallbackWarn)?e.fallbackWarn:!0,A=r?r.fallbackRoot:at(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.fallbackFormat,R=kt(e.missing)?e.missing:null,p=kt(e.missing)?F0(e.missing):null,v=kt(e.postTranslation)?e.postTranslation:null,S=r?r.warnHtmlMessage:at(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const _=r?r.modifiers:et(e.modifiers)?e.modifiers:{};let C=e.pluralRules||r&&r.pluralRules,O;O=(()=>{s&&w0(null);const se={version:oS,locale:a.value,fallbackLocale:l.value,messages:f.value,modifiers:_,pluralRules:C,missing:p===null?void 0:p,missingWarn:m,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:v===null?void 0:v,warnHtmlMessage:S,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};se.datetimeFormats=c.value,se.numberFormats=d.value,se.__datetimeFormatters=et(O)?O.__datetimeFormatters:void 0,se.__numberFormatters=et(O)?O.__numberFormatters:void 0;const ne=JE(se);return s&&w0(ne),ne})(),fs(O,a.value,l.value);function k(){return[a.value,l.value,f.value,c.value,d.value]}const B=Ot({get:()=>a.value,set:se=>{a.value=se,O.locale=a.value}}),te=Ot({get:()=>l.value,set:se=>{l.value=se,O.fallbackLocale=l.value,fs(O,a.value,se)}}),F=Ot(()=>f.value),T=Ot(()=>c.value),h=Ot(()=>d.value);function H(){return kt(v)?v:null}function Q(se){v=se,O.postTranslation=se}function W(){return R}function K(se){se!==null&&(p=F0(se)),R=se,O.missing=p}const Z=(se,ne,me,Re,Ee,Ce)=>{k();let qe;try{__INTLIFY_PROD_DEVTOOLS__&&S0(uS()),s||(O.fallbackContext=r?ZE():void 0),qe=se(O)}finally{__INTLIFY_PROD_DEVTOOLS__&&S0(null),s||(O.fallbackContext=void 0)}if(me!=="translate exists"&&$t(qe)&&qe===to||me==="translate exists"&&!qe){const[Ge,Xe]=ne();return r&&A?Re(r):Ee(Ge)}else{if(Ce(qe))return qe;throw Ht(Pt.UNEXPECTED_RETURN_TYPE)}};function ee(...se){return Z(ne=>Reflect.apply(C0,null,[ne,...se]),()=>Sl(...se),"translate",ne=>Reflect.apply(ne.t,ne,[...se]),ne=>ne,ne=>He(ne))}function z(...se){const[ne,me,Re]=se;if(Re&&!_t(Re))throw Ht(Pt.INVALID_ARGUMENT);return ee(ne,me,Wt({resolvedMessage:!0},Re||{}))}function y(...se){return Z(ne=>Reflect.apply(R0,null,[ne,...se]),()=>wl(...se),"datetime format",ne=>Reflect.apply(ne.d,ne,[...se]),()=>b0,ne=>He(ne))}function M(...se){return Z(ne=>Reflect.apply(I0,null,[ne,...se]),()=>xl(...se),"number format",ne=>Reflect.apply(ne.n,ne,[...se]),()=>b0,ne=>He(ne))}function w(se){return se.map(ne=>He(ne)||$t(ne)||at(ne)?O0(String(ne)):ne)}const ae={normalize:w,interpolate:se=>se,type:"vnode"};function J(...se){return Z(ne=>{let me;const Re=ne;try{Re.processor=ae,me=Reflect.apply(C0,null,[Re,...se])}finally{Re.processor=null}return me},()=>Sl(...se),"translate",ne=>ne[Al](...se),ne=>[O0(ne)],ne=>yt(ne))}function re(...se){return Z(ne=>Reflect.apply(I0,null,[ne,...se]),()=>xl(...se),"number format",ne=>ne[Cl](...se),N0,ne=>He(ne)||yt(ne))}function V(...se){return Z(ne=>Reflect.apply(R0,null,[ne,...se]),()=>wl(...se),"datetime format",ne=>ne[Tl](...se),N0,ne=>He(ne)||yt(ne))}function ue(se){C=se,O.pluralRules=C}function _e(se,ne){return Z(()=>{if(!se)return!1;const me=He(ne)?ne:a.value,Re=u(me),Ee=O.messageResolver(Re,se);return Gi(Ee)||qr(Ee)||He(Ee)},()=>[se],"translate exists",me=>(console.log("root ... te"),Reflect.apply(me.te,me,[se,ne])),cS,me=>at(me))}function Y(se){let ne=null;const me=j1(O,l.value,a.value);for(let Re=0;Re<me.length;Re++){const Ee=f.value[me[Re]]||{},Ce=O.messageResolver(Ee,se);if(Ce!=null){ne=Ce;break}}return ne}function L(se){const ne=Y(se);return ne!=null?ne:r?r.tm(se)||{}:{}}function u(se){return f.value[se]||{}}function D(se,ne){if(n){const me={[se]:ne};for(const Re in me)Fs(me,Re)&&Bs(me[Re]);ne=me[se]}f.value[se]=ne,O.messages=f.value}function U(se,ne){f.value[se]=f.value[se]||{};const me={[se]:ne};for(const Re in me)Fs(me,Re)&&Bs(me[Re]);ne=me[se],Cs(ne,f.value[se]),O.messages=f.value}function $(se){return c.value[se]||{}}function j(se,ne){c.value[se]=ne,O.datetimeFormats=c.value,k0(O,se,ne)}function g(se,ne){c.value[se]=Wt(c.value[se]||{},ne),O.datetimeFormats=c.value,k0(O,se,ne)}function I(se){return d.value[se]||{}}function oe(se,ne){d.value[se]=ne,O.numberFormats=d.value,M0(O,se,ne)}function ie(se,ne){d.value[se]=Wt(d.value[se]||{},ne),O.numberFormats=d.value,M0(O,se,ne)}P0++,r&&bl&&(_i(r.locale,se=>{o&&(a.value=se,O.locale=se,fs(O,a.value,l.value))}),_i(r.fallbackLocale,se=>{o&&(l.value=se,O.fallbackLocale=se,fs(O,a.value,l.value))}));const he={id:P0,locale:B,fallbackLocale:te,get inheritLocale(){return o},set inheritLocale(se){o=se,se&&r&&(a.value=r.locale.value,l.value=r.fallbackLocale.value,fs(O,a.value,l.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:F,get modifiers(){return _},get pluralRules(){return C||{}},get isGlobal(){return s},get missingWarn(){return m},set missingWarn(se){m=se,O.missingWarn=m},get fallbackWarn(){return b},set fallbackWarn(se){b=se,O.fallbackWarn=b},get fallbackRoot(){return A},set fallbackRoot(se){A=se},get fallbackFormat(){return E},set fallbackFormat(se){E=se,O.fallbackFormat=E},get warnHtmlMessage(){return S},set warnHtmlMessage(se){S=se,O.warnHtmlMessage=se},get escapeParameter(){return x},set escapeParameter(se){x=se,O.escapeParameter=se},t:ee,getLocaleMessage:u,setLocaleMessage:D,mergeLocaleMessage:U,getPostTranslationHandler:H,setPostTranslationHandler:Q,getMissingHandler:W,setMissingHandler:K,[ah]:ue};return he.datetimeFormats=T,he.numberFormats=h,he.rt=z,he.te=_e,he.tm=L,he.d=y,he.n=M,he.getDateTimeFormat=$,he.setDateTimeFormat=j,he.mergeDateTimeFormat=g,he.getNumberFormat=I,he.setNumberFormat=oe,he.mergeNumberFormat=ie,he[oh]=i,he[Al]=J,he[Tl]=V,he[Cl]=re,he}function fS(e){const t=He(e.locale)?e.locale:Yi,r=He(e.fallbackLocale)||yt(e.fallbackLocale)||et(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=kt(e.missing)?e.missing:void 0,s=at(e.silentTranslationWarn)||Un(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=at(e.silentFallbackWarn)||Un(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=at(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=et(e.modifiers)?e.modifiers:{},f=e.pluralizationRules,c=kt(e.postTranslation)?e.postTranslation:void 0,d=He(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,b=at(e.sync)?e.sync:!0;let A=e.messages;if(et(e.sharedMessages)){const _=e.sharedMessages;A=Object.keys(_).reduce((O,N)=>{const k=O[N]||(O[N]={});return Wt(k,_[N]),O},A||{})}const{__i18n:E,__root:R,__injectWithOption:p}=e,v=e.datetimeFormats,S=e.numberFormats,x=e.flatJson;return{locale:t,fallbackLocale:r,messages:A,flatJson:x,datetimeFormats:v,numberFormats:S,missing:i,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:f,postTranslation:c,warnHtmlMessage:d,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:b,__i18n:E,__root:R,__injectWithOption:p}}function kl(e={},t){{const r=hc(fS(e)),{__extender:i}=e,s={id:r.id,get locale(){return r.locale.value},set locale(n){r.locale.value=n},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(n){r.fallbackLocale.value=n},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return r.getMissingHandler()},set missing(n){r.setMissingHandler(n)},get silentTranslationWarn(){return at(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(n){r.missingWarn=at(n)?!n:n},get silentFallbackWarn(){return at(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(n){r.fallbackWarn=at(n)?!n:n},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(n){r.fallbackFormat=n},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(n){r.setPostTranslationHandler(n)},get sync(){return r.inheritLocale},set sync(n){r.inheritLocale=n},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){r.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(n){r.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...n){const[o,a,l]=n,f={};let c=null,d=null;if(!He(o))throw Ht(Pt.INVALID_ARGUMENT);const m=o;return He(a)?f.locale=a:yt(a)?c=a:et(a)&&(d=a),yt(l)?c=l:et(l)&&(d=l),Reflect.apply(r.t,r,[m,c||d||{},f])},rt(...n){return Reflect.apply(r.rt,r,[...n])},tc(...n){const[o,a,l]=n,f={plural:1};let c=null,d=null;if(!He(o))throw Ht(Pt.INVALID_ARGUMENT);const m=o;return He(a)?f.locale=a:$t(a)?f.plural=a:yt(a)?c=a:et(a)&&(d=a),He(l)?f.locale=l:yt(l)?c=l:et(l)&&(d=l),Reflect.apply(r.t,r,[m,c||d||{},f])},te(n,o){return r.te(n,o)},tm(n){return r.tm(n)},getLocaleMessage(n){return r.getLocaleMessage(n)},setLocaleMessage(n,o){r.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){r.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(r.d,r,[...n])},getDateTimeFormat(n){return r.getDateTimeFormat(n)},setDateTimeFormat(n,o){r.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){r.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(r.n,r,[...n])},getNumberFormat(n){return r.getNumberFormat(n)},setNumberFormat(n,o){r.setNumberFormat(n,o)},mergeNumberFormat(n,o){r.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=i,s}}const dc={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function hS({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,s)=>[...i,...s.type===mt?s.children:[s]],[]):t.reduce((r,i)=>{const s=e[i];return s&&(r[i]=s()),r},{})}function uh(e){return mt}const dS=Zi({name:"i18n-t",props:Wt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>$t(e)||!isNaN(e)}},dc),setup(e,t){const{slots:r,attrs:i}=t,s=e.i18n||_c({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(r).filter(d=>d!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=He(e.plural)?+e.plural:e.plural);const a=hS(t,n),l=s[Al](e.keypath,a,o),f=Wt({},i),c=He(e.tag)||_t(e.tag)?e.tag:uh();return Vi(c,f,l)}}}),D0=dS;function _S(e){return yt(e)&&!He(e[0])}function fh(e,t,r,i){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),He(e.format)?o.key=e.format:_t(e.format)&&(He(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((m,b)=>r.includes(b)?Wt({},m,{[b]:e.format[b]}):m,{}));const l=i(e.value,o,a);let f=[o.key];yt(l)?f=l.map((m,b)=>{const A=s[m.type],E=A?A({[m.type]:m.value,index:b,parts:l}):[m.value];return _S(E)&&(E[0].key="".concat(m.type,"-").concat(b)),E}):He(l)&&(f=[l]);const c=Wt({},n),d=He(e.tag)||_t(e.tag)?e.tag:uh();return Vi(d,c,f)}}const mS=Zi({name:"i18n-n",props:Wt({value:{type:Number,required:!0},format:{type:[String,Object]}},dc),setup(e,t){const r=e.i18n||_c({useScope:"parent",__useComponent:!0});return fh(e,t,nh,(...i)=>r[Cl](...i))}}),B0=mS,pS=Zi({name:"i18n-d",props:Wt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},dc),setup(e,t){const r=e.i18n||_c({useScope:"parent",__useComponent:!0});return fh(e,t,rh,(...i)=>r[Tl](...i))}}),$0=pS;function vS(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const i=r.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function gS(e){const t=o=>{const{instance:a,modifiers:l,value:f}=o;if(!a||!a.$)throw Ht(Pt.UNEXPECTED_ERROR);const c=vS(e,a.$),d=H0(f);return[Reflect.apply(c.t,c,[...z0(d)]),c]};return{created:(o,a)=>{const[l,f]=t(a);bl&&e.global===f&&(o.__i18nWatcher=_i(f.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=f,o.textContent=l},unmounted:o=>{bl&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,f=H0(a);o.textContent=Reflect.apply(l.t,l,[...z0(f)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function H0(e){if(He(e))return{path:e};if(et(e)){if(!("path"in e))throw Ht(Pt.REQUIRED_VALUE,"path");return e}else throw Ht(Pt.INVALID_VALUE)}function z0(e){const{path:t,locale:r,args:i,choice:s,plural:n}=e,o={},a=i||{};return He(r)&&(o.locale=r),$t(s)&&(o.plural=s),$t(n)&&(o.plural=n),[t,a,o]}function bS(e,t,...r){const i=et(r[0])?r[0]:{},s=!!i.useI18nComponentName;(at(i.globalInstall)?i.globalInstall:!0)&&([s?"i18n":D0.name,"I18nT"].forEach(o=>e.component(o,D0)),[B0.name,"I18nN"].forEach(o=>e.component(o,B0)),[$0.name,"I18nD"].forEach(o=>e.component(o,$0))),e.directive("t",gS(t))}function yS(e,t,r){return{beforeCreate(){const i=Os();if(!i)throw Ht(Pt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=q0(e,n);else{n.__injectWithOption=!0,n.__extender=r.__vueI18nExtend,this.$i18n=kl(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=q0(e,s);else{this.$i18n=kl({__i18n:s.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&ch(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Os();if(!i)throw Ht(Pt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),r.__deleteInstance(i),delete this.$i18n}}}function q0(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ah](t.pluralizationRules||e.pluralizationRules);const r=ro(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(i=>e.mergeLocaleMessage(i,r[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const ES=jn("global-vue-i18n");function SS(e={},t){const r=__VUE_I18N_LEGACY_API__&&at(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=at(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,n=new Map,[o,a]=wS(e,r),l=jn("");function f(m){return n.get(m)||null}function c(m,b){n.set(m,b)}function d(m){n.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return s},async install(b,...A){if(b.__VUE_I18N_SYMBOL__=l,b.provide(b.__VUE_I18N_SYMBOL__,m),et(A[0])){const p=A[0];m.__composerExtend=p.__composerExtend,m.__vueI18nExtend=p.__vueI18nExtend}let E=null;!r&&i&&(E=OS(b,m.global)),__VUE_I18N_FULL_INSTALL__&&bS(b,m,...A),__VUE_I18N_LEGACY_API__&&r&&b.mixin(yS(a,a.__composer,m));const R=b.unmount;b.unmount=()=>{E&&E(),m.dispose(),R()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:f,__setInstance:c,__deleteInstance:d};return m}}function _c(e={}){const t=Os();if(t==null)throw Ht(Pt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ht(Pt.NOT_INSTALLED);const r=xS(t),i=TS(r),s=lh(t),n=AS(e,s);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw Ht(Pt.NOT_AVAILABLE_IN_LEGACY_MODE);return IS(t,n,i,e)}if(n==="global")return ch(i,e,s),i;if(n==="parent"){let l=CS(r,t,e.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(t);if(a==null){const l=Wt({},e);"__i18n"in s&&(l.__i18n=s.__i18n),i&&(l.__root=i),a=hc(l),o.__composerExtend&&(a[Rl]=o.__composerExtend(a)),kS(o,t,a),o.__setInstance(t,a)}return a}function wS(e,t,r){const i=Th();{const s=__VUE_I18N_LEGACY_API__&&t?i.run(()=>kl(e)):i.run(()=>hc(e));if(s==null)throw Ht(Pt.UNEXPECTED_ERROR);return[i,s]}}function xS(e){{const t=fn(e.isCE?ES:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ht(e.isCE?Pt.NOT_INSTALLED_WITH_PROVIDE:Pt.UNEXPECTED_ERROR);return t}}function AS(e,t){return eo(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function TS(e){return e.mode==="composition"?e.global:e.global.__composer}function CS(e,t,r=!1){let i=null;const s=t.root;let n=RS(t,r);for(;n!=null;){const o=e;if(e.mode==="composition")i=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(i=a.__composer,r&&i&&!i[oh]&&(i=null))}if(i!=null||s===n)break;n=n.parent}return i}function RS(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function kS(e,t,r){Mf(()=>{},t),ql(()=>{const i=r;e.__deleteInstance(t);const s=i[Rl];s&&(s(),delete i[Rl])},t)}function IS(e,t,r,i={}){const s=t==="local",n=_f(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Ht(Pt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=at(i.inheritLocale)?i.inheritLocale:!He(i.locale),a=Qr(!s||o?r.locale.value:He(i.locale)?i.locale:Yi),l=Qr(!s||o?r.fallbackLocale.value:He(i.fallbackLocale)||yt(i.fallbackLocale)||et(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),f=Qr(ro(a.value,i)),c=Qr(et(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=Qr(et(i.numberFormats)?i.numberFormats:{[a.value]:{}}),m=s?r.missingWarn:at(i.missingWarn)||Un(i.missingWarn)?i.missingWarn:!0,b=s?r.fallbackWarn:at(i.fallbackWarn)||Un(i.fallbackWarn)?i.fallbackWarn:!0,A=s?r.fallbackRoot:at(i.fallbackRoot)?i.fallbackRoot:!0,E=!!i.fallbackFormat,R=kt(i.missing)?i.missing:null,p=kt(i.postTranslation)?i.postTranslation:null,v=s?r.warnHtmlMessage:at(i.warnHtmlMessage)?i.warnHtmlMessage:!0,S=!!i.escapeParameter,x=s?r.modifiers:et(i.modifiers)?i.modifiers:{},_=i.pluralRules||s&&r.pluralRules;function C(){return[a.value,l.value,f.value,c.value,d.value]}const O=Ot({get:()=>n.value?n.value.locale.value:a.value,set:u=>{n.value&&(n.value.locale.value=u),a.value=u}}),N=Ot({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:u=>{n.value&&(n.value.fallbackLocale.value=u),l.value=u}}),k=Ot(()=>n.value?n.value.messages.value:f.value),B=Ot(()=>c.value),te=Ot(()=>d.value);function F(){return n.value?n.value.getPostTranslationHandler():p}function T(u){n.value&&n.value.setPostTranslationHandler(u)}function h(){return n.value?n.value.getMissingHandler():R}function H(u){n.value&&n.value.setMissingHandler(u)}function Q(u){return C(),u()}function W(...u){return n.value?Q(()=>Reflect.apply(n.value.t,null,[...u])):Q(()=>"")}function K(...u){return n.value?Reflect.apply(n.value.rt,null,[...u]):""}function Z(...u){return n.value?Q(()=>Reflect.apply(n.value.d,null,[...u])):Q(()=>"")}function ee(...u){return n.value?Q(()=>Reflect.apply(n.value.n,null,[...u])):Q(()=>"")}function z(u){return n.value?n.value.tm(u):{}}function y(u,D){return n.value?n.value.te(u,D):!1}function M(u){return n.value?n.value.getLocaleMessage(u):{}}function w(u,D){n.value&&(n.value.setLocaleMessage(u,D),f.value[u]=D)}function P(u,D){n.value&&n.value.mergeLocaleMessage(u,D)}function ae(u){return n.value?n.value.getDateTimeFormat(u):{}}function J(u,D){n.value&&(n.value.setDateTimeFormat(u,D),c.value[u]=D)}function re(u,D){n.value&&n.value.mergeDateTimeFormat(u,D)}function V(u){return n.value?n.value.getNumberFormat(u):{}}function ue(u,D){n.value&&(n.value.setNumberFormat(u,D),d.value[u]=D)}function _e(u,D){n.value&&n.value.mergeNumberFormat(u,D)}const Y={get id(){return n.value?n.value.id:-1},locale:O,fallbackLocale:N,messages:k,datetimeFormats:B,numberFormats:te,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(u){n.value&&(n.value.inheritLocale=u)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(f.value)},get modifiers(){return n.value?n.value.modifiers:x},get pluralRules(){return n.value?n.value.pluralRules:_},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:m},set missingWarn(u){n.value&&(n.value.missingWarn=u)},get fallbackWarn(){return n.value?n.value.fallbackWarn:b},set fallbackWarn(u){n.value&&(n.value.missingWarn=u)},get fallbackRoot(){return n.value?n.value.fallbackRoot:A},set fallbackRoot(u){n.value&&(n.value.fallbackRoot=u)},get fallbackFormat(){return n.value?n.value.fallbackFormat:E},set fallbackFormat(u){n.value&&(n.value.fallbackFormat=u)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:v},set warnHtmlMessage(u){n.value&&(n.value.warnHtmlMessage=u)},get escapeParameter(){return n.value?n.value.escapeParameter:S},set escapeParameter(u){n.value&&(n.value.escapeParameter=u)},t:W,getPostTranslationHandler:F,setPostTranslationHandler:T,getMissingHandler:h,setMissingHandler:H,rt:K,d:Z,n:ee,tm:z,te:y,getLocaleMessage:M,setLocaleMessage:w,mergeLocaleMessage:P,getDateTimeFormat:ae,setDateTimeFormat:J,mergeDateTimeFormat:re,getNumberFormat:V,setNumberFormat:ue,mergeNumberFormat:_e};function L(u){u.locale.value=a.value,u.fallbackLocale.value=l.value,Object.keys(f.value).forEach(D=>{u.mergeLocaleMessage(D,f.value[D])}),Object.keys(c.value).forEach(D=>{u.mergeDateTimeFormat(D,c.value[D])}),Object.keys(d.value).forEach(D=>{u.mergeNumberFormat(D,d.value[D])}),u.escapeParameter=S,u.fallbackFormat=E,u.fallbackRoot=A,u.fallbackWarn=b,u.missingWarn=m,u.warnHtmlMessage=v}return If(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Ht(Pt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const u=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=u.locale.value,l.value=u.fallbackLocale.value,f.value=u.messages.value,c.value=u.datetimeFormats.value,d.value=u.numberFormats.value):s&&L(u)}),Y}const MS=["locale","fallbackLocale","availableLocales"],V0=["t","rt","d","n","tm","te"];function OS(e,t){const r=Object.create(null);return MS.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw Ht(Pt.UNEXPECTED_ERROR);const o=jt(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(r,s,o)}),e.config.globalProperties.$i18n=r,V0.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw Ht(Pt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,"$".concat(s),n)}),()=>{delete e.config.globalProperties.$i18n,V0.forEach(s=>{delete e.config.globalProperties["$".concat(s)]})}}lS();__INTLIFY_JIT_COMPILATION__?E0(rS):E0(tS);GE(IE);QE(j1);if(__INTLIFY_PROD_DEVTOOLS__){const e=bn();e.__INTLIFY__=!0,$E(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const LS="<strong>Digiflashcards</strong> allows you to create multimedia and interactive <strong>flashcards</strong>.",NS="I would like to support this project .",PS="Source code",FS="Language changed.",DS="Create a set of flashcards",BS="New set of flashcards",$S="Name of the set of flashcards",HS="Secret question",zS="Secret answer",qS="Secret answer (for later editing)",VS="Create",US="Error while communicating with the server.",jS='Please fill in the field "Name of the set of flashcards".',WS="Please select a secret question.",XS='Please fill in the field "Secret answer".',YS="What is my favorite word?",GS="What is my favorite movie?",QS="What is my favorite song?",KS="What is my mother's first name?",ZS="What is my father's first name?",JS="What is the name of my street?",e9="What is the name of my employer?",t9="What is the name of my pet?",r9="Home",n9="Delete",i9="No flashcards at the moment.",s9="A set of flashcards created with <span>Digiflashcards by La Digitale</span>",a9="Link and QR code:",o9="Copy the link",l9="Show QR code",c9="Embed code:",u9="Copy the embed code",f9="Add",h9="Edit",d9="Unlock this set",_9="Validate",m9="Settings of the set",p9="Change the name of the set",v9="Change the access to the set",g9="Delete the set",b9="End editing session",y9="New name",E9="Current secret question",S9="Current secret answer",w9="New secret question",x9="New secret answer",A9="Do you really want to delete this set and all its contents?",T9="Do you really want to delete this flashcard?",C9="You are not authorized to do this action.",R9="Please select your current secret question.",k9="Please indicate your current secret answer.",I9="Please select a new secret question.",M9="Please enter a new secret answer.",O9="No",L9="Yes",N9="QR code",P9="Link copied in the clipboard.",F9="Embed code copied in the clipboard.",D9="Name changed.",B9="Access changed.",$9="Session ended.",H9='Please fill in the "New name" field.',z9="The question and the secret answer are not correct.",q9="Set unlocked.",V9="Export the set",U9="Import a set",j9="Set imported.",W9="Set exported.",X9="Select a .zip file",Y9="Add a picture",G9="Term",Q9="Definition",K9="Add a card",Z9="Flashcard deleted.",J9="Show picture",e7="Error while uploading the file.",t7="The maximum size allowed is {taille} Mb.",r7="Learner view",n7="Close",i7="Write the corresponding term.",s7="Add audio",a7="Show audio",o7="Record audio",l7="Select a .mp3 file",c7="or",u7="Cancel",f7="Audio recording",h7="Your microphone does not have the necessary permissions to start recording.",d7="No audio input has been detected on your device.",_7="This file format is not valid.",m7="Import .csv",p7="Download template",v7="Flashcards imported.",g7="Flashcards shuffled.",b7="Flashcards reversed.",y7="Transcoding in mp3, please wait",E7="This browser is not supported.",S7="Show next flashcard",w7="Show previous flashcard",x7="Show next question",A7="Show previous question",T7="Shuffle flashcards",C7="Reserve flashcards",R7="Enter fullscreen",k7="Exit fulscreen",I7="Reset",M7="Show score",O7="Show Flashcards",L7="Show Quiz",N7="Show Write",P7="Activate exercises",F7="Case sensitive in <i>Write</i> answers",D7="Import setting",B7="Add imported content to current content",$7="Replace the current content with the imported content",H7="Answers for <i>Quiz</i>",z7="Answer for <i>Write</i>",q7="Back to top",V7="Mark as memorized",U7="Delete from memorized flashcards",j7="Flashcard marked as memorized.",W7="Flashcard deleted from memorized flashcards.",X7="Select a .csv file",Y7={slogan:LS,soutien:NS,codeSource:PS,langueModifiee:FS,creerSerie:DS,nouvelleSerie:BS,nomSerie:$S,questionSecrete:HS,reponseSecrete:zS,reponseSecreteEdition:qS,creer:VS,erreurServeur:US,remplirTitre:jS,selectionnerQuestionSecrete:WS,remplirReponseSecrete:XS,motPrefere:YS,filmPrefere:GS,chansonPreferee:QS,prenomMere:KS,prenomPere:ZS,nomRue:JS,nomEmployeur:e9,nomAnimal:t9,accueil:r9,supprimer:n9,aucuneCarte:i9,credits:s9,lienEtCodeQR:a9,copierLien:o9,afficherCodeQR:l9,codeIntegration:c9,copierCode:u9,ajouter:f9,modifier:h9,debloquerSerie:d9,valider:_9,parametresSerie:m9,modifierNomSerie:p9,modifierAccesSerie:v9,supprimerSerie:g9,terminerSession:b9,nouveauNom:y9,questionSecreteActuelle:E9,reponseSecreteActuelle:S9,nouvelleQuestionSecrete:w9,nouvelleReponseSecrete:x9,confirmationSupprimerSerie:A9,confirmationSupprimerCarte:T9,actionNonAutorisee:C9,selectionnerQuestionSecreteActuelle:R9,indiquerReponseSecreteActuelle:k9,selectionnerNouvelleQuestionSecrete:I9,indiquerNouvelleReponseSecrete:M9,non:O9,oui:L9,codeQR:N9,lienCopie:P9,codeCopie:F9,nomModifie:D9,accesModifie:B9,sessionTerminee:$9,remplirChampNouveauNom:H9,informationsIncorrectes:z9,serieDebloquee:q9,exporterSerie:V9,importerSerie:U9,serieImportee:j9,serieExportee:W9,selectionnerFichier:X9,ajouterImage:Y9,terme:G9,definition:Q9,ajouterCarte:K9,carteSupprimee:Z9,afficherImage:J9,erreurTeleversement:e7,tailleMax:t7,apercuApprenant:r7,fermer:n7,ecrivezTerme:i7,ajouterAudio:s7,afficherAudio:a7,enregistrerAudio:o7,selectionnerFichierMP3:l7,ou:c7,annuler:u7,enregistrementAudio:f7,erreurMicro:h7,aucuneEntreeAudio:d7,erreurFormat:_7,importerCSV:m7,telechargerModele:p7,cartesImportees:v7,cartesMelangees:g7,cartesInversees:b7,transcodage:y7,enregistrementNonSupporte:E7,afficherCartePrecedente:S7,afficherCarteSuivante:w7,afficherQuestionPrecedente:x7,afficherQuestionSuivante:A7,melangerCartes:T7,inverserCartes:C7,mettrePleinEcran:R7,sortirPleinEcran:k7,reinitialiser:I7,afficherScore:M7,afficherCartes:O7,afficherQuiz:L7,afficherEcrire:N7,optionExercices:P7,optionCasse:F7,parametreImport:D7,ajouterContenuImporte:B7,remplacerContenuImporte:$7,reponsesQuiz:H7,reponseEcrire:z7,retourHaut:q7,marquerMemorisee:V7,supprimerMemorisee:U7,carteMemorisee:j7,carteNonMemorisee:W7,selectionnerFichierCSV:X7},G7="<strong>Digiflashcards</strong> permette di creare <strong>flashcards</strong> multimediali e interattive.",Q7="Voglio supportare questo progetto .",K7="Codice sorgente",Z7="Lingua modificata.",J7="Crea un set di flashcards",ew="Nuovo set di flashcards",tw="Nome del set di flashcards",rw="Domanda segreta",nw="Risposta segreta",iw="Risposta segreta (per modifiche successive)",sw="Crea",aw="Errore di comunicazione con il server.",ow='Completa il campo "Nome del set di flashcards".',lw="Seleziona la domanda segreta.",cw='Completa il campo "Risposta segreta".',uw="Qual  la mia parola preferita?",fw="Qual  il mio film preferito?",hw="Qual  la mia canzone preferita?",dw="Qual  il nome di mia madre?",_w="Qual  il nome di mio padre?",mw="Qual  il nome della mia via?",pw="Qual  il nome del mio capo?",vw="Qual  il nome del mio animale domestico?",gw="Home",bw="Elimina",yw="Non ci sono flashcards in questo momento.",Ew="Set di flashcards create con <span>Digiflashcards by La Digitale</span>",Sw="Link e QR code:",ww="Copia il link",xw="Visualizza il QR code",Aw="Codice per incorporamento:",Tw="Copia il codice per l'incorporamento",Cw="Aggiungi",Rw="Modifica",kw="Sblocca questo set",Iw="Conferma",Mw="Opzioni del set",Ow="Cambia il nome del set",Lw="Cambia l'accesso al set",Nw="Elimina il set",Pw="Concludi la sessione di modifica",Fw="Nuovo nome",Dw="Domanda segreta attuale",Bw="Risposta segreta attuale",$w="Nuova domanda segreta",Hw="Nuova risposta segreta",zw="Vuoi eliminare il set e tutti i suoi contenuti?",qw="Vuoi eliminare questa flashcard?",Vw="Non sei autorizzato ad effettuare questa azione.",Uw="Scegli la domanda segreta attuale.",jw="Indica la risposta segreta attuale.",Ww="Seleziona la nuova domanda segreta.",Xw="Inserisci la nuova risposta segreta.",Yw="No",Gw="Si",Qw="QR code",Kw="Link copiato negli appunti.",Zw="Codice di incorporamento copiato negli appunti.",Jw="Nome modificato.",ex="Accesso modificato.",tx="Sessione terminata.",rx='Compila il campo "Nuovo nome".',nx="La domanda e la risposta segreta non sono corrette.",ix="Set sbloccato.",sx="Esporta il set",ax="Importa il set",ox="Set importato.",lx="Set esportato.",cx="Selezione un file .zip",ux="Aggiungi un'immagine",fx="Termini",hx="Definizione",dx="Aggiungi una carta",_x="Flashcard eliminata.",mx="Visualizza immagine",px="Errore nel caricamento del file.",vx="La dimensione massima permessa  {taille} Mb.",gx="Vista dello studente",bx="Chiudi",yx="Scrivi la parola corrispondente.",Ex="Aggiungi audio",Sx="Visualizza audio",wx="Registrare audio",xx="Selezione un file .mp3",Ax="o",Tx="Annullare",Cx="Registrazione audio",Rx="Il microfono non dispone delle autorizzazioni necessarie per avviare la registrazione.",kx="Non  stato rilevato alcun ingresso audio sul dispositivo.",Ix="Il formato di questo file non  valido.",Mx="Importazione .csv",Ox="Scaricare il modello",Lx="Flashcards importate.",Nx="Flashcards mescolate.",Px="Flashcards invertite.",Fx="Transcodifica in mp3, attendere prego",Dx="Il browser non  supportato.",Bx="Mostra la flashcard precedente",$x="Mostra la seguente flashcard",Hx="Mostra la domanda precedente",zx="Mostra la seguente domanda",qx="Mescolare le flashcards",Vx="Invertire le flashcards",Ux="Imposta a schermo intero",jx="Uscire a schermo intero",Wx="Reset",Xx="Mostra il punteggio",Yx="Mostra Flashcards",Gx="Mostra Quiz",Qx="Mostra Scrivere",Kx="Attivare gli esercizi",Zx="Siate sensibili alle maiuscole e minuscole nelle risposte di <i>Scrivere</i>",Jx="Parametro di importazione",eA="Aggiungere il contenuto importato al contenuto corrente",tA="Sostituire il contenuto attuale con quello importato",rA="Risposte al <i>Quiz</i>",nA="Risposta al <i>Scrivere</i>",iA="Torna all'inizio",sA="Segna come salvato",aA="Elimina dall'elenco delle flashcard memorizzate",oA="Flashcard contrassegnata come salvata.",lA="Flashcard cancellata dall'elenco delle flashcards memorizzate.",cA="Selezione un file .csv",uA={slogan:G7,soutien:Q7,codeSource:K7,langueModifiee:Z7,creerSerie:J7,nouvelleSerie:ew,nomSerie:tw,questionSecrete:rw,reponseSecrete:nw,reponseSecreteEdition:iw,creer:sw,erreurServeur:aw,remplirTitre:ow,selectionnerQuestionSecrete:lw,remplirReponseSecrete:cw,motPrefere:uw,filmPrefere:fw,chansonPreferee:hw,prenomMere:dw,prenomPere:_w,nomRue:mw,nomEmployeur:pw,nomAnimal:vw,accueil:gw,supprimer:bw,aucuneCarte:yw,credits:Ew,lienEtCodeQR:Sw,copierLien:ww,afficherCodeQR:xw,codeIntegration:Aw,copierCode:Tw,ajouter:Cw,modifier:Rw,debloquerSerie:kw,valider:Iw,parametresSerie:Mw,modifierNomSerie:Ow,modifierAccesSerie:Lw,supprimerSerie:Nw,terminerSession:Pw,nouveauNom:Fw,questionSecreteActuelle:Dw,reponseSecreteActuelle:Bw,nouvelleQuestionSecrete:$w,nouvelleReponseSecrete:Hw,confirmationSupprimerSerie:zw,confirmationSupprimerCarte:qw,actionNonAutorisee:Vw,selectionnerQuestionSecreteActuelle:Uw,indiquerReponseSecreteActuelle:jw,selectionnerNouvelleQuestionSecrete:Ww,indiquerNouvelleReponseSecrete:Xw,non:Yw,oui:Gw,codeQR:Qw,lienCopie:Kw,codeCopie:Zw,nomModifie:Jw,accesModifie:ex,sessionTerminee:tx,remplirChampNouveauNom:rx,informationsIncorrectes:nx,serieDebloquee:ix,exporterSerie:sx,importerSerie:ax,serieImportee:ox,serieExportee:lx,selectionnerFichier:cx,ajouterImage:ux,terme:fx,definition:hx,ajouterCarte:dx,carteSupprimee:_x,afficherImage:mx,erreurTeleversement:px,tailleMax:vx,apercuApprenant:gx,fermer:bx,ecrivezTerme:yx,ajouterAudio:Ex,afficherAudio:Sx,enregistrerAudio:wx,selectionnerFichierMP3:xx,ou:Ax,annuler:Tx,enregistrementAudio:Cx,erreurMicro:Rx,aucuneEntreeAudio:kx,erreurFormat:Ix,importerCSV:Mx,telechargerModele:Ox,cartesImportees:Lx,cartesMelangees:Nx,cartesInversees:Px,transcodage:Fx,enregistrementNonSupporte:Dx,afficherCartePrecedente:Bx,afficherCarteSuivante:$x,afficherQuestionPrecedente:Hx,afficherQuestionSuivante:zx,melangerCartes:qx,inverserCartes:Vx,mettrePleinEcran:Ux,sortirPleinEcran:jx,reinitialiser:Wx,afficherScore:Xx,afficherCartes:Yx,afficherQuiz:Gx,afficherEcrire:Qx,optionExercices:Kx,optionCasse:Zx,parametreImport:Jx,ajouterContenuImporte:eA,remplacerContenuImporte:tA,reponsesQuiz:rA,reponseEcrire:nA,retourHaut:iA,marquerMemorisee:sA,supprimerMemorisee:aA,carteMemorisee:oA,carteNonMemorisee:lA,selectionnerFichierCSV:cA},fA="<strong>Digiflashcards</strong> permet de crer des <strong>cartes mmos</strong> multimdias et interactives.",hA="Je souhaite apporter mon soutien .",dA="Code source",_A="Langue modifie.",mA="Crer une srie de cartes",pA="Nouvelle srie de cartes",vA="Nom de la srie de cartes",gA="Question secrte",bA="Rponse secrte",yA="Rponse secrte (pour dition ultrieure)",EA="Crer",SA="Erreur de communication avec le serveur.",wA="Veuillez remplir le champ &nbsp;Nom de la srie de cartes&nbsp;.",xA="Veuillez slectionner une question secrte.",AA="Veuillez remplir le champ &nbsp;Rponse secrte&nbsp;.",TA="Quel est mon mot prfr ?",CA="Quel est mon film prfr ?",RA="Quelle est ma chanson prfre ?",kA="Quel est le prnom de ma mre ?",IA="Quel est le prnom de mon pre ?",MA="Quel est le nom de ma rue ?",OA="Quel est le nom de mon employeur ?",LA="Quel est le nom de mon animal de compagnie ?",NA="Accueil",PA="Supprimer",FA="Aucune carte pour le moment.",DA="Une srie de cartes mmos cre avec <span>Digiflashcards by La Digitale</span>",BA="Lien et code QR :",$A="Copier le lien",HA="Afficher le code QR",zA="Code d'intgration :",qA="Copier le code d'intgration",VA="Ajouter",UA="Modifier",jA="Dbloquer cette srie",WA="Valider",XA="Paramtres de la srie",YA="Modifier le nom de cette srie",GA="Modifier l'accs  cette srie",QA="Supprimer cette srie",KA="Terminer la session d'dition",ZA="Nouveau nom",JA="Question secrte actuelle",eT="Rponse secrte actuelle",tT="Nouvelle question secrte",rT="Nouvelle rponse secrte",nT="Souhaitez-vous vraiment supprimer cette srie et tout son contenu&nbsp;?",iT="Souhaitez-vous vraiment supprimer cette carte&nbsp;?",sT="Vous n'tes pas autoris  effectuer cette action.",aT="Veuillez slectionner votre question secrte actuelle.",oT="Veuillez indiquer votre rponse secrte actuelle.",lT="Veuillez slectionner une nouvelle question secrte.",cT="Veuillez indiquer une nouvelle rponse secrte.",uT="Non",fT="Oui",hT="Code QR",dT="Lien copi dans le presse-papier.",_T="Code d'intgration copi dans le presse-papier.",mT="Nom modifi.",pT="Accs modifi.",vT="Session termine.",gT="Veuillez remplir le champ &nbsp;Nouveau nom&nbsp;.",bT="La question et la rponse secrtes ne sont pas correctes.",yT="Srie dbloque.",ET="Exporter la srie",ST="Importer une srie",wT="Srie importe.",xT="Srie exporte.",AT="Slectionner un fichier .zip",TT="Ajouter une image",CT="Terme",RT="Dfinition",kT="Ajouter une carte",IT="Carte supprime.",MT="Afficher l'image",OT="Erreur lors du tlversement du fichier.",LT="La taille maximale autorise est {taille} Mo.",NT="Vue apprenant",PT="Fermer",FT="crivez le terme correspondant.",DT="Ajouter de l'audio",BT="Afficher l'audio",$T="Enregistrer audio",HT="Slectionner un fichier .mp3",zT="ou",qT="Annuler",VT="Enregistrement audio",UT="Votre microphone ne dispose pas des autorisations ncessaires pour lancer l'enregistrement.",jT="Aucune entre audio n'a t dtecte sur votre appareil.",WT="Le format de ce fichier n'est pas valide.",XT="Importer .csv",YT="Tlcharger le modle",GT="Cartes importes.",QT="Cartes mlanges.",KT="Cartes inverses.",ZT="Transcodage en mp3, veuillez patienter",JT="Ce navigateur n'est pas pris en charge.",eC="Afficher la carte prcdente",tC="Afficher la carte suivante",rC="Afficher la question prcdente",nC="Afficher la question suivante",iC="Mlanger les cartes",sC="Inverser les cartes",aC="Mettre en plein cran",oC="Sortir du plein cran",lC="Rinitialiser",cC="Afficher le score",uC="Afficher Cartes",fC="Afficher Quiz",hC="Afficher crire",dC="Activer les exercices",_C="Prendre en compte la casse dans les rponses <i>crire</i>",mC="Paramtre d'import",pC="Ajouter le contenu import au contenu actuel",vC="Remplacer le contenu actuel par le contenu import",gC="Rponses pour <i>Quiz</i>",bC="Rponse pour <i>crire</i>",yC="Retour en haut",EC="Marquer comme mmorise",SC="Supprimer des cartes mmorises",wC="Carte marque comme mmorise.",xC="Carte supprime des cartes mmorises.",AC="Slectionner un fichier .csv",TC={slogan:fA,soutien:hA,codeSource:dA,langueModifiee:_A,creerSerie:mA,nouvelleSerie:pA,nomSerie:vA,questionSecrete:gA,reponseSecrete:bA,reponseSecreteEdition:yA,creer:EA,erreurServeur:SA,remplirTitre:wA,selectionnerQuestionSecrete:xA,remplirReponseSecrete:AA,motPrefere:TA,filmPrefere:CA,chansonPreferee:RA,prenomMere:kA,prenomPere:IA,nomRue:MA,nomEmployeur:OA,nomAnimal:LA,accueil:NA,supprimer:PA,aucuneCarte:FA,credits:DA,lienEtCodeQR:BA,copierLien:$A,afficherCodeQR:HA,codeIntegration:zA,copierCode:qA,ajouter:VA,modifier:UA,debloquerSerie:jA,valider:WA,parametresSerie:XA,modifierNomSerie:YA,modifierAccesSerie:GA,supprimerSerie:QA,terminerSession:KA,nouveauNom:ZA,questionSecreteActuelle:JA,reponseSecreteActuelle:eT,nouvelleQuestionSecrete:tT,nouvelleReponseSecrete:rT,confirmationSupprimerSerie:nT,confirmationSupprimerCarte:iT,actionNonAutorisee:sT,selectionnerQuestionSecreteActuelle:aT,indiquerReponseSecreteActuelle:oT,selectionnerNouvelleQuestionSecrete:lT,indiquerNouvelleReponseSecrete:cT,non:uT,oui:fT,codeQR:hT,lienCopie:dT,codeCopie:_T,nomModifie:mT,accesModifie:pT,sessionTerminee:vT,remplirChampNouveauNom:gT,informationsIncorrectes:bT,serieDebloquee:yT,exporterSerie:ET,importerSerie:ST,serieImportee:wT,serieExportee:xT,selectionnerFichier:AT,ajouterImage:TT,terme:CT,definition:RT,ajouterCarte:kT,carteSupprimee:IT,afficherImage:MT,erreurTeleversement:OT,tailleMax:LT,apercuApprenant:NT,fermer:PT,ecrivezTerme:FT,ajouterAudio:DT,afficherAudio:BT,enregistrerAudio:$T,selectionnerFichierMP3:HT,ou:zT,annuler:qT,enregistrementAudio:VT,erreurMicro:UT,aucuneEntreeAudio:jT,erreurFormat:WT,importerCSV:XT,telechargerModele:YT,cartesImportees:GT,cartesMelangees:QT,cartesInversees:KT,transcodage:ZT,enregistrementNonSupporte:JT,afficherCartePrecedente:eC,afficherCarteSuivante:tC,afficherQuestionPrecedente:rC,afficherQuestionSuivante:nC,melangerCartes:iC,inverserCartes:sC,mettrePleinEcran:aC,sortirPleinEcran:oC,reinitialiser:lC,afficherScore:cC,afficherCartes:uC,afficherQuiz:fC,afficherEcrire:hC,optionExercices:dC,optionCasse:_C,parametreImport:mC,ajouterContenuImporte:pC,remplacerContenuImporte:vC,reponsesQuiz:gC,reponseEcrire:bC,retourHaut:yC,marquerMemorisee:EC,supprimerMemorisee:SC,carteMemorisee:wC,carteNonMemorisee:xC,selectionnerFichierCSV:AC},CC={en:Y7,it:uA,fr:TC},RC=SS({locale:"fr",fallbackLocale:"fr",messages:CC});A_(D_).use($y).use(RC).mount("#app");
